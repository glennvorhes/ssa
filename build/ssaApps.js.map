{"version":3,"sources":["webpack:///webpack/bootstrap 4380c14133129ca300e7","webpack:///../../src/util/provide.ts","webpack:///external \"$\"","webpack:///external \"ol\"","webpack:///../../src/olHelpers/mapPopup.ts","webpack:///../../src/util/makeGuid.ts","webpack:///../../src/olHelpers/projections.ts","webpack:///./src/ajaxGetters.ts","webpack:///./src/constants.ts","webpack:///./src/layerStyles.ts","webpack:///../../src/layers/LayerBaseVectorGeoJson.ts","webpack:///./src/popup.ts","webpack:///../../src/domUtil/SelectBoxBase.ts","webpack:///../../src/olHelpers/SortedFeatures.ts","webpack:///../../src/olHelpers/extentUtil.ts","webpack:///../../src/util/objectHelpers.ts","webpack:///./src/collections/_DeficiencyBase.ts","webpack:///./src/corridor/Corridor.ts","webpack:///./src/filters/FilterBase.ts","webpack:///../../src/layers/LayerBase.ts","webpack:///../../src/olHelpers/mapInteractionBase.ts","webpack:///../../src/olHelpers/mapMove.ts","webpack:///../../src/olHelpers/quickMap.ts","webpack:///../../src/util/checkDefined.ts","webpack:///./src/app/SsaMapBase.ts","webpack:///./src/corridor/CorridorConfig.ts","webpack:///./src/filters/filterContollingCriteria.ts","webpack:///./src/filters/filterCrash.ts","webpack:///./src/filters/filterMmFlag.ts","webpack:///./src/app/SsaMapCreate.ts","webpack:///./src/app/SsaMapView.ts","webpack:///../../src/layers/LayerBaseVector.ts","webpack:///../../src/layers/LayerEsriMapServer.ts","webpack:///../../src/olHelpers/esriToOlStyle.ts","webpack:///../../src/olHelpers/geocode.ts","webpack:///../../src/olHelpers/mapMoveCls.ts","webpack:///../../src/olHelpers/mapPopupCls.ts","webpack:///../../src/olHelpers/quickMapBase.ts","webpack:///../../src/olHelpers/zoomResolutionConvert.ts","webpack:///../../src/util/colors.ts","webpack:///../../src/util/get_browser.ts","webpack:///./src/collections/CorridorCollection.ts","webpack:///./src/collections/Deficiency.ts","webpack:///./src/collections/PickerCollection.ts","webpack:///./src/collections/controllingCriteria.ts","webpack:///./src/collections/crashData.ts","webpack:///./src/collections/mmFlags.ts","webpack:///./src/countyLookup.ts","webpack:///./src/selectBox/SegmentPicker.ts","webpack:///./src/selectBox/SelectCounty.ts","webpack:///./src/selectBox/SelectHighway.ts","webpack:///./src/app/ssaApps.ts"],"names":[],"mappings":"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","file":"ssaApps.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4380c14133129ca300e7","/**\r\n * Created by gavorhes on 12/10/2015.\r\n */\r\n\r\ndeclare const window: Window;\r\n/**\r\n * create a namespace on the gv object\r\n * @param {string} namespace to create\r\n * @returns {object} object representing the namespace\r\n */\r\nfunction provide(namespace: string){\r\n    \"use strict\";\r\n    if (typeof (<any>window).gv == 'undefined'){\r\n        (<any>window).gv = {};\r\n    }\r\n\r\n    let parts = namespace.split('.');\r\n    let nameSpace = (<any>window).gv;\r\n\r\n    for (let i=0; i< parts.length; i++){\r\n        let newObject = nameSpace[parts[i]];\r\n\r\n        if (typeof newObject == 'undefined'){\r\n            nameSpace[parts[i]] = {};\r\n        }\r\n\r\n        nameSpace = nameSpace[parts[i]];\r\n    }\r\n\r\n    return nameSpace;\r\n}\r\n\r\nprovide('util');\r\n(<any>window).gv.util.provide = provide;\r\n\r\nexport default provide;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/util/provide.ts","module.exports = $;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"$\"\n// module id = 1\n// module chunks = 0","module.exports = ol;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ol\"\n// module id = 2\n// module chunks = 0","/**\r\n * Created by gavorhes on 11/3/2015.\r\n */\r\n\r\nimport MapPopupCls from './mapPopupCls';\r\n\r\n/**\r\n * The single popup object catch is that it is common to multimap pages\r\n * @type {MapPopupCls}\r\n */\r\nexport const mapPopup = new MapPopupCls() as MapPopupCls;\r\nexport default mapPopup;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/mapPopup.ts","/**\r\n * Created by gavorhes on 11/3/2015.\r\n */\r\n\r\nimport provide from './provide';\r\nlet nm = provide('util');\r\n\r\n\r\n/**\r\n * guids are used to uniquely identify groups and features\r\n * @returns {string} a new guid\r\n */\r\nexport function makeGuid() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\r\n            .replace(/[xy]/g, function (c) {\r\n                let r = Math.random() * 16 | 0, v = c == 'x' ? r : r & 0x3 | 0x8;\r\n\r\n                return v.toString(16);\r\n            });\r\n\r\n}\r\nnm.makeGuid = makeGuid;\r\nexport default makeGuid;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/util/makeGuid.ts","/**\r\n * Created by gavorhes on 10/3/2016.\r\n */\r\nimport ol = require('custom-ol');\r\n\r\n\r\nexport const proj4326 = new ol.proj.Projection({code: 'EPSG:4326'});\r\nexport const proj3857 = new ol.proj.Projection({code: 'EPSG:3857'});\r\nexport const proj3070 = new ol.proj.Projection({code: 'EPSG:3070'});\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/projections.ts","/**\r\n * Created by gavorhes on 5/12/2016.\r\n */\r\n\r\n\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nimport $ = require('jquery');\r\n\r\nlet home = $('#site-root').val();\r\n\r\nif (window.location.port == '5001'){\r\n    home ='http://localhost:5004/'\r\n}\r\n\r\nconst getStartCountiesUrl = home + 'getStartCounties';\r\nconst getHighwaysUrl = home + 'getHighways';\r\nconst getEndCountiesUrl = home + 'getEndCounties';\r\nconst getSegmentsUrl = home + 'getSegments';\r\nconst getCorridorUrl = home + 'getCorridor';\r\nconst getCrashesUrl = home + 'getCrashes';\r\nconst getAllCountiesUrl = home + 'getAllCounties';\r\nconst getAllHighwaysForStartEndCountyUrl = home + 'getAllHighwaysForStartEndCounty';\r\nconst getCcGeomUrl = home + 'getCcGeom';\r\nconst nm = provide('ssa');\r\n\r\n\r\nexport interface ajaxCallback{\r\n    (inObject) : any\r\n}\r\n\r\n\r\n/**\r\n * inner function to help ajax\r\n * @param {string} url - resource url\r\n * @param {object} [params={}] - get params\r\n * @param {ajaxCallback} callback - callback function\r\n */\r\nfunction _ajaxInner(url, params, callback) {\r\n    \"use strict\";\r\n    $.get(url, params, callback, 'json').fail(() => {\r\n        let msg = \"error getting: \" + url + JSON.stringify(params);\r\n        console.warn(msg);\r\n    });\r\n}\r\n\r\n/**\r\n * outer function to help ajax\r\n * @param {string} url - resource url\r\n * @param {ajaxCallback} callback - callback function\r\n * @param {object} [params={}] get params\r\n * @param {ajaxCallback} [calbackHelper=undefined] - callback helper\r\n */\r\nfunction _ajaxHelper(url: string, callback: ajaxCallback, params:Object = {}, calbackHelper? : ajaxCallback) {\r\n    \"use strict\";\r\n\r\n    params[(Math.random() * 1000000).toFixed()] = (Math.random() * 1000000).toFixed();\r\n\r\n    if (typeof calbackHelper == 'function') {\r\n        let newCallback = function (d) {\r\n            d = calbackHelper(d);\r\n            callback(d);\r\n        };\r\n        _ajaxInner(url, params, newCallback);\r\n    } else {\r\n        _ajaxInner(url, params, callback);\r\n    }\r\n}\r\n\r\n/**\r\n * sort function for counties\r\n * @param {Array<object>} d - county object\r\n * @returns {Array<object>} sorted array of county key val pair objects\r\n */\r\nlet _countySort = (d) => {\r\n    d.sort((a, b) => {\r\n        if (a['name'] == b['name']) {\r\n            return 0;\r\n        } else {\r\n            return a['name'] < b['name'] ? -1 : 1;\r\n        }\r\n    });\r\n    \r\n    return d;\r\n};\r\n\r\n\r\n\r\n/**\r\n * static methods to make ajax requests\r\n */\r\nexport class AjaxGetters {\r\n\r\n    /**\r\n     * Do not instantiate this class - only static methods\r\n     */\r\n    constructor(){\r\n        throw 'this class should not be instantiated';\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * @static\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getStartCounties(callback: ajaxCallback) {\r\n        \"use strict\";\r\n\r\n        _ajaxHelper(getStartCountiesUrl, callback, {}, _countySort);\r\n    }\r\n\r\n    /**\r\n     * Get the highways based on the start county\r\n     * @param {number} startCountyId - start county id\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getHighways(startCountyId: number, callback: ajaxCallback) {\r\n        \"use strict\";\r\n        let params = {\"startCountyId\": startCountyId};\r\n\r\n        _ajaxHelper(getHighwaysUrl, callback, params);\r\n    }\r\n\r\n\r\n    /**\r\n     * Get the highways based on the start county\r\n     * @param {string} highwayName - highway name\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getEndCounties(highwayName: string, callback: ajaxCallback) {\r\n        \"use strict\";\r\n        let params = {\"highwayName\": highwayName};\r\n\r\n        _ajaxHelper(getEndCountiesUrl, callback, params, _countySort);\r\n    }\r\n\r\n\r\n    /**\r\n     * get the segments based on county and route id\r\n     * @param {number} county - county id\r\n     * @param {number} routeId - route id\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getSegments(county: number, routeId: string|number, callback: ajaxCallback) {\r\n        \"use strict\";\r\n\r\n        let routeIdNum;\r\n        if (typeof routeId == 'string') {\r\n            routeIdNum = parseInt(routeId as string);\r\n        } else {\r\n            routeIdNum = routeId;\r\n        }\r\n\r\n        let params = {\"routeid\": routeIdNum, \"county\": county};\r\n\r\n        let $mm = $('#hidden-mm-version');\r\n\r\n        if ($mm.length > 0){\r\n            params['mm'] = $mm.val();\r\n        }\r\n\r\n\r\n        _ajaxHelper(getSegmentsUrl, callback, params);\r\n    }\r\n\r\n\r\n    /**\r\n     * get corridor based on start and end pdp id\r\n     * @param {number} startPdp - start pdp id\r\n     * @param {number} endPdp - end pdp id\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getCorridor(startPdp: number, endPdp: number,  callback: ajaxCallback) {\r\n        \"use strict\";\r\n        let params = {\"from\": startPdp, \"to\": endPdp};\r\n\r\n        let $mm = $('#hidden-mm-version');\r\n\r\n        if ($mm.length > 0){\r\n            params['mm'] = $mm.val();\r\n        }\r\n\r\n        _ajaxHelper(getCorridorUrl, callback, params);\r\n    }\r\n\r\n\r\n    /**\r\n     * Get the crash data\r\n     * @param {number} ssaId\r\n     * @param {number} snapshot\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getCrashes(ssaId: number, snapshot: number, callback: ajaxCallback){\r\n        \"use strict\";\r\n\r\n        let params = {\r\n            'ssaId': ssaId,\r\n            'snapshot': snapshot\r\n        };\r\n\r\n        _ajaxHelper(getCrashesUrl, callback, params);\r\n    }\r\n\r\n    /**\r\n     * Get all counties as an array\r\n     * @param {ajaxCallback} callback - callback function\r\n     */\r\n    public static getAllCounties(callback: ajaxCallback) {\r\n        \"use strict\";\r\n        let params = {};\r\n\r\n        _ajaxHelper(getAllCountiesUrl, callback, params);\r\n    }\r\n\r\n\r\n    /**\r\n     * Get highways based on start and end counties\r\n     * @param {number} startCountyId - start county id\r\n     * @param {number} endCountyId - end county id\r\n     * @param {ajaxCallback} callback - callback function\r\n     *\r\n     */\r\n    public static getHwyByStartEndCounty(startCountyId: number, endCountyId: number, callback: ajaxCallback) {\r\n        \"use strict\";\r\n\r\n        let params = {\r\n            'startCountyId': startCountyId,\r\n            'endCountyId': endCountyId\r\n        };\r\n\r\n        _ajaxHelper(getAllHighwaysForStartEndCountyUrl, callback, params);\r\n    }\r\n\r\n    public static getCcGeom(ssaId: number, snapshot: number, callback: ajaxCallback){\r\n        \"use strict\";\r\n\r\n        let params = {\r\n            'ssaId': ssaId,\r\n            'snapshot': snapshot\r\n        };\r\n\r\n        _ajaxHelper(getCcGeomUrl, callback, params);\r\n    }\r\n}\r\n\r\nexport default AjaxGetters;\r\nnm.AjaxGetters = AjaxGetters;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ajaxGetters.ts","/**\r\n * Created by gavorhes on 8/17/2016.\r\n */\r\n\r\n\r\nexport const mmFlagListId = 'mm-deficiency-list';\r\nexport const ccListId = 'cc-deficiency-list';\r\nexport const pdpDataAttr = 'data-pdp-id';\r\nexport const mmFlagColor = '#00FF00';\r\nexport const controllingCriteriaColor = '#FFC632';\r\n\r\n// export const contollingCriteriaLookup = {\r\n//     'ccDesignSpeed': 'Design Speed',\r\n//     'Grade': 'Grade',\r\n//     'Lane Width': 'Lane Width',\r\n//     'Stopping Sight Distance': 'Stopping Sight Distance',\r\n//     'Shoulder Width': 'Shoulder Width',\r\n//     'Pavement Cross Slope': 'Pavement Cross Slope',\r\n//     'Horizontal Alignment': 'Horizontal Alignment',\r\n//     'Vertical Clearance': 'Vertical Clearance',\r\n//     'Superelevation': 'Superelevation',\r\n//     'Structural Capacity': 'Structural Capacity'\r\n// };\r\n\r\nexport const propNames = ['ccDesignSpeed', 'ccLaneWidth', 'ccShoulderWidth', 'ccHorizontalCurve', 'ccSuperelevation',\r\n        'ccMaximumGrade', 'ccStoppingSight', 'ccCrossSlope', 'ccVerticalClearance', 'ccDesignLoading'];\r\n\r\nexport const propValues = ['Design Speed', 'Lane Width', 'Shoulder Width', 'Horizontal Alignment', 'Superelevation',\r\n        'Grade', 'Stopping Sight Distance', 'Pavement Cross Slope', 'Vertical Clearance', 'Structural Capacity'];\r\n\r\nexport const controllingCriteriaProps = {};\r\n\r\n\r\nfor (let i = 0; i < propNames.length; i++){\r\n    controllingCriteriaProps[propNames[i]] = propValues[i];\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.ts","/**\r\n * Created by gavorhes on 5/13/2016.\r\n */\r\n\r\nimport ol = require('custom-ol');\r\n\r\nimport {proj3857} from \"webmapsjs/dist/olHelpers/projections\";\r\nimport {LayerBaseVectorGeoJsonOptions} from 'webmapsjs/dist/layers/LayerBaseVectorGeoJson';\r\nimport filterCrash from './filters/filterCrash';\r\nimport * as colorUtil from 'webmapsjs/dist/util/colors';\r\n\r\n\r\n\r\nexport const segmentLayer = new ol.style.Style({\r\n    stroke: new ol.style.Stroke({color: 'darkblue', width: 5})\r\n});\r\n\r\nexport const fromSelectionColor = '#48FD14';\r\nexport const toSelectionColor = '#EE0071';\r\nexport const corridorPreviewColor = 'black';\r\n\r\n/**\r\n *\r\n * @type {Array<string>}\r\n */\r\nlet returnedColors = [];\r\nlet colorOptions = ['#FF00FF', '#7FFF00', '#FA8072',\r\n    '#FF6347', '#40E0D0', '#ADFF2F', '#6495ED',\r\n    '#FF8C00', '#7FFFD4', '#DA70D6'];\r\n\r\n/**\r\n * return a random color for styling\r\n * @returns {string}\r\n */\r\nexport function randomColor(): string {\r\n    \"use strict\";\r\n    if (returnedColors.length == colorOptions.length) {\r\n        returnedColors = [];\r\n    }\r\n    while (true) {\r\n        let c = colorOptions[Math.floor(Math.random() * colorOptions.length)];\r\n        if (returnedColors.indexOf(c) < 0) {\r\n            returnedColors.push(c);\r\n\r\n            return c;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param name\r\n * @param color\r\n * @param visible\r\n * @returns {{minZoom: number, name: *, transform: {dataProjection: string, featureProjection: string}, style: ol.style.Style, visible: *}}\r\n */\r\nexport function layerConfigHelper(name: string, color: string, visible: boolean): LayerBaseVectorGeoJsonOptions{\r\n    \"use strict\";\r\n    return {\r\n        minZoom: 4,\r\n        name: name,\r\n        transform: {dataProjection: proj3857, featureProjection: proj3857},\r\n        style: new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: color,\r\n                width: 6\r\n            })\r\n        }),\r\n        visible: visible\r\n    };\r\n}\r\n\r\n\r\nexport const segNodeStyle = new ol.style.Style({\r\n    image: new ol.style.RegularShape({\r\n        radius: 6,\r\n        points: 4,\r\n        fill: new ol.style.Fill({\r\n            color: 'rgb(0, 0, 0)'\r\n        }),\r\n        stroke: new ol.style.Stroke({color: 'rgb(0, 0, 0', width: 2})\r\n    })\r\n});\r\n\r\n\r\n/**\r\n *\r\n * @param  feature - the input feature\r\n * @returns return style or null\r\n */\r\nexport const crashPointStyle = (feature: ol.Feature): ol.style.Style[] => {\r\n    \"use strict\";\r\n\r\n    let props = feature.getProperties();\r\n\r\n    let crashColor = filterCrash.getCrashColor(props['injSvr']);\r\n    if (!crashColor) {\r\n        return null;\r\n    }\r\n\r\n    let crashColorFill = colorUtil.rgbToRgba(crashColor, 0.9);\r\n\r\n    return [new ol.style.Style({\r\n        image: new ol.style.Circle({\r\n            radius: 6,\r\n            fill: new ol.style.Fill({\r\n                color: crashColorFill\r\n            }),\r\n            stroke: new ol.style.Stroke({color: crashColor, width: 2})\r\n        })\r\n    })];\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/layerStyles.ts","/**\r\n * Created by gavorhes on 11/2/2015.\r\n */\r\n\r\nimport {LayerBaseVector, LayerBaseVectorOptions} from './LayerBaseVector';\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\nimport {MapMoveCls} from \"../olHelpers/mapMoveCls\";\r\nimport * as proj from '../olHelpers/projections';\r\nimport {proj3857} from \"../olHelpers/projections\";\r\n\r\nlet nm = provide('layers');\r\n\r\nexport interface crsTransform {\r\n    dataProjection?: ol.proj.Projection;\r\n    featureProjection?: ol.proj.Projection;\r\n}\r\n\r\n\r\nexport interface LayerBaseVectorGeoJsonOptions extends LayerBaseVectorOptions {\r\n    transform?: crsTransform;\r\n    mapMoveObj?: MapMoveCls;\r\n}\r\n\r\n/**\r\n * The Vector GeoJson Layer\r\n * @augments LayerBaseVector\r\n */\r\nexport class LayerBaseVectorGeoJson extends LayerBaseVector {\r\n    _geoJsonFormat: ol.format.GeoJSON;\r\n    _transform: crsTransform;\r\n\r\n    /**\r\n     * @param {string|null} url - resource url, set to '' to make blank layer\r\n     * @param {object} options - config\r\n     * @param {string} [options.id] - layer id\r\n     * @param {string} [options.name=Unnamed Layer] - layer name\r\n     * @param {number} [options.opacity=1] - opacity\r\n     * @param {boolean} [options.visible=true] - default visible\r\n     * @param {number} [options.minZoom=undefined] - min zoom level, 0 - 28\r\n     * @param {number} [options.maxZoom=undefined] - max zoom level, 0 - 28\r\n     * @param {object} [options.params={}] the get parameters to include to retrieve the layer\r\n     * @param {number} [options.zIndex=0] the z index for the layer\r\n     * @param {function} [options.loadCallback] function to call on load, context this is the layer object\r\n     * @param {boolean} [options.legendCollapse=false] if the legend item should be initially collapsed\r\n     * @param {boolean} [options.legendCheckbox=true] if the legend item should have a checkbox for visibility\r\n     * @param {boolean} [options.legendContent] additional content to add to the legend\r\n     *\r\n     * @param {boolean} [options.autoLoad=false] if the layer should auto load if not visible\r\n     * @param {object} [options.style=undefined] the layer style, use openlayers default style if not defined\r\n     * @param {boolean} [options.onDemand=false] if the layer should be loaded by extent on map move\r\n     * @param {number} [options.onDemandDelay=300] delay before the map move callback should be called\r\n     *\r\n     * @param {object} [options.transform={}] SR transform, set as false for no transform\r\n     * @param {string} options.transform.dataProjection=EPSG:4326 the data CRS\r\n     * @param {string} options.transform.featureProjection=EPSG:3857 the feature/map CRS\r\n     * @param {mapMoveMakeGetParams} [options.mapMoveMakeGetParams=function(lyr, extent, zoomLevel){}] function to create additional map move params\r\n     * @param {MapMoveCls} [options.mapMoveObj=mapMove] alternate map move object for use with multi map pages\r\n     */\r\n    constructor(url?: string, options: LayerBaseVectorGeoJsonOptions = {}) {\r\n        url = typeof url == 'string' ? url : '';\r\n        super(url, options);\r\n\r\n        this._geoJsonFormat = new ol.format.GeoJSON();\r\n\r\n        this._transform = options.transform || {};\r\n        this._transform.dataProjection = this._transform.dataProjection || proj.proj4326;\r\n        this._transform.featureProjection = this._transform.featureProjection || proj3857;\r\n\r\n        if (this.autoLoad || this.visible) {\r\n            this._load();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * add feature collection\r\n     * @param {object} featureCollection - as geojson object\r\n     */\r\n    addFeatures(featureCollection: any) {\r\n        this.source.addFeatures(\r\n            this._geoJsonFormat.readFeatures(featureCollection,\r\n                {dataProjection: this._transform.dataProjection,\r\n                    featureProjection: this._transform.featureProjection}\r\n                )\r\n        );\r\n    }\r\n\r\n\r\n    /**\r\n     * trigger load features\r\n     * @protected\r\n     * @returns {boolean} if already loaded\r\n     */\r\n    _load() {\r\n\r\n        if (super._load()) {\r\n            return true;\r\n        }\r\n\r\n        $.get(this._url,\r\n            this._params,\r\n            (d) => {\r\n                this.addFeatures(d);\r\n                this.loadCallback(this);\r\n            }, 'json').fail(\r\n            function () {\r\n                this._loaded = false;\r\n            }\r\n        );\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * callback function on map move\r\n     * @param {object} d the json response\r\n     * @override\r\n     */\r\n    mapMoveCallback(d: Object) {\r\n        super.mapMoveCallback(d);\r\n        this._source.addFeatures(this._geoJsonFormat.readFeatures(d,\r\n            {featureProjection: this._transform.featureProjection, dataProjection: this._transform.dataProjection}));\r\n    }\r\n}\r\n\r\nnm.LayerBaseVectorGeoJson = LayerBaseVectorGeoJson;\r\nexport default LayerBaseVectorGeoJson;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/layers/LayerBaseVectorGeoJson.ts","/**\r\n * Created by glenn on 6/30/2017.\r\n */\r\nimport iCrashData from './collections/iCrashData';\r\nimport $ = require('jquery');\r\n\r\nconst crashReportURl = 'https://transportal.cee.wisc.edu/applications/crash-reports/retrieveCrashReport.do?doctnmbr=';\r\n\r\nlet $showCrashReport = $('#hidden-show-crash-report');\r\n\r\nlet showCrashReport = false;\r\n\r\n\r\n\r\nif ($showCrashReport){\r\n    let crashReportVal = $showCrashReport.val();\r\n\r\n    if (typeof crashReportVal == 'string' && crashReportVal.toLowerCase().trim() == 'y'){\r\n        showCrashReport = true;\r\n    }\r\n}\r\n\r\n\r\nexport const mmPopupContent = (props: Object) => {\r\n\r\n    let returnHtml = '<table class=\"mm-popup-table\">';\r\n    returnHtml += `<tr><td>PdpId</td><td>${props['pdpId']}</td></tr>`;\r\n    returnHtml += `<tr><td>Highway</td><td>${props['stdName']}</td></tr>`;\r\n    returnHtml += `<tr><td>Description</td><td>${props['rpDesc'] ? props['rpDesc'] : '-'}</td></tr>`;\r\n    returnHtml += `<tr><td>Divided</td><td>${props['divUnd']}</td></tr>`;\r\n    returnHtml += `<tr><td>From RP</td><td>${props['startRp']}</td></tr>`;\r\n    returnHtml += `<tr><td>To RP</td><td>${props['endRp']}</td></tr>`;\r\n    returnHtml += '</table>';\r\n\r\n    return returnHtml;\r\n};\r\n\r\n\r\n\r\nconst crashProps = [\r\n    'doctnmbr',\r\n    // 'multiflag',\r\n    'accDate',\r\n    'ntfyHour',\r\n    'county',\r\n    'municipality',\r\n    'munitype',\r\n    'onHwyRp',\r\n    'onHwyDir',\r\n    'onStr',\r\n    'athHwy',\r\n    'atStr',\r\n    'intDir',\r\n    'intDis',\r\n    'accdSvr',\r\n    'injSvr',\r\n    'totFatl',\r\n    'toInj',\r\n    'accdType',\r\n    'mnrColl',\r\n    'accdLoc',\r\n    'hwyClass',\r\n    'roadCond',\r\n    'wthrCond',\r\n    'consZone',\r\n    'alcFlag',\r\n    'bikeFlag',\r\n    'cyclFlag',\r\n    'pedFlag',\r\n    'totVeh',\r\n    'lon',\r\n    'lat'\r\n];\r\n\r\n\r\n\r\nfunction injColor(inj: string): string {\r\n    \"use strict\";\r\n\r\n    let color = {\r\n        'K': 'rgb(255,0,0)',\r\n        'A': 'rgb(255,165,0)',\r\n        'B': 'rgb(255,255,0)',\r\n        'C': 'rgb(153,255,153)',\r\n        'P': 'rgb(141,227,230)'\r\n    }[inj];\r\n\r\n    return color || 'rgba(255,255,255,0)';\r\n}\r\n\r\n\r\n\r\nfunction processVal(v) {\r\n    if (v == null || typeof v == 'undefined') {\r\n        return '';\r\n    } else {\r\n        return v;\r\n    }\r\n}\r\n\r\nfunction crashReportDownload(docNum: string): string {\r\n    return `<a class=\"crash-map-download\" title=\"Download Crash Report\" target=\"_blank\" href=\"${crashReportURl}${docNum}\"></a>`\r\n}\r\n\r\n\r\nexport const crashPointPopup = (props: { [s: string]: any }): string => {\r\n    let returnHtml = '<table class=\"crash-popup-table\">';\r\n\r\n    for (let i = 0; i < crashProps.length; i++) {\r\n        let p = crashProps[i];\r\n        let v = processVal(props[p]);\r\n\r\n        if (i == 0 && showCrashReport){\r\n            v = `<span style=\"margin-right: 3px\">${v}</span>${crashReportDownload(v)}`;\r\n        }\r\n\r\n        returnHtml += `<tr><td>${p}&nbsp;&nbsp;</td><td>${v}</td></tr>`;\r\n    }\r\n    returnHtml += '</table>';\r\n\r\n    return returnHtml;\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param {Array<CrashDataObject>} crashData - array of crash data\r\n * @returns {string} crash summary table html\r\n * @private\r\n */\r\nexport function crashInfoHelper(crashData: Array<iCrashData>): string {\r\n    \"use strict\";\r\n    crashData.sort(function (a, b) {\r\n        let dteA = (new Date(a['dte'] + ' ' + a['time'])).getTime();\r\n        let dteB = (new Date(b['dte'] + ' ' + b['time'])).getTime();\r\n\r\n        if (dteA == dteB) {\r\n            return 0;\r\n        } else {\r\n            return dteA > dteB ? -1 : 1;\r\n        }\r\n    });\r\n\r\n    let returnHtml = '';\r\n    returnHtml += '<ul class=\"crash-list\">';\r\n\r\n    let crashSummary = {};\r\n\r\n    for (let c of crashData) {\r\n\r\n        if (typeof crashSummary[c.injSvr] == 'undefined') {\r\n            crashSummary[c.injSvr] = 1;\r\n        } else {\r\n            crashSummary[c.injSvr]++;\r\n        }\r\n\r\n        returnHtml += `<li style=\"background-color: ${injColor(c.injSvr)};\">`;\r\n\r\n        if (showCrashReport){\r\n            returnHtml += crashReportDownload(c.doctnmbr);\r\n        }\r\n\r\n        returnHtml += c.accDate ? c.accDate : '';\r\n\r\n        if (c.mnrColl) {\r\n            returnHtml += ', ' + c.mnrColl;\r\n        }\r\n\r\n        if (c.injSvr) {\r\n            returnHtml += ', ' + c.injSvr;\r\n        }\r\n\r\n        returnHtml += '</li>';\r\n    }\r\n    returnHtml += '</ul>';\r\n\r\n    let crashType = {\r\n        'K': 'Fatal',\r\n        'A': 'Incapacitating',\r\n        'B': 'Non-incapacitating',\r\n        'C': 'Possible Injury',\r\n        'P': 'Property Damage'\r\n    };\r\n\r\n    let tableContent = '<table class=\"crash-summary-table\">';\r\n    tableContent += `<tr><th colspan=\"2\">Crash Summary</th></tr>`;\r\n    tableContent += `<tr><td>Total</td><td>${crashData.length}</td></tr>`;\r\n\r\n    if (crashData.length > 0) {\r\n        for (let k of ['K', 'A', 'B', 'C', 'P']) {\r\n            if (typeof crashSummary[k] != 'undefined') {\r\n                tableContent += `<tr><td>${crashType[k]}</td><td>${crashSummary[k]}</td></tr>`;\r\n            }\r\n        }\r\n    }\r\n\r\n    tableContent += '</table>';\r\n    returnHtml = tableContent + returnHtml;\r\n\r\n    return returnHtml;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/popup.ts","/**\r\n * Created by gavorhes on 5/13/2016.\r\n */\r\n\r\nimport makeGuid from '../util/makeGuid';\r\nimport provide from '../util/provide';\r\nconst nm = provide('domUtil');\r\n\r\nexport interface selectChangeCallback{\r\n    /**\r\n     *\r\n     * @param theValue the current select value of the select box\r\n     */\r\n    (theValue: string) : void\r\n}\r\n\r\n/**\r\n * must return in the contents <select id=\"${guid}\"></select> among other things\r\n */\r\nexport interface contentGenerator{\r\n    /**\r\n     * @param aGuid\r\n     */\r\n    (aGuid: string): string\r\n}\r\n\r\n\r\nexport class SelectBoxBase{\r\n    _$container: JQuery;\r\n    $label: JQuery;\r\n    _box: JQuery;\r\n    _changeListeners: Array<selectChangeCallback>;\r\n    /**\r\n     *\r\n     * @param {jQuery} parent - parent container\r\n     * @param {string} labelContent\r\n     * @param {contentGenerator} [contentGen=undefined]\r\n     */\r\n    constructor(parent: JQuery, labelContent: string, contentGen?: contentGenerator){\r\n        let guidTop = makeGuid();\r\n        let guid = makeGuid();\r\n\r\n        let htmlString = `<div id=\"${guidTop}\">`;\r\n        htmlString += `<label for=\"${guid}\">${labelContent}</label>`;\r\n\r\n        if (contentGen){\r\n            htmlString += contentGen(guid);\r\n        } else {\r\n            htmlString += `<select id=\"${guid}\"></select>`;\r\n        }\r\n        htmlString += '</div>';\r\n\r\n        parent.append(htmlString);\r\n\r\n        this._$container = parent.find('#' + guidTop);\r\n\r\n        this.$label = this._$container.find('label');\r\n\r\n        /**\r\n         *\r\n         * @type {Array<selectChangeCallback>}\r\n         * @private\r\n         */\r\n        this._changeListeners = [];\r\n\r\n        this._box = parent.find(`#${guid}`);\r\n        \r\n        if (!this._box){\r\n            throw 'the select box was not found';\r\n        }\r\n\r\n        this._box.change(() => {\r\n            this.changed();\r\n        })\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns {jQuery}\r\n     */\r\n    get box(){\r\n        return this._box;\r\n    }\r\n\r\n    changed(){\r\n        let v = this._box.val();\r\n        \r\n        for (let f of this._changeListeners){\r\n            f(v);\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {selectChangeCallback} func\r\n     */\r\n    addChangeListener(func: selectChangeCallback){\r\n        this._changeListeners.push(func);\r\n    }\r\n\r\n\r\n    get selectedValue(): string|number{\r\n        let theVal = this.box.val();\r\n\r\n        if (theVal == null || typeof theVal == 'undefined'){\r\n            return null;\r\n        } else if (isNaN(theVal)){\r\n            return theVal\r\n        } else {\r\n            if (theVal.indexOf('.') > -1){\r\n                return parseFloat(theVal)\r\n            } else {\r\n                return parseInt(theVal);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string|number} v\r\n     */\r\n    set selectedValue(v: string|number){\r\n        this.box.val(v);\r\n    }\r\n    \r\n    get selectedText(){\r\n        return this.box.find('option:selected').text();\r\n    }\r\n\r\n}\r\n\r\nnm.SelectBoxBase = SelectBoxBase;\r\n\r\nexport default SelectBoxBase;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/domUtil/SelectBoxBase.ts","/**\r\n * Created by gavorhes on 12/23/2015.\r\n */\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nlet nm = provide('olHelpers');\r\n\r\n/**\r\n * take an array of features and sort by a given property name\r\n */\r\nexport class SortedFeatures {\r\n    sortedFeatures: Array<ol.Feature>;\r\n    propertyName: string;\r\n    _propertyType: string;\r\n\r\n    /**\r\n     *\r\n     * @param {Array<ol.Feature>} features array of ol features\r\n     * @param {string} propertyName - the property name to use for lookup\r\n     */\r\n    constructor(features: ol.Feature[], propertyName: string) {\r\n        this.sortedFeatures = features;\r\n        this.propertyName = propertyName;\r\n\r\n        if (this.sortedFeatures.length > 0) {\r\n            this._propertyType = typeof this.sortedFeatures[0].getProperties()[this.propertyName];\r\n\r\n            let __this = this;\r\n            this.sortedFeatures.sort(function (a, b) : number {\r\n                if (__this._propertyType == 'number'){\r\n                    let aMinusB = a['getProperties']()[__this.propertyName] - b['getProperties']()[__this.propertyName];\r\n                    if (aMinusB == 0){\r\n                        return 0;\r\n                    } else {\r\n                        return aMinusB > 0 ? 1 : -1;\r\n                    }\r\n                } else if (__this._propertyType == 'string'){\r\n                    let propA = a['getProperties']()[__this.propertyName] || '';\r\n                    let propB = b['getProperties']()[__this.propertyName] || '';\r\n                    propA = propA.toString().trim();\r\n                    propB = propB.toString().trim();\r\n\r\n                    if (propA == propB){\r\n                        return 0;\r\n                    } else {\r\n                        return propA > propB ? 1 : 0;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * recursive search to find the value\r\n     * @param {number|string} propertyValue - the property value to search for\r\n     * @param {boolean} [exactMatch=false] if only an exact match should be returned\r\n     * @param {Array} [sortedFeatures=this.sortedFeatures] - the candidate features\r\n     * @returns {ol.Feature|undefined} the feature matching the lookup\r\n     */\r\n    getFeature(propertyValue: number|string, exactMatch: boolean = false, sortedFeatures? :Array<ol.Feature>): ol.Feature {\r\n        if (typeof sortedFeatures == 'undefined'){\r\n            sortedFeatures = this.sortedFeatures;\r\n        }\r\n\r\n\r\n        if (sortedFeatures.length == 0){\r\n            return undefined;\r\n        }\r\n\r\n        if (sortedFeatures.length == 1){\r\n            if (exactMatch){\r\n                if (sortedFeatures[0].getProperties()[this.propertyName] == propertyValue){\r\n                    return sortedFeatures[0];\r\n                } else {\r\n                    return undefined;\r\n                }\r\n            } else {\r\n                return sortedFeatures[0];\r\n            }\r\n        }\r\n\r\n        let lowProp = sortedFeatures[0].getProperties()[this.propertyName];\r\n        let highProp = sortedFeatures[sortedFeatures.length - 1].getProperties()[this.propertyName];\r\n\r\n        if (exactMatch){\r\n            if (lowProp == propertyValue){\r\n                return sortedFeatures[0];\r\n            } else if (propertyValue < lowProp){\r\n                return undefined;\r\n            } else if (highProp == propertyValue){\r\n                return sortedFeatures[sortedFeatures.length - 1];\r\n            } else if (propertyValue >  highProp){\r\n                return undefined;\r\n            }\r\n        } else {\r\n            if (propertyValue <= lowProp){\r\n                return sortedFeatures[0];\r\n            } else if (propertyValue >= highProp){\r\n                return sortedFeatures[sortedFeatures.length - 1];\r\n            }\r\n        }\r\n\r\n        let midIndex = Math.floor(sortedFeatures.length / 2);\r\n        let midFeature = sortedFeatures[midIndex];\r\n        let midProperty = midFeature.getProperties()[this.propertyName];\r\n\r\n        if (midProperty ===  propertyValue){\r\n            return midFeature;\r\n        }\r\n\r\n        if (propertyValue < midProperty){\r\n            return this.getFeature(propertyValue, exactMatch, sortedFeatures.slice(0, midIndex));\r\n        } else {\r\n            return this.getFeature(propertyValue, exactMatch, sortedFeatures.slice(midIndex));\r\n        }\r\n    }\r\n}\r\n\r\nnm.SortedFeatures = SortedFeatures;\r\nexport default SortedFeatures;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/SortedFeatures.ts","/**\r\n * Created by gavorhes on 7/18/2016.\r\n */\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport {LayerBaseVector} from \"../layers/LayerBaseVector\";\r\n\r\n\r\nconst nm = provide('util');\r\n\r\n/**\r\n *\r\n * @param {Array<LayerBaseVector>|Array<ol.layer.Vector>|LayerBaseVector|ol.layer.Vector|*} layers - array of layers or single\r\n * @returns {ol.Extent|Array<number>|*} - collective extent\r\n */\r\nexport function calculateExtent(layers: ol.layer.Vector[]|LayerBaseVector[]): ol.Extent|Array<number>| ol.Extent| number[] {\r\n    \"use strict\";\r\n\r\n    let hasExtent = false;\r\n\r\n    let minX = 10E100;\r\n    let minY = 10E100;\r\n    let maxX = -10E100;\r\n    let maxY = -10E100;\r\n\r\n    for (let lyr of layers) {\r\n\r\n        let olLayer: ol.layer.Vector = (lyr as LayerBaseVector).olLayer || lyr as ol.layer.Vector;\r\n        \r\n        \r\n        if (olLayer.getSource().getFeatures().length > 0) {\r\n            hasExtent = true;\r\n            let ext = olLayer.getSource().getExtent();\r\n            minX = ext[0] < minX ? ext[0] : minX;\r\n            minY = ext[1] < minY ? ext[1] : minY;\r\n            maxX = ext[2] > maxX ? ext[2] : maxX;\r\n            maxY = ext[3] > maxY ? ext[3] : maxY;\r\n        }\r\n    }\r\n\r\n    if (hasExtent) {\r\n        return [minX, minY, maxX, maxY];\r\n    } else {\r\n        return undefined;\r\n    }\r\n}\r\n\r\nnm.calculateExtent = calculateExtent;\r\n \r\n\r\n/**\r\n * given one or an array of layers, fit to the map\r\n * @param layers - array of layers or single\r\n * @param  mp - the map to fit\r\n * @param [zoomOut=undefined] - levels to zoom out after fit\r\n */\r\nexport function fitToMap(layers: ol.layer.Vector[]|LayerBaseVector[], mp: ol.Map, zoomOut?: number){\r\n    \"use strict\";\r\n\r\n    let ext = calculateExtent(layers);\r\n    \r\n    if (typeof ext == 'undefined'){\r\n        return;\r\n    }\r\n    \r\n    mp.getView().fit(ext as ol.Extent, mp.getSize());\r\n    \r\n    if (typeof zoomOut == 'number'){\r\n        mp.getView().setZoom(mp.getView().getZoom() - zoomOut);\r\n    }\r\n}\r\n\r\nnm.calculateExtent = calculateExtent;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/extentUtil.ts","/**\r\n * Created by gavorhes on 6/7/2016.\r\n */\r\n\r\nimport provide from './provide';\r\nlet nm = provide('util');\r\n\r\n\r\nexport interface keyVals {\r\n    key: string;\r\n    value: Object\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * iterate over the key value pairs of an object\r\n * @example for (let x:KeyValuePair of keyValPairs(object)){..}\r\n * @param {object} obj - the input object\r\n * @returns {Array<keyVals>} - array of key value pairs\r\n */\r\nexport function keyValPairs(obj: {[s: string]: any}): Array<keyVals> {\r\n    let outArray: Array<keyVals> = [];\r\n    for (let key of Object.keys(obj)) {\r\n        outArray.push({'key': key, 'value': obj[key]});\r\n\r\n    }\r\n    outArray.sort(function (a, b) {\r\n        \"use strict\";\r\n\r\n        return a > b ? 1 : -1;\r\n    });\r\n\r\n    return outArray;\r\n}\r\n\r\nnm.keyValPairs = keyValPairs;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/util/objectHelpers.ts","/**\r\n * Created by gavorhes on 7/15/2016.\r\n */\r\nimport LayerBaseVectorGeoJson from 'webmapsjs/dist/layers/LayerBaseVectorGeoJson';\r\nimport filterMmFlag from '../filters/filterMmFlag';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\n\r\nimport SortedFeatures from 'webmapsjs/dist/olHelpers/SortedFeatures';\r\nimport * as constants from '../constants';\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\n\r\n\r\nclass DeficiencyBase {\r\n    _map: ol.Map;\r\n    deficiencyLayer: LayerBaseVectorGeoJson;\r\n    _sortedFeatures: SortedFeatures;\r\n\r\n    $summaryList: JQuery;\r\n    _summaryListId: string;\r\n\r\n    /**\r\n     *\r\n     * @param {string} layerName - layer name\r\n     * @param {function|object} layerStyle - layer style\r\n     * @param {number} z - z index\r\n     * @param {string} summaryListId - summaryListId\r\n     */\r\n    constructor(layerName: string,\r\n                layerStyle: ol.style.Style|Array<ol.style.Style>|ol.StyleFunction,\r\n                z: number,\r\n                summaryListId: string) {\r\n        this.deficiencyLayer = new LayerBaseVectorGeoJson('', {\r\n            zIndex: z,\r\n            name: layerName\r\n        });\r\n\r\n        this.deficiencyLayer.style = layerStyle;\r\n\r\n        /**\r\n         *\r\n         * @type {SortedFeatures|undefined}\r\n         * @private\r\n         */\r\n        this._sortedFeatures = undefined;\r\n\r\n        /**\r\n         *\r\n         * @type {ol.Map|undefined}\r\n         * @private\r\n         */\r\n        this._map = undefined;\r\n\r\n        this._summaryListId = summaryListId;\r\n\r\n        /**\r\n         *\r\n         * @type {jQuery|undefined}\r\n         * @private\r\n         */\r\n        this.$summaryList = undefined;\r\n\r\n    }\r\n\r\n    /**\r\n     * initialize with the map\r\n     * @param {ol.Map} m - the ol map\r\n     * @abstract\r\n     */\r\n    init(m: ol.Map) {\r\n        this._map = m;\r\n        m.addLayer(this.deficiencyLayer.olLayer);\r\n        this.$summaryList = $(`#${this._summaryListId}`);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Corridor} c - the corridor to be added\r\n     * @abstract\r\n     */\r\n    addCorridor(c) {\r\n        // let feats = c.layer.source.getFeatures();\r\n        //\r\n        // let $mmDeficiencyList = $(`#${constants.mmFlagListId}`);\r\n        //\r\n        // for (let f of feats) {\r\n        //     // f.setProperties()\r\n        //     let props = f.getProperties();\r\n        //     let rate = props['rateFlag'];\r\n        //     let kab = props['kabFlag'];\r\n        //\r\n        //     let triggerRateFlag = typeof rate == 'number' && rate > 1;\r\n        //     let triggerKabFlag = typeof kab == 'number' && kab > 1;\r\n        //\r\n        //     if (triggerRateFlag || triggerKabFlag) {\r\n        //         this.deficiencyLayer.source.addFeature(f);\r\n        //         mmFlagIndex++;\r\n        //\r\n        //         f.setProperties({mmId: 'MM' + mmFlagIndex.toFixed()});\r\n        //         let appendHtml = `<b>MM${mmFlagIndex.toFixed()}</b>:&nbsp;`;\r\n        //         let flags = [];\r\n        //         if (triggerRateFlag) {\r\n        //             flags.push('Crash Rate');\r\n        //         }\r\n        //         if (triggerKabFlag) {\r\n        //             flags.push('KAB');\r\n        //         }\r\n        //\r\n        //         appendHtml += flags.join(', ');\r\n        //         $mmDeficiencyList.append(`<li ${constants.pdpDataAttr}=\"${props['pdpId']}\">${appendHtml}</li>`);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param pdpId\r\n     * @returns {ol.Feature|undefined}\r\n     */\r\n    getFeatureById(pdpId) {\r\n        return this._sortedFeatures.getFeature(pdpId);\r\n    }\r\n\r\n    /**\r\n     * @abstract\r\n     */\r\n    afterLoad() {\r\n        this._sortedFeatures = new SortedFeatures(this.deficiencyLayer.features, 'pdpId');\r\n\r\n        let _this = this;\r\n\r\n        this.$summaryList.find('li').click(function () {\r\n            let $this = $(this);\r\n\r\n            let theFeature = _this.getFeatureById(parseInt($this.attr(constants.pdpDataAttr)));\r\n\r\n            _this._map.getView().fit(theFeature.getGeometry().getExtent(), _this._map.getSize());\r\n            _this._map.getView().setZoom(_this._map.getView().getZoom() - 1);\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default DeficiencyBase;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/_DeficiencyBase.ts","/**\r\n * Created by gavorhes on 5/11/2016.\r\n */\r\n\r\nimport {LayerBaseVectorGeoJson} from \"webmapsjs/dist/layers/LayerBaseVectorGeoJson\";\r\n\r\nimport makeGuid from 'webmapsjs/dist/util/makeGuid';\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nimport {layerConfigHelper, randomColor} from '../layerStyles';\r\nimport Ajx  from '../ajaxGetters';\r\nimport SortedFeatures from 'webmapsjs/dist/olHelpers/SortedFeatures';\r\nimport * as layerStyles from '../layerStyles';\r\nimport * as ext from 'webmapsjs/dist/olHelpers/extentUtil';\r\nimport ol = require('custom-ol');\r\nimport CorridorConfig from \"./CorridorConfig\";\r\n\r\n\r\nconst nm = provide('ssa');\r\n\r\n\r\nfunction escapeHtml(string) {\r\n    return String(string).replace(/[&<>\"'\\/]/g, function (s) {\r\n        return {\r\n            \"&\": \"&amp;\",\r\n            \"<\": \"&lt;\",\r\n            \">\": \"&gt;\",\r\n            '\"': '&quot;',\r\n            \"'\": '&#39;',\r\n            \"/\": '&#x2F;'\r\n        }[s];\r\n    });\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} fromRp - from reference point\r\n * @param {string} toRp - to reference point\r\n * @returns {string} string with abbreviated reference point identifiers separated by a hyphen\r\n * @private\r\n */\r\nfunction corridorName(fromRp, toRp) {\r\n    \"use strict\";\r\n\r\n    return fromRp.substring(0, 7) + ' - ' + toRp.substring(0, 7);\r\n}\r\n\r\nclass Corridor {\r\n    _valid: boolean;\r\n    _error: string;\r\n    _loaded: boolean;\r\n    clientId: string;\r\n    _color: string;\r\n    _corridorLayer: LayerBaseVectorGeoJson;\r\n    nodeLayer: LayerBaseVectorGeoJson;\r\n\r\n    sortedFeatures: SortedFeatures;\r\n\r\n    databaseId: string|number;\r\n    pdpFrom: number;\r\n    pdpTo: number;\r\n    rpFrom: string;\r\n    rpTo: string;\r\n    countyStart: number;\r\n    countyEnd: number;\r\n    highway: string;\r\n    routeId: number;\r\n    ssaId: number = -1;\r\n    snapshotVersion: number = -1;\r\n    corridorId: number = -1;\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {number} pdpFrom - from segment id\r\n     * @param {number} pdpTo - to segment id\r\n     * @param {string} rpFrom - from reference point\r\n     * @param {string} rpTo - to reference point\r\n     * @param {number|string} countyStart - start county\r\n     * @param {number} countyEnd - end county\r\n     * @param {string} highway - highway text\r\n     * @param {number} routeId - route Id\r\n     * @param {object} [options={}] options\r\n     * @param {corridorLoaded} [options.loadedCallback=function(c){}] function to call on load\r\n     * @param {number|string|undefined|*} [options.databaseId=undefined] - id in the database\r\n     * @param {string} [options.color=randomColor()] - color for this corridor\r\n     * @param {Array<ol.Feature>|undefined} [options.features=undefined] - pre existing features\r\n     * @param {boolean} [options.cancelLoad=false] - don't load in init\r\n     */\r\n    constructor(pdpFrom: number, pdpTo: number,\r\n                rpFrom: string, rpTo: string,\r\n                countyStart: number|string, countyEnd: number|string,\r\n                highway: string, routeId: number|string,\r\n                options: {\r\n                    loadedCallback?: (c: Corridor) => any,\r\n                    databaseId?: number|string,\r\n                    color?: string,\r\n                    features?: Array<ol.Feature>,\r\n                    cancelLoad?: boolean,\r\n                    jsonFeatures?: JSON\r\n                } = {}) {\r\n\r\n\r\n        options.features = options.features ? options.features : undefined;\r\n\r\n        options.cancelLoad = typeof options.cancelLoad == 'boolean' ? options.cancelLoad : false;\r\n\r\n        this.clientId = makeGuid();\r\n        if (options.color) {\r\n            this._color = options.color;\r\n        } else {\r\n            this._color = randomColor();\r\n        }\r\n\r\n        this.databaseId = options.databaseId || undefined;\r\n\r\n        this._valid = false;\r\n        this._error = '';\r\n        this._loaded = false;\r\n        /**\r\n         *\r\n         * @type {SortedFeatures|null}\r\n         */\r\n        this.sortedFeatures = null;\r\n\r\n        this.pdpFrom = pdpFrom;\r\n        this.pdpTo = pdpTo;\r\n\r\n        if (typeof countyStart == 'string') {\r\n            this.countyStart = parseInt(countyStart as string);\r\n        } else {\r\n            this.countyStart = countyStart as number;\r\n        }\r\n\r\n        if (typeof countyEnd == 'string') {\r\n            this.countyEnd = parseInt(countyEnd as string);\r\n        } else {\r\n            this.countyEnd = countyEnd as number;\r\n        }\r\n\r\n        if (typeof routeId == 'string') {\r\n            this.routeId = parseInt(routeId as string);\r\n        } else {\r\n            this.routeId = routeId as number;\r\n        }\r\n\r\n        this.highway = highway;\r\n        this.rpFrom = rpFrom;\r\n        this.rpTo = rpTo;\r\n        if (typeof  routeId != 'number') {\r\n            throw 'route id is not number';\r\n        }\r\n\r\n        this._corridorLayer = new LayerBaseVectorGeoJson('',\r\n            layerConfigHelper(corridorName(this.rpFrom, this.rpTo), this._color, true)\r\n        );\r\n\r\n        this.nodeLayer = new LayerBaseVectorGeoJson('', {\r\n            style: layerStyles.segNodeStyle,\r\n            minZoom: 11,\r\n            zIndex: 3\r\n        });\r\n\r\n        if (options.features) {\r\n            this._corridorLayer.source.addFeatures(options.features);\r\n        } else if (options.jsonFeatures) {\r\n            this._corridorLayer.addFeatures(options.jsonFeatures);\r\n            this._loaded = true;\r\n            this.sortedFeatures = new SortedFeatures(this.olLayer.getSource().getFeatures(), 'pdpId');\r\n\r\n            this.buildNodes();\r\n        } else if (!options.cancelLoad) {\r\n            this.load(options.loadedCallback);\r\n        }\r\n    }\r\n\r\n    setDbValues(corConfig: CorridorConfig){\r\n        this.ssaId = corConfig.ssaId;\r\n        this.snapshotVersion = corConfig.snapshotVersion;\r\n        this.corridorId = corConfig.corridorId;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {corridorLoaded} [loadedCallback=function(c){}] - function to call on load\r\n     */\r\n    load(loadedCallback) {\r\n        loadedCallback = typeof loadedCallback == 'function' ? loadedCallback : function () {\r\n        };\r\n\r\n        this._valid = false;\r\n        this._error = '';\r\n\r\n        Ajx.getCorridor(this.pdpFrom, this.pdpTo, (d) => {\r\n            this._corridorLayer.addFeatures(d as JSON);\r\n\r\n            if (typeof d['error'] == 'undefined') {\r\n                this._valid = true;\r\n            } else {\r\n                this._error = d['error'];\r\n            }\r\n            this._loaded = true;\r\n            this.sortedFeatures = new SortedFeatures(this.olLayer.getSource().getFeatures(), 'pdpId');\r\n\r\n            this.buildNodes();\r\n            loadedCallback(this);\r\n        });\r\n    }\r\n\r\n    buildNodes() {\r\n        this.nodeLayer.clear();\r\n        let features = this._corridorLayer.olLayer.getSource().getFeatures();\r\n        for (let i = 0; i < features.length; i++) {\r\n            let coords = features[i].getGeometry()['getCoordinates']();\r\n            if (coords && coords.length > 0) {\r\n                let startPoint = new ol.geom.Point(coords[0]);\r\n                let endPoint = new ol.geom.Point(coords[coords.length - 1]);\r\n                this.nodeLayer.olLayer.getSource().addFeature(new ol.Feature(startPoint));\r\n                this.nodeLayer.olLayer.getSource().addFeature(new ol.Feature(endPoint));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {Corridor} a copy of the corridor\r\n     */\r\n    clone() {\r\n        let c = new Corridor(this.pdpFrom, this.pdpTo, this.rpFrom, this.rpTo,\r\n            this.countyStart, this.countyEnd, this.highway, this.routeId, {features: this.features});\r\n        c.buildNodes();\r\n\r\n        return c;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Corridor} corridor -  the corridor used for updating\r\n     */\r\n    updateCorridor(corridor) {\r\n\r\n        this.pdpFrom = corridor.pdpFrom;\r\n        this.pdpTo = corridor.pdpTo;\r\n        this.countyStart = corridor.countyStart;\r\n        this.countyEnd = corridor.countyEnd;\r\n        this.highway = corridor.highway;\r\n        this.rpFrom = corridor.rpFrom;\r\n        this.rpTo = corridor.rpTo;\r\n        this.routeId = corridor.routeId;\r\n\r\n        this.layer.name = corridorName(this.rpFrom, this.rpTo);\r\n\r\n        this.layer.clear();\r\n        this.layer.olLayer.getSource().addFeatures(corridor.features);\r\n        this.buildNodes();\r\n    }\r\n\r\n    get color() {\r\n        return this._color;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean} if the corridor is loaded, no error on ajax\r\n     */\r\n    get valid() {\r\n        return this._valid;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {string|*} - error message\r\n     */\r\n    get error() {\r\n        return this._error;\r\n    }\r\n\r\n    /**\r\n     * get the html string to build the corridor table row with zoom, edit, and delete buttons\r\n     * @returns {string} - html for the corridor zoom, edit, and delete buttons\r\n     */\r\n    get tableHtmlCreate() {\r\n        let outString = `<tr class=\"corridor-tr\">`;\r\n        outString += `<td style=\"background-color: ${this._color}\"></td>`;\r\n        outString += `<td>${corridorName(this.rpFrom, this.rpTo)}</td>`;\r\n        outString += `<td>`;\r\n        outString += `<span title=\"Zoom To\" class=\"corridor-zoom\" data-corridor=\"${this.clientId}\"></span>`;\r\n        outString += `<span title=\"Edit Corridor\"  class=\"corridor-edit\" data-corridor=\"${this.clientId}\"></span>`;\r\n        outString += `<span title=\"Remove Corridor\"  class=\"corridor-delete\" data-corridor=\"${this.clientId}\"></span>`;\r\n        outString += `</td>`;\r\n        outString += '</tr>';\r\n\r\n        return outString;\r\n    }\r\n\r\n    getDataHtml(i) {\r\n        let outString = '<div class=\"corridor-data\">';\r\n        outString += `<label>Ssa Id</label>`;\r\n        outString += `<input type=\"text\" readonly class=\"corridor-data-ssa-id\" name=\"corridors[${i}].id.ssaId\" value=\"${this.ssaId }\"><br>`;\r\n        outString += `<label>Snapshot version</label>`;\r\n        outString += `<input type=\"text\" readonly class=\"corridor-data-snapshot\" name=\"corridors[${i}].id.snapshotVersion\" value=\"${this.snapshotVersion }\"><br>`;\r\n        outString += `<label>Corridor Id</label>`;\r\n        outString += `<input type=\"text\" readonly class=\"corridor-data-corridor-id\" name=\"corridors[${i}].id.corridorId\" value=\"${this.corridorId }\"><br>`;\r\n        outString += `<label>Start County</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-start-county\" readonly name=\"corridors[${i}].startCounty\" value=\"${this.countyStart}\"/><br>`;\r\n        outString += `<label>End County</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-end-county\" readonly name=\"corridors[${i}].endCounty\" value=\"${this.countyEnd}\"/><br>`;\r\n        outString += `<label>Highway</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-highway\" readonly name=\"corridors[${i}].stdhighway\" value=\"${this.highway}\"/><br>`;\r\n        outString += `<label>Start Rp</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-from-rp\" readonly name=\"corridors[${i}].startRp\" value=\"${this.rpFrom}\"/><br>`;\r\n        outString += `<label>End Rp</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-to-rp\" readonly name=\"corridors[${i}].endRp\" value=\"${this.rpTo}\"/><br>`;\r\n        outString += `<label>Route Id</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-route-id\" readonly name=\"corridors[${i}].rdwyRteId\" value=\"${this.routeId}\"/><br>`;\r\n        outString += `<label>Start Pdp</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-from-pdp\" readonly value=\"${this.pdpFrom}\"/><br>`;\r\n        outString += `<label>End Pdp</label>`;\r\n        outString += `<input type=\"text\" class=\"corridor-data-to-pdp\" readonly value=\"${this.pdpTo}\"/><br>`;\r\n\r\n        outString += `</div>`;\r\n\r\n        return outString;\r\n    }\r\n\r\n    getDataHtmlDisp(i) {\r\n        let returnString = this.getDataHtml(i);\r\n        returnString = escapeHtml(returnString);\r\n        returnString = returnString.replace(/&quot;&#x2F;&gt;/g, '&quot;&#x2F;&gt;<br>');\r\n        returnString = returnString.replace(/corridor-data&quot;&gt;/g, 'corridor-data&quot;&gt;<br>');\r\n\r\n        return returnString + '<br>';\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {ol.layer.Vector|ol.layer.Base} - the OL Vector Layer\r\n     */\r\n    get olLayer(): ol.layer.Vector {\r\n        return this._corridorLayer.olLayer;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @returns {LayerBaseVectorGeoJson} geojson layer\r\n     */\r\n    get layer(): LayerBaseVectorGeoJson {\r\n        return this._corridorLayer;\r\n    }\r\n\r\n\r\n    /**\r\n     * Getter\r\n     * @returns {boolean} if corridor layer is visible\r\n     */\r\n    get visible(): boolean {\r\n        return this._corridorLayer.visible;\r\n    }\r\n\r\n    /**\r\n     * Setter\r\n     * @param {boolean} vis if corridor layer is visible\r\n     *\r\n     */\r\n    set visible(vis: boolean) {\r\n        this._corridorLayer.visible = vis;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {Array.<ol.Feature>} an array of ol features\r\n     */\r\n    get features(): Array<ol.Feature> {\r\n        return this._corridorLayer.features;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {ol.Extent|undefined} layer extent\r\n     */\r\n    get extent(): ol.Extent|Array<number> {\r\n        return ext.calculateExtent([this.layer]);\r\n    }\r\n\r\n    get loaded(): boolean {\r\n        return this._loaded;\r\n    }\r\n}\r\n\r\nnm.Corridor = Corridor;\r\n\r\nexport default Corridor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/corridor/Corridor.ts","/**\r\n * Created by gavorhes on 7/13/2016.\r\n */\r\n\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nimport $ = require('jquery');\r\nconst nm = provide('ssa');\r\n\r\nclass FilterBase {\r\n    _topCheck: JQuery;\r\n    _subChecks: JQuery;\r\n    _changeCallbacks: Array<Function>;\r\n    _onValues: Array<string>;\r\n    _allValues: Array<string>;\r\n\r\n    /**\r\n     * \r\n     * @param {string} topCheckId - top checkbox id\r\n     * @param {string} otherChecksClass - other checkbox class identifier\r\n     * @param {boolean} defaultOn - is on by default\r\n     */\r\n    constructor(topCheckId: string, otherChecksClass: string, defaultOn: boolean) {\r\n        this._topCheck = $('#' + topCheckId);\r\n\r\n        this._subChecks = $('.' + otherChecksClass);\r\n\r\n        /**\r\n         *\r\n         * @type {Array<function>}\r\n         * @private\r\n         */\r\n        this._changeCallbacks = [];\r\n\r\n        /**\r\n         *\r\n         * @type {Array<string>}\r\n         */\r\n        this._onValues = [];\r\n\r\n        /**\r\n         *\r\n         * @type {Array<string>}\r\n         */\r\n        this._allValues = [];\r\n\r\n        this._subChecks.each((ix, /** @type {HTMLElement} */ el) => {\r\n            this._allValues.push($(el).val());\r\n        });\r\n\r\n        this._topCheck.prop('checked', defaultOn);\r\n        this._setAllOnOff(defaultOn);\r\n\r\n        this._topCheck.change(() => {\r\n            this._setAllOnOff(this._topCheck.prop('checked'));\r\n        });\r\n\r\n        let __this = this;\r\n        this._subChecks.change(function () {\r\n            let $el = $(this);\r\n            let theVal = $el.val();\r\n            let isChecked = $el.prop('checked');\r\n            let ix = __this._onValues.indexOf(theVal);\r\n\r\n            if (isChecked && ix == -1){\r\n                __this._onValues.push(theVal);\r\n            } else if (!isChecked && ix != -1){\r\n                __this._onValues.splice(ix, 1);\r\n            }\r\n\r\n            __this._topCheck.prop('checked', __this._onValues.length == __this._allValues.length);\r\n\r\n            __this._fireCallbacks();\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {function} f - function to call on change\r\n     */\r\n    addChangeCallback(f) {\r\n        this._changeCallbacks.push(f);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} val - the value to check\r\n     * @returns {boolean} - if the property is on\r\n     */\r\n    valIsOn(val){\r\n        return this._onValues.indexOf(val) > -1;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {boolean} isOn - if all are on of off\r\n     * @param {boolean} [fire=true] - if the callbacks should be fired\r\n     * @private\r\n     */\r\n    _setAllOnOff(isOn, fire = true) {\r\n\r\n        this._subChecks.prop('checked', isOn);\r\n        this._onValues = [];\r\n\r\n        if (isOn) {\r\n            for (let v of this._allValues) {\r\n                this._onValues.push(v);\r\n            }\r\n        }\r\n\r\n        if (fire) {\r\n            this._fireCallbacks();\r\n        }\r\n\r\n    }\r\n\r\n    _fireCallbacks() {\r\n        for (let f of this._changeCallbacks) {\r\n            f();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * array of all values\r\n     * @returns {Array<string>} all values available in the filter\r\n     */\r\n    get allValues(): Array<string>{\r\n        let outArray = [];\r\n        for (let v of this._allValues){\r\n            outArray.push(v);\r\n        }\r\n        return outArray;\r\n    }\r\n}\r\n\r\nnm.FilterBase = FilterBase;\r\nexport default FilterBase;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/FilterBase.ts","import * as zoomResolutionConvert from '../olHelpers/zoomResolutionConvert';\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport makeGuid from '../util/makeGuid';\r\nimport $ = require('jquery');\r\n\r\nconst nm = provide('layers');\r\n\r\n\r\nexport interface LayerBaseOptions{\r\n    id?: string;\r\n    name?: string;\r\n    opacity?: number;\r\n    visible?: boolean;\r\n    minZoom?: number;\r\n    maxZoom?: number;\r\n    params?: any;\r\n    zIndex?: number;\r\n    loadCallback?: Function;\r\n    legendCollapse?: boolean;\r\n    legendCheckbox?: boolean;\r\n    legendContent?: string;\r\n}\r\n\r\n\r\n/**\r\n * The base layer class\r\n * @abstract\r\n */\r\nexport abstract class LayerBase {\r\n\r\n    protected _legendCheckbox: boolean;\r\n    protected _url: string;\r\n    protected _opacity: number;\r\n    protected _minZoom: number;\r\n    protected _maxZoom: number;\r\n    protected _visible: boolean;\r\n    protected _loaded: boolean;\r\n    protected _zIndex: number;\r\n    protected _legendContent: string;\r\n    protected _params: any;\r\n    protected _id: string;\r\n    protected _name: string;\r\n    protected _source: ol.source.Source;\r\n    protected _animate: boolean;\r\n    protected _legendCollapse: boolean;\r\n    protected _maxResolution: number;\r\n    protected _minResolution: number;\r\n    protected  _$legendDiv: JQuery;\r\n    loadCallback: Function;\r\n    protected _olLayer: ol.layer.Layer;\r\n    protected _applyCollapseCalled: boolean;\r\n\r\n\r\n\r\n    /**\r\n     * The base layer for all others\r\n     * @param {string} url - url for source\r\n     * @param {object} options - config\r\n     * @param {string} [options.id=makeGuid()] - layer id\r\n     * @param {string} [options.name=Unnamed Layer] - layer name\r\n     * @param {number} [options.opacity=1] - opacity\r\n     * @param {boolean} [options.visible=true] - default visible\r\n     * @param {number} [options.minZoom=undefined] - min zoom level, 0 - 28\r\n     * @param {number} [options.maxZoom=undefined] - max zoom level, 0 - 28\r\n     * @param {object} [options.params={}] - the get parameters to include to retrieve the layer\r\n     * @param {number} [options.zIndex=0] - the z index for the layer\r\n     * @param {function} [options.loadCallback] - function to call on load, context this is the layer object\r\n     * @param {boolean} [options.legendCollapse=false] - if the legend item should be initially collapsed\r\n     * @param {boolean} [options.legendCheckbox=true] - if the legend item should have a checkbox for visibility\r\n     * @param {boolean} [options.legendContent=undefined] - additional content to add to the legend\r\n     */\r\n    constructor(url: string, options: LayerBaseOptions = {}) {\r\n        options = options || {} as LayerBaseOptions;\r\n\r\n        if (typeof url !== 'string') {\r\n            throw 'Invalid URL';\r\n        }\r\n        this._url = url;\r\n\r\n\r\n        this._params = typeof options.params == 'object' ? options.params : {};\r\n        this._legendCollapse = typeof options.legendCollapse == 'boolean' ? options.legendCollapse : false;\r\n        this._legendCheckbox = typeof options.legendCheckbox == 'boolean' ? options.legendCheckbox : true;\r\n\r\n        this.id = options.id || makeGuid();\r\n        this._name = options.name || 'Unnamed Layer';\r\n        this.animate = false;\r\n        this._opacity = typeof options.opacity == 'number' ? options.opacity : 1;\r\n\r\n        if (this._opacity > 1) {\r\n            this._opacity = 1;\r\n        } else if (this._opacity < 0) {\r\n            this._opacity = 0;\r\n        }\r\n\r\n        this._visible = typeof options.visible === 'boolean' ? options.visible : true;\r\n\r\n        this._source = undefined;\r\n\r\n        /**\r\n         *\r\n         * @protected\r\n         */\r\n        this._olLayer = undefined;\r\n        this._loaded = false;\r\n\r\n        this._maxResolution = zoomResolutionConvert.zoomToResolution(options.minZoom);\r\n        if (typeof this._maxResolution !== 'undefined') {\r\n            this._maxResolution += 0.00001;\r\n        }\r\n        this._minResolution = zoomResolutionConvert.zoomToResolution(options.maxZoom);\r\n\r\n        this._minZoom = typeof options.minZoom == 'number' ? options.minZoom : undefined;\r\n        this._maxZoom = typeof options.maxZoom == 'number' ? options.maxZoom : undefined;\r\n        this._zIndex = typeof options.zIndex == 'number' ? options.zIndex : 0;\r\n\r\n        this.loadCallback = typeof options.loadCallback == 'function' ? options.loadCallback : function () {\r\n        };\r\n\r\n\r\n        this._legendContent = '';\r\n\r\n        if (this._legendCheckbox) {\r\n            this._legendContent += `<input type=\"checkbox\" ${this.visible ? 'checked' : ''} ` +\r\n                `class=\"legend-check\" id=\"${this.id}-legend-layer-check\"><span></span>`;\r\n            this._legendContent += `<label for=\"${this.id}-legend-layer-check\" class=\"legend-layer-name\">${this.name}</label>`;\r\n        } else {\r\n            this._legendContent += `<label class=\"legend-layer-name\">${this.name}</label>`;\r\n        }\r\n\r\n        this._$legendDiv = null;\r\n        this._applyCollapseCalled = false;\r\n        this._addLegendContent(typeof options.legendContent === 'string' ? options.legendContent : undefined);\r\n    }\r\n\r\n    /**\r\n     * base load function, sets _loaded = true if it is not already\r\n     * @protected\r\n     * @returns {boolean} if already loaded\r\n     */\r\n    _load() {\r\n        if (this.loaded == true) {\r\n            return true;\r\n        } else {\r\n            this._loaded = true;\r\n\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the legend html, be sure to only add to the DOM once\r\n     * @returns {string} html for layer wrapped in a div\r\n     */\r\n    getLegendDiv() {\r\n        return `<div class=\"legend-layer-div\" id=\"${this.id}-legend-layer-div\">${this._legendContent}</div>`;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param additionalContent - additional content to add to legend\r\n     * @private\r\n     */\r\n    _addLegendContent(additionalContent='') {\r\n\r\n        let addCollapse = additionalContent.indexOf('<ul>') > -1;\r\n\r\n        if (addCollapse) {\r\n            additionalContent = '<span class=\"legend-items-expander\" title=\"Expand/Collapse\">&#9660;</span>' + additionalContent;\r\n        }\r\n\r\n        this._legendContent += additionalContent;\r\n\r\n        this._$legendDiv = $(`#${this.id}-legend-layer-div`);\r\n\r\n        if (this._$legendDiv.length > 0) {\r\n            this._$legendDiv.append(additionalContent);\r\n            this.applyCollapse();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * add additional content to the legend\r\n     * @param {string} [additionalContent=] - additonal content to add\r\n     */\r\n    addLegendContent(additionalContent: string) {\r\n        this._addLegendContent(additionalContent);\r\n    }\r\n\r\n    applyCollapse(): void {\r\n        if (this._applyCollapseCalled) {\r\n            console.log('collapse already applied');\r\n\r\n            return undefined;\r\n        }\r\n\r\n        this._$legendDiv = $(`#${this.id}-legend-layer-div`);\r\n\r\n        if (this._$legendDiv.length > 0) {\r\n\r\n            let $expander = this._$legendDiv.find('.legend-items-expander');\r\n\r\n            if ($expander.length > 0) {\r\n                this._applyCollapseCalled = true;\r\n\r\n                $expander.click(function () {\r\n                    let $this = $(this);\r\n\r\n                    $this.siblings('ul').slideToggle();\r\n\r\n                    if ($this.hasClass('legend-layer-group-collapsed')) {\r\n                        $this.removeClass('legend-layer-group-collapsed');\r\n                        $this.html('&#9660;');\r\n                    } else {\r\n                        $this.addClass('legend-layer-group-collapsed');\r\n                        $this.html('&#9654;');\r\n                    }\r\n                });\r\n\r\n                if (this._legendCollapse) {\r\n                    $expander.trigger('click');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * trick to refresh the layer\r\n     */\r\n    refresh() {\r\n        if (this.source) {\r\n            this.source.refresh();\r\n        }\r\n    }\r\n\r\n    get id(): string{\r\n        return this._id;\r\n    }\r\n\r\n    set id(newId: string){\r\n        this._id = newId;\r\n    }\r\n\r\n    get animate(): boolean{\r\n        return this._animate;\r\n    }\r\n\r\n    set animate(animate: boolean){\r\n        this._animate = animate;\r\n    }\r\n\r\n    /**\r\n     * get the legend content\r\n     * @type {string}\r\n     */\r\n    get legendContent(): string {\r\n        return this._legendContent;\r\n    }\r\n\r\n    /**\r\n     * set the legend content directly\r\n     * @param {string} newVal - new content\r\n     * @protected\r\n     */\r\n    set legendContent(newVal: string) {\r\n        this._legendContent = newVal;\r\n    }\r\n\r\n    /**\r\n     * get the map get params\r\n     * @type {object}\r\n     */\r\n    get params(): {[s: string]: any} {\r\n        return this._params;\r\n    }\r\n\r\n    /**\r\n     * set the map get params\r\n     * @param {object} newParams - new get params\r\n     * @protected\r\n     */\r\n    set params(newParams: {[s: string]: any}) {\r\n        this._params = newParams;\r\n    }\r\n\r\n    /**\r\n     * get the minimum resolution\r\n     * @type {number|*}\r\n     */\r\n    get minResolution(): number {\r\n        return this._minResolution;\r\n    }\r\n\r\n    /**\r\n     * get the maximum resolution\r\n     * @type {number|*}\r\n     */\r\n    get maxResolution(): number {\r\n        return this._maxResolution;\r\n    }\r\n\r\n    /**\r\n     * get min zoom\r\n     * @type {number|*}\r\n     */\r\n    get minZoom(): number {\r\n        return this._minZoom;\r\n    }\r\n\r\n    /**\r\n     * get max zoom\r\n     * @type {number|*}\r\n     */\r\n    get maxZoom(): number {\r\n        return this._maxZoom;\r\n    }\r\n\r\n    /**\r\n     * get the url\r\n     * @type {string}\r\n     */\r\n    get url(): string {\r\n        return this._url;\r\n    }\r\n\r\n    /**\r\n     * Get the layer visibility\r\n     * @type {boolean}\r\n     */\r\n    get visible(): boolean {\r\n        return this._visible;\r\n    }\r\n\r\n    /**\r\n     * set the visibility\r\n     * @param visibility\r\n     */\r\n    set visible(visibility: boolean) {\r\n        this.setVisible(visibility);\r\n    }\r\n\r\n    protected setVisible(visibility: boolean) {\r\n        this._visible = visibility;\r\n        if (this.olLayer) {\r\n            this.olLayer.setVisible(this._visible);\r\n            if (visibility && !this._loaded) {\r\n                this._load();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Get the layer opacity\r\n     * @type {number}\r\n     */\r\n    get opacity(): number {\r\n        return this._opacity;\r\n    }\r\n\r\n    /**\r\n     * Set the layer opacity\r\n     * @param {number} opacity - layer opacity\r\n     */\r\n    set opacity(opacity: number) {\r\n        this._opacity = opacity;\r\n        if (this.olLayer) {\r\n            this.olLayer.setOpacity(this._opacity);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the layer name\r\n     * @type {string}\r\n     */\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    /**\r\n     * set the layer name\r\n     * @param {string} newName - the new name\r\n     */\r\n    set name(newName: string) {\r\n        this._name = newName;\r\n    }\r\n\r\n    /**\r\n     * Check if the layer is loaded\r\n     * @type {boolean}\r\n     */\r\n    get loaded():boolean {\r\n        return this._loaded;\r\n    }\r\n\r\n    /**\r\n     * get the layer source\r\n     * @type {*}\r\n     */\r\n    get source(): ol.source.Source {\r\n        return this.getSource();\r\n    }\r\n\r\n\r\n    protected getSource(): ol.source.Source{\r\n        return this._source;\r\n    }\r\n\r\n    /**\r\n     * get the z index\r\n     */\r\n    get zIndex(): number {\r\n        return this._zIndex;\r\n    }\r\n\r\n    /**\r\n     * set the z index\r\n     */\r\n    set zIndex(newZ: number) {\r\n        this._zIndex = newZ;\r\n    }\r\n\r\n    protected setZIndex(newZ: number){\r\n\r\n    }\r\n\r\n    /**\r\n     * the the ol layer\r\n     */\r\n    get olLayer(): ol.layer.Layer {\r\n        return this.getOlLayer();\r\n    }\r\n\r\n    protected getOlLayer(): ol.layer.Layer{\r\n        return this._olLayer;\r\n    }\r\n}\r\n\r\nnm.LayerBase = LayerBase;\r\nexport default LayerBase;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/layers/LayerBase.ts","/**\r\n * Created by gavorhes on 12/8/2015.\r\n */\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nconst nm = provide('olHelpers');\r\n\r\n\r\n\r\n/**\r\n * base interaction\r\n */\r\nexport class MapInteractionBase {\r\n    _map: ol.Map;\r\n    _initialized: boolean;\r\n    _subtype: string;\r\n\r\n    /**\r\n     * map interaction base\r\n     * @param subtype - the interaction subtype\r\n     */\r\n    constructor(subtype: string) {\r\n        this._map = null;\r\n        this._initialized = false;\r\n        this._subtype = subtype;\r\n    }\r\n\r\n    /**\r\n     * base initializer, returns true for already initialized\r\n     * @param theMap - the ol Map\r\n     * @returns true for already initialized\r\n     */\r\n    init(theMap: ol.Map){\r\n        if (!this._initialized){\r\n            this._map = theMap;\r\n            this._initialized = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get reference to the ol map object\r\n     * @returns {ol.Map} the map object\r\n     */\r\n    get map() {\r\n        return this._map;\r\n    }\r\n\r\n    /**\r\n     * get if is initialized\r\n     * @returns {boolean} is initialized\r\n     */\r\n    get initialized() {\r\n        return this._initialized;\r\n    }\r\n\r\n    /**\r\n     * Check the initialization status and throw exception if not valid yet\r\n     * @protected\r\n     */\r\n    _checkInit() {\r\n        if (!this.initialized) {\r\n            let msg = `${this._subtype} object not initialized`;\r\n            alert(msg);\r\n            console.log(msg);\r\n            throw msg;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check the initialization status and throw exception if not valid yet\r\n     */\r\n    checkInit(){\r\n        this._checkInit();\r\n    }\r\n}\r\n\r\nnm.MapInteractionBase = MapInteractionBase;\r\nexport default MapInteractionBase;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/mapInteractionBase.ts","/**\r\n * Created by gavorhes on 11/3/2015.\r\n */\r\n\r\nimport MapMoveCls from './mapMoveCls';\r\n\r\n/**\r\n * The single map move object catch is that it is common to multimap pages\r\n * @type {MapMoveCls}\r\n */\r\n\r\nexport const mapMove = new MapMoveCls();\r\nexport default mapMove;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/mapMove.ts","/**\r\n * Created by gavorhes on 12/15/2015.\r\n */\r\n\r\nimport {quickMapOptions, quickMapBase} from './quickMapBase';\r\nimport provide from '../util/provide';\r\nimport mapMove from './mapMove';\r\nimport mapPopup from './mapPopup';\r\nimport ol = require('custom-ol');\r\nlet nm = provide('olHelpers');\r\n\r\nexport {quickMapOptions} from './quickMapBase';\r\n\r\n/**\r\n * Sets up a map with some default parameters and initializes\r\n * mapMove and mapPopup\r\n *\r\n * @param {object} [options={}] config options\r\n * @param {string} [options.divId=map] map div id\r\n * @param {object} [options.center={}] center config object\r\n * @param {number} [options.center.x=-10018378] center x, web mercator x or lon\r\n * @param {number} [options.center.y=5574910] center y, web mercator y or lat\r\n * @param {number} [options.zoom=7] zoom level\r\n * @param {number} [options.minZoom=undefined] min zoom\r\n * @param {number} [options.maxZoom=undefined] max zoom\r\n * @param {boolean} [options.baseSwitcher=true] if add base map switcher\r\n * @param {boolean} [options.fullScreen=false] if add base map switcher\r\n * @returns {ol.Map} the ol map\r\n */\r\nexport function quickMap(options : quickMapOptions = {}): ol.Map {\r\n    let m = quickMapBase(options);\r\n    mapMove.init(m);\r\n    mapPopup.init(m);\r\n    return m;\r\n}\r\n\r\n\r\nnm.quickMap = quickMap;\r\nexport default quickMap;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/quickMap.ts","import provide from './provide';\r\nlet nm = provide('util.checkDefined');\r\n\r\n/**\r\n * check if the input is undefined or null\r\n * @param input - input pointer\r\n * @returns true undefined or null\r\n */\r\nexport function undefinedOrNull (input: any): boolean{\r\n    \"use strict\";\r\n\r\n    return (typeof input === 'undefined' || input === null);\r\n}\r\n\r\nnm.undefinedOrNull = undefinedOrNull;\r\n\r\n\r\n/**\r\n * check if the input is defined and not null\r\n * @param input - input pointer\r\n * @returns true defined and not null\r\n */\r\nexport function definedAndNotNull (input: any): boolean{\r\n    \"use strict\";\r\n\r\n    return !(undefinedOrNull(input));\r\n}\r\n\r\nnm.definedAndNotNull = definedAndNotNull;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/util/checkDefined.ts","/**\r\n * Created by gavorhes on 5/13/2016.\r\n */\r\n\r\nimport makeGuid from 'webmapsjs/dist/util/makeGuid';\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nimport {MapPopupCls} from \"webmapsjs/dist/olHelpers/mapPopupCls\";\r\nimport {MapMoveCls} from \"webmapsjs/dist/olHelpers/mapMoveCls\";\r\nimport $ = require('jquery');\r\nconst nm = provide('ssa');\r\nimport ol = require('custom-ol');\r\n\r\n\r\nexport class SsaMapBase {\r\n    $mainContainer: JQuery;\r\n    _mapId: string;\r\n    mainMapMove: MapMoveCls;\r\n    mainMapPopup: MapPopupCls;\r\n    mainMap: ol.Map;\r\n\r\n    constructor(divId: string) {\r\n\r\n        /**\r\n         * @type {JQuery|*|jQuery|HTMLElement}\r\n         */\r\n        this.$mainContainer = $('#' + divId);\r\n        this.$mainContainer.addClass('ssa-map-container');\r\n\r\n        /**\r\n         * \r\n         * @type {string}\r\n         * @protected\r\n         */\r\n        this._mapId = makeGuid();\r\n        \r\n        this.$mainContainer.append(`<div id=\"${this._mapId}\" class=\"ssa-main-map\"></div>`);\r\n        \r\n        $('.ol-zoom-out').html('&#8211;');\r\n\r\n        /**\r\n         * \r\n         * @type {MapPopupCls|undefined}\r\n         */\r\n        this.mainMapMove = undefined;\r\n\r\n        /**\r\n         * \r\n         * @type {MapPopupCls|undefined}\r\n         */\r\n        this.mainMapPopup = undefined;\r\n\r\n        \r\n    }\r\n    \r\n    get mapId(): string{\r\n        return this._mapId;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns {JQuery|jQuery|HTMLElement}\r\n     * @protected\r\n     */\r\n    get $mapDiv(): JQuery{\r\n       return $(`#${this.mapId}`); \r\n    }\r\n}\r\n\r\nnm.SsaMapBase = SsaMapBase;\r\nexport default SsaMapBase;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/SsaMapBase.ts","/**\r\n * Created by gavorhes on 5/17/2016.\r\n */\r\n\r\n\r\n\r\nimport {getCountyById} from '../countyLookup';\r\n\r\nimport $ = require('jquery');\r\n\r\n\r\n\r\nfunction labelValueHelper(label, val){\r\n    \"use strict\";\r\n    let outHtml = '<div class=\"col-xs-2\">';\r\n    outHtml += `<label>${label}</label>`;\r\n    outHtml += `<input class=\"form-control\" type=\"text\" readonly=\"\" value=\"${val}\">`;\r\n    outHtml += `</div>`;\r\n    return outHtml;\r\n}\r\n\r\n\r\nclass CorridorConfig {\r\n    startCounty: number;\r\n    endCounty: number;\r\n    hgwy: string;\r\n    startRp: string;\r\n    endRp: string;\r\n    startPdp: number;\r\n    endPdp: number;\r\n    routeId: number;\r\n    ssaId: number;\r\n    snapshotVersion: number;\r\n    corridorId: number;\r\n\r\n    /**\r\n     *\r\n     * @param {jQuery|HTMLDivElement|*} inputElement\r\n     */\r\n    constructor(inputElement) {\r\n\r\n        if (!inputElement.val) {\r\n            inputElement = $(inputElement);\r\n        }\r\n\r\n\r\n        this.ssaId = parseInt(inputElement.find('.corridor-data-ssa-id').val());\r\n\r\n        this.snapshotVersion = parseInt(inputElement.find('.corridor-data-snapshot').val());\r\n\r\n        this.corridorId = parseInt(inputElement.find('.corridor-data-corridor-id').val());\r\n\r\n        this.startCounty = parseInt(inputElement.find('.corridor-data-start-county').val());\r\n\r\n        this.endCounty = parseInt(inputElement.find('.corridor-data-end-county').val());\r\n\r\n        this.hgwy = inputElement.find('.corridor-data-highway').val();\r\n\r\n        this.startRp = inputElement.find('.corridor-data-from-rp').val();\r\n\r\n        this.endRp = inputElement.find('.corridor-data-to-rp').val();\r\n\r\n        this.startPdp = parseInt(inputElement.find('.corridor-data-from-pdp').val());\r\n\r\n        this.endPdp = parseInt(inputElement.find('.corridor-data-to-pdp').val());\r\n\r\n        this.routeId =  parseInt(inputElement.find('.corridor-data-route-id').val());\r\n    }\r\n\r\n    \r\n    /**\r\n     * @returns {string} bootstrap formatted corridor description\r\n     */\r\n    bootstrapHtml(index){\r\n        index++;\r\n        let outHtml = '<div class=\"row ssa-corridor-info-row\">';\r\n        outHtml += '<div class=\"col-xs-2\">';\r\n        outHtml += `<label>Corridor #${index}</label>`;\r\n        outHtml += '</div>';\r\n        outHtml += labelValueHelper('Highway', this.hgwy);\r\n        outHtml += labelValueHelper('Start County', getCountyById(this.startCounty));\r\n        outHtml += labelValueHelper('End County', getCountyById(this.endCounty));\r\n        outHtml += labelValueHelper('Start RP', this.startRp);\r\n        outHtml += labelValueHelper('End RP', this.endRp);\r\n        outHtml += '</div>';\r\n        return outHtml;\r\n    }\r\n\r\n    public toString(): string{\r\n        return `CorId ${this.corridorId} ${this.startRp} - ${this.endRp}`;\r\n    }\r\n}\r\n\r\nexport default CorridorConfig;\n\n\n// WEBPACK FOOTER //\n// ./src/corridor/CorridorConfig.ts","/**\r\n * Created by gavorhes on 7/14/2016.\r\n */\r\nimport FilterBase from './FilterBase';\r\n\r\nexport class FilterControllingCriteria extends FilterBase {\r\n\r\n    constructor() {\r\n        super('filter-controlling-criteria', 'filter-controlling-criteria-sub', true);\r\n    }\r\n\r\n\r\n    get ccDesignSpeedOn(): boolean {\r\n        return this.valIsOn('ccDesignSpeed');\r\n    }\r\n\r\n    get ccLaneWidthOn(): boolean {\r\n        return this.valIsOn('ccLaneWidth');\r\n    }\r\n\r\n    get ccShoulderWidthOn(): boolean {\r\n        return this.valIsOn('ccShoulderWidth');\r\n    }\r\n\r\n    get ccHorizontalCurveOn(): boolean {\r\n        return this.valIsOn('ccHorizontalCurve');\r\n    }\r\n\r\n    get ccSuperelevationOn(): boolean {\r\n        return this.valIsOn('ccSuperelevation');\r\n    }\r\n\r\n    get ccMaximumGradeOn(): boolean {\r\n        return this.valIsOn('ccMaximumGrade');\r\n    }\r\n\r\n    get ccStoppingSightOn(): boolean {\r\n        return this.valIsOn('ccStoppingSight');\r\n    }\r\n\r\n    get ccCrossSlopeOn(): boolean {\r\n        return this.valIsOn('ccCrossSlope');\r\n    }\r\n\r\n    get ccVerticalClearanceOn(): boolean {\r\n        return this.valIsOn('ccVerticalClearance');\r\n    }\r\n\r\n    get ccDesignLoadingOn(): boolean {\r\n        return this.valIsOn('ccDesignLoading');\r\n    }\r\n}\r\n\r\nexport default new FilterControllingCriteria();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/filterContollingCriteria.ts","/**\r\n * Created by gavorhes on 7/14/2016.\r\n */\r\nimport FilterBase from './FilterBase';\r\n\r\nexport class FilterCrash extends FilterBase {\r\n\r\n    constructor() {\r\n        super('filter-crash', 'filter-crash-sub', false);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} val - the lookup value\r\n     * @returns {string|null} crash color or null if the crash type should be suppressed\r\n     */\r\n    getCrashColor(val) {\r\n        let isActive = super.valIsOn(val);\r\n\r\n        if (!isActive) {\r\n            return null;\r\n        }\r\n\r\n        let color = {\r\n            'K': 'rgb(255,0,0)',\r\n            'A': 'rgb(255,165,0)',\r\n            'B': 'rgb(255,255,0)',\r\n            'C': 'rgb(153,255,153)',\r\n            'P': 'rgb(0,0,255)'\r\n        }[val];\r\n\r\n        return color || 'rgb(128,128,128)';\r\n    }\r\n}\r\n\r\nexport default new FilterCrash();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/filterCrash.ts","/**\r\n * Created by gavorhes on 7/14/2016.\r\n */\r\nimport FilterBase from './FilterBase';\r\n\r\nexport class FilterMmFlag extends FilterBase {\r\n\r\n    constructor() {\r\n        super('mm-flags', 'mm-flags-sub', true);\r\n    }\r\n\r\n    get mmRateFlagOn(): boolean {\r\n        return this.valIsOn('rateFlag');\r\n    }\r\n\r\n    get mmKabFlagOn(): boolean {\r\n        return this.valIsOn('kabCrshFlag');\r\n    }\r\n\r\n}\r\n\r\nexport default new FilterMmFlag();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/filterMmFlag.ts","/**\r\n * Created by gavorhes on 5/13/2016.\r\n */\r\n\r\nimport SsaMapBase from './SsaMapBase';\r\nimport * as calcExtent from 'webmapsjs/dist/olHelpers/extentUtil';\r\nimport quickMap from 'webmapsjs/dist/olHelpers/quickMap';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport makeGuid from 'webmapsjs/dist/util/makeGuid';\r\n\r\nimport provide from 'webmapsjs/dist/util/provide';\r\n\r\nimport PickerCollection from '../collections/PickerCollection';\r\nimport CorridorCollection from '../collections/CorridorCollection';\r\nimport ol = require('custom-ol');\r\n\r\nimport $ = require('jquery');\r\nimport 'jquery-ui';\r\n\r\nconst nm = provide('ssa');\r\n\r\n\r\nexport class SsaMapCreate extends SsaMapBase {\r\n    $sideBar: JQuery;\r\n    corridorCollection: CorridorCollection;\r\n    pickerCollection: PickerCollection;\r\n\r\n    /**\r\n     *\r\n     * @param {string} divId\r\n     * @param {string} corridorDataContainer\r\n     * @param {string} [dataClass=corridor-data] - class selector for the corridor data elements\r\n     */\r\n    constructor(divId, corridorDataContainer, dataClass) {\r\n        super(divId);\r\n\r\n\r\n        this.$mainContainer.prepend(`<div class=\"ssa-map-sidebar\"></div>`);\r\n\r\n        this.mainMap = quickMap({\r\n            divId: this.mapId,\r\n            minZoom: 6,\r\n            zoom: 6,\r\n            fullScreen: true,\r\n            addGeocode: true\r\n        });\r\n\r\n\r\n        /**\r\n         * @type {MapPopupCls}\r\n         */\r\n        this.mainMapPopup = mapPopup;\r\n\r\n\r\n        this.$sideBar = this.$mainContainer.find('.ssa-map-sidebar');\r\n\r\n        let afterChange = () => {\r\n            this._afterChange();\r\n        };\r\n\r\n        this.pickerCollection = new PickerCollection(this.$sideBar, this.mainMap);\r\n\r\n        let corridorsGuid = makeGuid();\r\n        this.$sideBar.append(`<div id=\"${corridorsGuid}\"></div>`);\r\n        this.corridorCollection = new CorridorCollection(this.$sideBar, this.mainMap, corridorDataContainer, afterChange, dataClass);\r\n        this.pickerCollection.corridorCollection = this.corridorCollection;\r\n\r\n        this.corridorCollection.loadExistingCorridors();\r\n    }\r\n\r\n    _afterChange() {\r\n        let __this = this;\r\n        \r\n        this.corridorCollection.$innerContainer.find('.corridor-zoom').click(function () {\r\n\r\n            let corridorId = $(this).attr('data-corridor');\r\n            let cor = __this.corridorCollection.getCorridorById(corridorId);\r\n            __this.mainMap.getView().fit(cor.extent as ol.Extent, __this.mainMap.getSize());\r\n        });\r\n\r\n        this.corridorCollection.$innerContainer.find('.corridor-delete').click(function () {\r\n            let corridorId = $(this).attr('data-corridor');\r\n            __this.corridorCollection.removeCorridor(corridorId);\r\n        });\r\n\r\n        this.corridorCollection.$innerContainer.find('.corridor-edit').click(function () {\r\n            __this.pickerCollection.$createCorridorButton.prop('disabled', true);\r\n            let corridorId = $(this).attr('data-corridor');\r\n            let cor = __this.corridorCollection.getCorridorById(corridorId);\r\n            __this.pickerCollection.startPicker(cor);\r\n            $(this).closest('.corridor-tr').addClass('corridor-tr-selected');\r\n        });\r\n    }\r\n}\r\n\r\nnm.SsaMapCreate = SsaMapCreate;\r\nwindow['SsaMapCreate'] = SsaMapCreate;\r\nexport default SsaMapCreate;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/SsaMapCreate.ts","/**\r\n * Created by gavorhes on 5/13/2016.\r\n */\r\n\r\nimport SsaMapBase from './SsaMapBase';\r\nimport quickMap from 'webmapsjs/dist/olHelpers/quickMap';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport mapMove from 'webmapsjs/dist/olHelpers/mapMove';\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nimport CorridorConfig from '../corridor/CorridorConfig';\r\nimport Corridor from '../corridor/Corridor';\r\nimport * as styles  from '../layerStyles';\r\nimport * as calcExtent from 'webmapsjs/dist/olHelpers/extentUtil';\r\nimport crashData from '../collections/crashData';\r\nimport mmFlags from '../collections/mmFlags';\r\nimport controllingCriteria from '../collections/controllingCriteria';\r\nimport deficiency from '../collections/Deficiency';\r\nimport * as constants from '../constants';\r\nimport ol = require('custom-ol');\r\nimport ajx from '../ajaxGetters';\r\nimport $ = require('jquery');\r\nimport {LayerBaseVector} from \"webmapsjs/dist/layers/LayerBaseVector\";\r\nimport {mmPopupContent} from '../popup';\r\nimport {get_browser} from 'webmapsjs/dist/util/get_browser';\r\n\r\nconst nm = provide('ssa');\r\n\r\nconst mmPopupContentWithCrash = (props) => {\r\n    \"use strict\";\r\n    let returnHtml = mmPopupContent(props);\r\n\r\n    returnHtml += crashData.getCrashSummary(props['pdpId']);\r\n\r\n    return returnHtml;\r\n};\r\n\r\n\r\nexport class SsaMapView extends SsaMapBase {\r\n    createdCorridorsLength: number;\r\n    _corridorArray: Corridor[];\r\n    loadedCorridorsLength: number;\r\n    private $getMapButton: JQuery;\r\n    private getMapLinkId: string;\r\n    private _ssaId: number;\r\n    private _snap: number;\r\n    private mapImageName: string;\r\n\r\n    /**\r\n     *\r\n     * @param {string} divId - container for the map\r\n     * @param {string} [dataClass=corridor-data] - class selector for the corridor data elements\r\n     * @param {string} [infoAnchorId=ssa-corridor-info-anchor] - id of element after which to insert the info rows\r\n     */\r\n    constructor(divId, dataClass, infoAnchorId) {\r\n        super(divId);\r\n        this._ssaId = parseInt($('#hidden-ssa-id').val());\r\n        this._snap = parseInt($('#hidden-snapshot-id').val());\r\n\r\n        this.$getMapButton = $('#download-map-image');\r\n\r\n        this.getMapLinkId = 'get-map-link';\r\n        this.mapImageName = `map-image-id-${this._ssaId}-ver-${this._snap}.png`;\r\n\r\n        let linkHtml = `<a id=\"${this.getMapLinkId}\" href=\"#\" ` +\r\n            `download=\"${this.mapImageName}\" ` +\r\n            `style=\"display: none\"></a>`;\r\n\r\n        $('#' + this.mapId).append(linkHtml);\r\n\r\n        this.mainMap = quickMap({\r\n            divId: this.mapId,\r\n            minZoom: 6,\r\n            zoom: 6,\r\n            fullScreen: true,\r\n            addGeocode: true\r\n        });\r\n\r\n\r\n        let summaryListHtml = '<div class=\"segment-index-summary\">';\r\n        summaryListHtml += '<div class=\"segment-index-summary-toggles\">';\r\n        summaryListHtml += `<span class=\"segment-index-summary-toggle segment-index-summary-zoom\" title=\"Zoom To Initial Extent\">&#8634;</span>`;\r\n        summaryListHtml += `<span class=\"segment-index-summary-toggle segment-index-summary-close\" title=\"Hide Legend\">&#8598;</span>`;\r\n        summaryListHtml += `<span class=\"segment-index-summary-toggle segment-index-summary-open\" title=\"Show Legend\">&#8600;</span>`;\r\n        summaryListHtml += '</div>';\r\n\r\n        summaryListHtml += `<h4 style=\"color: ${constants.mmFlagColor}\">Metamanager Flags</h4>`;\r\n        summaryListHtml += `<ul id=\"${constants.mmFlagListId}\"></ul>`;\r\n        summaryListHtml += `<h4 style=\"color: ${constants.controllingCriteriaColor}\">Controlling Criteria</h4>`;\r\n        summaryListHtml += `<ul id=\"${constants.ccListId}\"></ul>`;\r\n\r\n\r\n        summaryListHtml += '</div>';\r\n        this.$mapDiv.append(summaryListHtml);\r\n\r\n        let $legendDiv = this.$mapDiv.find('.segment-index-summary');\r\n        let $closeButton = $legendDiv.find('.segment-index-summary-close');\r\n        let $openButton = $legendDiv.find('.segment-index-summary-open');\r\n        let $zoomExtent = $legendDiv.find('.segment-index-summary-zoom');\r\n\r\n        $openButton.hide();\r\n\r\n        let hideShowWorking = false;\r\n        let originalWidth = $legendDiv.width();\r\n        let originalMinHeight = $legendDiv.css('min-height') as string;\r\n        let originalPadding = $legendDiv.css('padding') as string;\r\n\r\n        $closeButton.click(() => {\r\n            if (hideShowWorking) {\r\n                return;\r\n            }\r\n            hideShowWorking = true;\r\n\r\n            $legendDiv.find('ul, h3, h4, h5').fadeOut(100, () => {\r\n                $legendDiv.css('padding', '2px');\r\n                $legendDiv.width('auto');\r\n                $legendDiv.css('min-height', 'auto');\r\n\r\n                $closeButton.hide();\r\n                $openButton.show();\r\n                hideShowWorking = false;\r\n            });\r\n        });\r\n\r\n        $openButton.click(() => {\r\n            if (hideShowWorking) {\r\n                return;\r\n            }\r\n            hideShowWorking = true;\r\n\r\n            $legendDiv.css('padding', originalPadding);\r\n            $legendDiv.width(originalWidth);\r\n            $legendDiv.css('min-height', originalMinHeight);\r\n\r\n            $legendDiv.find('ul, h3, h4, h5').fadeIn(100, () => {\r\n                $closeButton.show();\r\n                $openButton.hide();\r\n                hideShowWorking = false;\r\n            });\r\n        });\r\n\r\n        $zoomExtent.click(() => {\r\n            this._fitExtent();\r\n        });\r\n\r\n\r\n        this.mainMapPopup = mapPopup;\r\n\r\n        dataClass = typeof dataClass == 'string' ? dataClass : 'corridor-data';\r\n        infoAnchorId = typeof infoAnchorId == 'string' ? infoAnchorId : 'ssa-corridor-info-anchor';\r\n        dataClass = '.' + dataClass;\r\n\r\n        $(this.mainMap.getTargetElement()).append('<div class=\"crashes-loaded-msg\">Crashes Loaded</div>');\r\n\r\n        /**\r\n         *\r\n         * @type {Array<CorridorConfig>}\r\n         */\r\n        let corridorConfigs = [];\r\n\r\n        /**\r\n         *\r\n         * @type {Array<Corridor>}\r\n         */\r\n        this._corridorArray = [];\r\n\r\n        // parse the data from the hidden input elements\r\n        $(dataClass).each((n, el) => {\r\n            corridorConfigs.push(new CorridorConfig(el));\r\n        });\r\n\r\n        this.createdCorridorsLength = corridorConfigs.length;\r\n        this.loadedCorridorsLength = 0;\r\n\r\n        let returnLookup = {};\r\n        let returnArr = [];\r\n\r\n        ajx.getCcGeom(this._ssaId, this._snap, (d) => {\r\n            for (let f of d['features']) {\r\n                let corId = f['properties']['corridorId'].toFixed();\r\n\r\n                if (!returnLookup[corId]) {\r\n                    returnArr.push(corId);\r\n                    returnLookup[corId] = {crs: d['crs'], type: d['type'], features: []};\r\n                }\r\n\r\n                returnLookup[corId].features.push(f);\r\n            }\r\n\r\n            let outHtml = '';\r\n\r\n            for (let i = 0; i < returnArr.length; i++) {\r\n                let conf = corridorConfigs[i];\r\n                outHtml += conf.bootstrapHtml(i);\r\n\r\n                let corridor = new Corridor(\r\n                    conf.startPdp, conf.endPdp, conf.startRp, conf.endRp,\r\n                    conf.startCounty, conf.endCounty, conf.hgwy, conf.routeId,\r\n                    {\r\n                        color: 'black',\r\n                        jsonFeatures: returnLookup[i.toFixed()],\r\n                    }\r\n                );\r\n\r\n                mmFlags.addCorridor(corridor);\r\n                controllingCriteria.addCorridor(corridor);\r\n                deficiency.addCorridor(corridor);\r\n\r\n                this._corridorArray.push(corridor);\r\n\r\n                this.mainMap.addLayer(corridor.olLayer);\r\n                this.mainMap.addLayer(corridor.nodeLayer.olLayer);\r\n\r\n                this.mainMapPopup.addVectorPopup(corridor.layer, mmPopupContentWithCrash);\r\n            }\r\n\r\n            this._afterCorridorLoad();\r\n\r\n            $('#' + infoAnchorId).after(outHtml);\r\n        });\r\n\r\n\r\n        mmFlags.init(this.mainMap);\r\n        controllingCriteria.init(this.mainMap);\r\n        deficiency.init(this.mainMap);\r\n\r\n\r\n        this.$getMapButton.click(() => {\r\n            let browserVersion = get_browser();\r\n            console.log(`browser name: ${browserVersion.name}, version: ${browserVersion.version}`);\r\n            let isIE = false;\r\n            if (browserVersion.name.search(/IE?/) > -1){\r\n                isIE = true;\r\n\r\n                if (parseInt(browserVersion.version) < 11){\r\n                    alert(\"Unsupported Browser\\nUpgrade to Internet Explorer 11 or use Firefox or Chrome\");\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let mapTarget: HTMLDivElement = this.mainMap.getTargetElement() as HTMLDivElement;\r\n\r\n            let originalHeight = mapTarget.style.height;\r\n            let originalWidth = mapTarget.style.width;\r\n            let originalPosition = mapTarget.style.position;\r\n            let originalCenter = this.mainMap.getView().getCenter();\r\n            let originalZoom = this.mainMap.getView().getZoom();\r\n\r\n            let mapSize = 1800;\r\n            let mapTimeout = 2000;\r\n\r\n            mapTarget.style.height = `${mapSize}px`;\r\n            mapTarget.style.width = `${mapSize}px`;\r\n            mapTarget.style.position = 'absolute';\r\n\r\n\r\n            this.mainMap.once('postrender', () => {\r\n\r\n                this._fitExtent();\r\n                setTimeout(() => {\r\n                    this.mainMap.once('postcompose', (event) => {\r\n                        try {\r\n                            let canvas: HTMLCanvasElement = event['context'].canvas;\r\n                            let imgData = canvas.toDataURL('image/png');\r\n\r\n                            if (isIE){\r\n                                window.navigator.msSaveBlob(canvas.msToBlob(), this.mapImageName);\r\n                            } else {\r\n                                let linkEl: HTMLAnchorElement = document.getElementById(this.getMapLinkId) as HTMLAnchorElement;\r\n                                linkEl.href = imgData;\r\n                                linkEl.click();\r\n                                linkEl.href = '#';\r\n                            }\r\n\r\n                            mapTarget.style.height = originalHeight;\r\n                            mapTarget.style.width = originalWidth;\r\n                            mapTarget.style.position = originalPosition;\r\n\r\n                            this.mainMap.updateSize();\r\n                            this.mainMap.getView().setCenter(originalCenter);\r\n                            this.mainMap.getView().setZoom(originalZoom);\r\n                        }\r\n                        catch (ex) {\r\n                            // reportParams['imgData'] = null;\r\n                        }\r\n                    });\r\n                    this.mainMap.renderSync();\r\n                }, mapTimeout);\r\n            });\r\n\r\n            this.mainMap.updateSize();\r\n        })\r\n    }\r\n\r\n    _afterCorridorLoad() {\r\n\r\n        this._fitExtent();\r\n\r\n        crashData.init(this.mainMap, this._ssaId, this._snap);\r\n        mmFlags.afterLoad();\r\n        controllingCriteria.afterLoad();\r\n        deficiency.afterLoad()\r\n    }\r\n\r\n    private _fitExtent() {\r\n\r\n        let lyrs: LayerBaseVector[] = [];\r\n\r\n        for (let c of this._corridorArray) {\r\n            lyrs.push(c.layer);\r\n        }\r\n\r\n        if (lyrs.length > 0) {\r\n            calcExtent.fitToMap(lyrs, this.mainMap);\r\n        }\r\n    }\r\n}\r\n\r\nnm.SsaMapView = SsaMapView;\r\nwindow['SsaMapView'] = SsaMapView;\r\nexport default SsaMapView;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/SsaMapView.ts","import {LayerBase, LayerBaseOptions} from './LayerBase';\r\nimport mapMove from '../olHelpers/mapMove';\r\nimport MapMoveCls from '../olHelpers/mapMoveCls'\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\n\r\nconst nm = provide('layers');\r\n\r\nexport interface makeMapMoveParams {\r\n    /**\r\n     *\r\n     * @param lyr\r\n     * @param extent\r\n     * @param zoomLevel\r\n     */\r\n    (lyr: LayerBaseVector, extent: {minX: number, minY: number, maxX: number, maxY: number}, zoomLevel?: number): any\r\n}\r\n\r\n\r\n\r\nexport interface LayerBaseVectorOptions extends LayerBaseOptions{\r\n    autoLoad?: boolean;\r\n    style?: ol.style.Style|Array<ol.style.Style>|ol.StyleFunction;\r\n    onDemand?: boolean;\r\n    onDemandDelay?: number;\r\n    mapMoveMakeGetParams?: makeMapMoveParams;\r\n    mapMoveObj?: MapMoveCls;\r\n    renderOrder?: (a: ol.Feature, b: ol.Feature) => number;\r\n\r\n}\r\n\r\n\r\n\r\n/**\r\n * The Vector layer base\r\n * @augments LayerBase\r\n * @abstract\r\n */\r\nexport class LayerBaseVector extends LayerBase {\r\n    _olLayer: ol.layer.Vector;\r\n    _source: ol.source.Vector;\r\n    _style: ol.style.Style|Array<ol.style.Style>|ol.StyleFunction;\r\n    _autoLoad: boolean;\r\n    _onDemand: boolean;\r\n    _onDemandDelay: number;\r\n    _mapMoveMakeGetParams: makeMapMoveParams;\r\n    _mapMoveParams: any;\r\n    _mapMove: MapMoveCls;\r\n    _projectionMap: ol.proj.Projection;\r\n    _projection4326: ol.proj.Projection;\r\n\r\n\r\n\r\n    /**\r\n     * The base vector layer\r\n     * @param {string} url - pass an empty string to prevent default load and add from a json source\r\n     * @param {object} options - config\r\n     * @param {string} [options.id] - layer id\r\n     * @param {string} [options.name=Unnamed Layer] - layer name\r\n     * @param {number} [options.opacity=1] - opacity\r\n     * @param {boolean} [options.visible=true] - default visible\r\n     * @param {number} [options.minZoom=undefined] - min zoom level, 0 - 28\r\n     * @param {number} [options.maxZoom=undefined] - max zoom level, 0 - 28\r\n     * @param {object} [options.params={}] the get parameters to include to retrieve the layer\r\n     * @param {number} [options.zIndex=0] the z index for the layer\r\n     * @param {function} [options.loadCallback] function to call on load, context this is the layer object\r\n     * @param {boolean} [options.legendCollapse=false] if the legend item should be initially collapsed\r\n     * @param {boolean} [options.legendCheckbox=true] if the legend item should have a checkbox for visibility\r\n     * @param {boolean} [options.legendContent] additional content to add to the legend\r\n     *\r\n     * @param {boolean} [options.autoLoad=false] if the layer should auto load if not visible\r\n     * @param {object} [options.style=undefined] the layer style, use openlayers default style if not defined\r\n     * @param {boolean} [options.onDemand=false] if the layer should be loaded by extent on map move\r\n     * @param {number} [options.onDemandDelay=300] delay before the map move callback should be called\r\n     * @param {mapMoveMakeGetParams} [options.mapMoveMakeGetParams=function(lyr, extent, zoomLevel){}] function to create additional map move params\r\n     * @param {MapMoveCls} [options.mapMoveObj=mapMove] alternate map move object for use with multi map pages\r\n     *\r\n     */\r\n    constructor(url: string, options: LayerBaseVectorOptions = {}) {\r\n        super(url, options);\r\n\r\n        options = options as LayerBaseVectorOptions;\r\n\r\n        //prevent regular load if no url has been provided\r\n        if (this.url.trim() == '') {\r\n            this._loaded = true;\r\n        }\r\n\r\n        this._style = typeof options.style == 'undefined' ? undefined : options.style;\r\n\r\n        if (this.visible) {\r\n            this._autoLoad = true;\r\n        } else {\r\n            this._autoLoad = (typeof options['autoLoad'] == 'boolean' ? options['autoLoad'] : false);\r\n        }\r\n\r\n        this._onDemand = typeof options.onDemand == 'boolean' ? options.onDemand : false;\r\n        this._onDemandDelay = typeof options.onDemandDelay == 'number' ? options.onDemandDelay : 300;\r\n\r\n        if (options.mapMoveObj) {\r\n            this._mapMove = options.mapMoveObj;\r\n        } else {\r\n            this._mapMove = this._onDemand ? mapMove : undefined;\r\n        }\r\n\r\n\r\n        this._mapMoveMakeGetParams = typeof options.mapMoveMakeGetParams == 'function' ? options.mapMoveMakeGetParams :\r\n            function () {return {};};\r\n\r\n        if (this._onDemand) {\r\n            this._loaded = true;\r\n            this._mapMoveParams = {};\r\n            this._mapMove.checkInit();\r\n            this._mapMove.addVectorLayer(this);\r\n        }\r\n\r\n        this._source = new ol.source.Vector();\r\n\r\n\r\n        this._olLayer = new ol.layer.Vector(\r\n            {\r\n                source: this._source,\r\n                visible: this.visible,\r\n                style: this.style,\r\n                minResolution: this._minResolution,\r\n                maxResolution: this._maxResolution,\r\n                renderOrder: options.renderOrder\r\n            }\r\n        );\r\n\r\n        this.olLayer.setZIndex(this._zIndex);\r\n\r\n        this._projectionMap = null;\r\n        this._projection4326 = new ol.proj.Projection({code: \"EPSG:4326\"});\r\n        this._olLayer.setOpacity(this.opacity)\r\n    }\r\n\r\n    /**\r\n     * dummy to be overridden\r\n     * @param {object} featureCollection - geojson or esrijson object\r\n     */\r\n    addFeatures(featureCollection: Object) {\r\n        console.log('Layer vector base addFeatures is a placeholder and does nothing');\r\n    }\r\n\r\n    /**\r\n     * Before call to map move callback, can prevent call by returning false\r\n     * @param {number} zoom - zoom level\r\n     * @param {string} [evtType=undefined] undefined for initial load, otherwise one of 'change:center', 'change:resolution'\r\n     * @returns {boolean} if the call should proceed\r\n     */\r\n    mapMoveBefore(zoom: number, evtType: string) {\r\n        if (this.minZoom !== undefined) {\r\n            if (zoom < this.minZoom) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if (this.maxZoom !== undefined) {\r\n            if (zoom > this.maxZoom) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return this.visible;\r\n    }\r\n\r\n    /**\r\n     * callback to generate the parameters passed in the get request\r\n     * @param {object} extent - extent object\r\n     * @param {number} extent.minX - minX\r\n     * @param {number} extent.minY - minY\r\n     * @param {number} extent.maxX - maxX\r\n     * @param {number} extent.maxY - maxY\r\n     * @param {number} zoomLevel - zoom level\r\n     */\r\n    mapMoveMakeGetParams(extent: {minX: number, minY: number, maxX: number, maxY: number}, zoomLevel: number) {\r\n        this._mapMoveParams = {};\r\n        $.extend(this._mapMoveParams, this.params);\r\n        $.extend(this._mapMoveParams, this._mapMoveMakeGetParams(this, extent, zoomLevel));\r\n    }\r\n\r\n    /**\r\n     * callback function on map move\r\n     * @param {object} d - the json response\r\n     */\r\n    mapMoveCallback(d: Object) {\r\n        if (this.source) {\r\n            this._source.clear();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * clear features in the layer\r\n     */\r\n    clear() {\r\n        if (this._source) {\r\n            this._source.clear();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get on demand delay in miliseconds\r\n     */\r\n    get onDemandDelay(): number {\r\n        return this._onDemandDelay;\r\n    }\r\n\r\n    /**\r\n     * get if the layer is autoloaded\r\n     */\r\n    get autoLoad(): boolean {\r\n        return this._autoLoad;\r\n    }\r\n\r\n    /**\r\n     * get the style definition\r\n     */\r\n    get style(): ol.StyleFunction|Array<ol.style.Style>|ol.style.Style {\r\n        return this._style;\r\n    }\r\n\r\n    /**\r\n     * set the style\r\n     * @param style - the style or function\r\n     */\r\n    set style(style: ol.StyleFunction|Array<ol.style.Style>|ol.style.Style) {\r\n        this._style = style;\r\n        this.olLayer.setStyle(this._style as ol.style.Style);\r\n    }\r\n\r\n    /**\r\n     * get the map CRS if it is defined by the map move object\r\n     */\r\n    get mapCrs(): string {\r\n        return this.mapProj == null ? null : this.mapProj.getCode();\r\n    }\r\n\r\n    get mapProj(): ol.proj.Projection{\r\n        if (this._projectionMap != null){\r\n            return this._projectionMap;\r\n        }\r\n\r\n        if (this._mapMove) {\r\n            this._projectionMap = this._mapMove.map.getView().getProjection();\r\n            return this._projectionMap;\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * get the map move object\r\n     * @type {MapMoveCls|*}\r\n     */\r\n    get mapMove(): MapMoveCls {\r\n        return this._mapMove;\r\n    }\r\n\r\n    /**\r\n     * map move params\r\n     * @type {object}\r\n     */\r\n    get mapMoveParams() {\r\n        return this._mapMoveParams;\r\n    }\r\n\r\n    get visible(): boolean{\r\n        return this._visible;\r\n    }\r\n\r\n    /**\r\n     * Set the layer visibility\r\n     * @type {boolean}\r\n     * @override\r\n     */\r\n    set visible(visibility) {\r\n        super.setVisible(visibility);\r\n\r\n        if (this._onDemand) {\r\n            this.mapMove.triggerLyrLoad(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get the layer vector source\r\n     * @override\r\n     */\r\n    get source(): ol.source.Vector {\r\n        return this.getSource() as ol.source.Vector;\r\n    }\r\n\r\n    /**\r\n     * array of ol features\r\n     */\r\n    get features(): Array<ol.Feature> {\r\n        return this.source.getFeatures();\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    get olLayer(): ol.layer.Vector {\r\n        return super.getOlLayer() as ol.layer.Vector;\r\n    }\r\n\r\n    protected setZIndex(newZ: number) {\r\n        this.olLayer.setZIndex(newZ);\r\n    }\r\n}\r\n\r\nnm.LayerBaseVector = LayerBaseVector;\r\nexport default LayerBaseVector;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/layers/LayerBaseVector.ts","/**\r\n * Created by gavorhes on 12/7/2015.\r\n */\r\nimport {LayerBase, LayerBaseOptions} from './LayerBase';\r\nimport * as esriToOl from '../olHelpers/esriToOlStyle';\r\nimport mapPopup from '../olHelpers/mapPopup';\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\n\r\nconst nm = provide('layers');\r\n\r\n\r\n\r\n/**\r\n * Helper to return the url to the service on the production server\r\n * @param {string} folder\r\n * @param {string} service\r\n * @returns {string}\r\n */\r\nexport function makeServiceUrl(folder: string, service: string): string{\r\n    return `https://transportal.cee.wisc.edu/applications/arcgis2/rest/services/${folder}/${service}/MapServer`\r\n}\r\n\r\nexport function localCacheUrl(folder: string, service: string): string{\r\n    let loc = window.location.href;\r\n\r\n    let url = `/mapserver/${folder}/${service}`;\r\n\r\n    if (loc.indexOf('transportal.cee.wisc.edu') > -1){\r\n        if (loc.toLowerCase().indexOf('webmapsstage') > -1){\r\n            url = 'https://transportal.cee.wisc.edu/gis/webmapsstage' + url;\r\n        } else {\r\n            url = 'https://transportal.cee.wisc.edu/gis/webmaps' + url\r\n        }\r\n    }\r\n\r\n\r\n    return url;\r\n}\r\n\r\n\r\n\r\n\r\nexport interface LayerEsriMapServerOptions extends LayerBaseOptions {\r\n    addPopup?: boolean;\r\n    showLayers?: Array<number>;\r\n}\r\n\r\n/**\r\n * esri mapserver layer\r\n * @augments LayerBase\r\n */\r\nexport class LayerEsriMapServer extends LayerBase {\r\n    _esriFormat: ol.format.EsriJSON;\r\n    _popupRequest: JQueryXHR;\r\n    _showLayers: number[];\r\n\r\n    /**\r\n     * The base layer for all others\r\n     * @param {string} url - resource url\r\n     * @param {object} [options] - config\r\n     * @param {string} [options.id] - layer id\r\n     * @param {string} [options.name=Unnamed Layer] - layer name\r\n     * @param {number} [options.opacity=1] - opacity\r\n     * @param {boolean} [options.visible=true] - default visible\r\n     * @param {number} [options.minZoom=undefined] - min zoom level, 0 - 28\r\n     * @param {number} [options.maxZoom=undefined] - max zoom level, 0 - 28\r\n     * @param {object} [options.params={}] the get parameters to include to retrieve the layer\r\n     * @param {number} [options.zIndex=0] the z index for the layer\r\n     * @param {function} [options.loadCallback] function to call on load, context this is the layer object\r\n     * @param {boolean} [options.legendCollapse=false] if the legend item should be initially collapsed\r\n     * @param {boolean} [options.legendCheckbox=true] if the legend item should have a checkbox for visibility\r\n     * @param {boolean} [options.legendContent] additional content to add to the legend\r\n     * @param {boolean} [options.addPopup=false] if a popup should be added\r\n     * @param {undefined|Array<number>} [options.showLayers=undefined] if a popup should be added\r\n     */\r\n    constructor(url: string, options: LayerEsriMapServerOptions = {}) {\r\n\r\n        super(url, options);\r\n        this._source = new ol.source.TileArcGISRest(\r\n            {\r\n                url: this.url == '' ? undefined : this.url,\r\n                params: typeof options.showLayers == 'undefined' ? undefined : {layers: 'show:' + options.showLayers.join(',')}\r\n            }\r\n        );\r\n\r\n        this._showLayers = options.showLayers || [];\r\n\r\n        this._olLayer = new ol.layer.Tile({\r\n            source: this._source as ol.source.Tile,\r\n            visible: this.visible,\r\n            opacity: this.opacity,\r\n            minResolution: this._minResolution,\r\n            maxResolution: this._maxResolution\r\n        });\r\n\r\n        this._olLayer.setZIndex(this._zIndex);\r\n\r\n        options.addPopup = typeof options.addPopup == 'boolean' ? options.addPopup : false;\r\n\r\n        this._esriFormat = new ol.format.EsriJSON();\r\n        this._popupRequest = null;\r\n\r\n        this.addLegendContent();\r\n\r\n        if (options.addPopup) {\r\n            mapPopup.addMapServicePopup(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * add additional content to the legend\r\n     * @param {string} [additionalContent=''] additional content for legend\r\n     */\r\n    addLegendContent(additionalContent?: string) {\r\n        let urlCopy = this.url;\r\n\r\n        if (urlCopy[urlCopy.length - 1] !== '/') {\r\n            urlCopy += '/';\r\n        }\r\n\r\n        urlCopy += 'legend?f=pjson&callback=?';\r\n\r\n        $.get(urlCopy, {}, (d) => {\r\n            let newHtml = esriToOl.makeMapServiceLegend(d, this._showLayers);\r\n            super.addLegendContent(newHtml);\r\n        }, 'json');\r\n    }\r\n\r\n\r\n    getPopupInfo(queryParams: {[s: string]: any}) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n\r\n        let urlCopy = this.url;\r\n\r\n        if (urlCopy[urlCopy.length - 1] != '/') {\r\n            urlCopy += '/';\r\n        }\r\n\r\n        urlCopy += 'identify?callback=?';\r\n\r\n        let __this = this;\r\n\r\n        if (this._popupRequest != null) {\r\n            this._popupRequest.abort();\r\n        }\r\n\r\n\r\n        this._popupRequest = $.get(urlCopy, queryParams, function (d) {\r\n            for (let r of d['results']) {\r\n\r\n                let popupHtml = '<table class=\"esri-popup-table\">';\r\n\r\n                for (let a in r['attributes']) {\r\n                    if (r['attributes'].hasOwnProperty(a)) {\r\n                        let attrVal = r['attributes'][a];\r\n\r\n                        if (attrVal == null || attrVal.toString().toLowerCase() == 'null') {\r\n                            continue;\r\n                        }\r\n\r\n                        let attr = a;\r\n                        if (attr.length > 14) {\r\n                            attr = attr.slice(0, 11) + '...';\r\n                        }\r\n\r\n                        popupHtml += `<tr><td>${attr}</td><td>${attrVal}</td></tr>`;\r\n                    }\r\n                }\r\n\r\n                popupHtml += '</table>';\r\n\r\n                mapPopup.addMapServicePopupContent(__this._esriFormat.readFeature(r), __this, popupHtml, r['layerName']);\r\n            }\r\n        }, 'json');\r\n\r\n        this._popupRequest.always(function () {\r\n            __this._popupRequest = null;\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {ol.source.TileArcGISRest} the vector source\r\n     */\r\n    get source(): ol.source.TileArcGISRest {\r\n        return super.getSource() as ol.source.TileArcGISRest;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns the ol layer\r\n     */\r\n    get olLayer(): ol.layer.Tile {\r\n        return super.getOlLayer() as ol.layer.Tile;\r\n    }\r\n}\r\nnm.LayerEsriMapServer = LayerEsriMapServer;\r\nexport default LayerEsriMapServer;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/layers/LayerEsriMapServer.ts","/**\r\n * Created by gavorhes on 1/4/2016.\r\n */\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nconst nm = provide('olHelpers.esriToOlStyle');\r\n\r\n\r\n/**\r\n *\r\n * @param {Array<number>} colorArray - input color array\r\n * @param {number} opacity - the opacity 0 to 1\r\n * @returns {string} rgba string\r\n * @private\r\n */\r\nfunction _colorArrayToRgba(colorArray: [number, number, number], opacity: number): string {\r\n    \"use strict\";\r\n\r\n    return `rgba(${colorArray[0]},${colorArray[1]},${colorArray[2]},${opacity})`;\r\n}\r\n\r\n/**\r\n * escape html charcters\r\n * @param {string} str - input string\r\n * @returns {string} escaped string\r\n */\r\nfunction htmlEscape(str: string): string {\r\n    return String(str)\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&#39;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;');\r\n}\r\n\r\nnm.htmlEscape = htmlEscape;\r\n\r\n\r\nexport interface iEsriResponse{\r\n    drawingInfo: {\r\n        renderer: iEsriRenderer;\r\n        transparency: number\r\n    },\r\n    geometryType: string\r\n}\r\n\r\n\r\nexport interface iEsriRenderer{\r\n    type: string;\r\n    symbol: iEsriSymbol;\r\n    uniqueValueInfos: Array<{label: string, value: any, symbol: iEsriSymbol}>;\r\n    field1: string;\r\n    defaultSymbol: iEsriSymbol;\r\n    defaultLabel: string;\r\n}\r\n\r\nexport interface iEsriSymbol{\r\n    size: number;\r\n    type: string;\r\n    outline:{\r\n        color: [number, number, number];\r\n        width: number;\r\n    },\r\n    color: [number, number, number];\r\n    width: number;\r\n    imageData: string\r\n}\r\n\r\n\r\nclass CommonSymbol {\r\n    legendHtml: string;\r\n    opacity: number;\r\n    symbolObj: iEsriSymbol;\r\n    olStyle: ol.style.Style;\r\n\r\n    /**\r\n     *\r\n     * @param symbolObj\r\n     * @param {number} opacity\r\n     */\r\n    constructor(symbolObj: iEsriSymbol, opacity: number) {\r\n        this.symbolObj = symbolObj;\r\n        this.opacity = opacity;\r\n        this.olStyle = undefined;\r\n        this.legendHtml = '';\r\n    }\r\n}\r\n\r\ninterface ICommonSymbol{\r\n    new (symbolObj: iEsriSymbol, opacity: number): CommonSymbol\r\n}\r\n\r\n\r\nclass PointSymbol extends CommonSymbol {\r\n    constructor(symbolObj: iEsriSymbol, opacity: number) {\r\n        super(symbolObj, opacity);\r\n        switch (this.symbolObj.type) {\r\n            case 'esriSMS':\r\n                let innerColor = _colorArrayToRgba(this.symbolObj.color, this.opacity);\r\n                let outerColor = _colorArrayToRgba(this.symbolObj.outline.color, this.opacity);\r\n                let outlineWidth = this.symbolObj.outline.width;\r\n                let radius = this.symbolObj.size;\r\n\r\n\r\n                this.olStyle = new ol.style.Style({\r\n                    image: new ol.style.Circle({\r\n                        radius: radius,\r\n                        fill: new ol.style.Fill({\r\n                            color: innerColor\r\n                        }),\r\n                        stroke: new ol.style.Stroke({color: outerColor, width: outlineWidth})\r\n                    })\r\n                });\r\n                this.legendHtml = `<span class=\"legend-layer-icon\" style=\"color: ${innerColor}\">&#9679;</span>`;\r\n                break;\r\n            case 'esriPMS':\r\n                this.olStyle = new ol.style.Style({\r\n                    image: new ol.style.Icon({src: `data:image/png;base64,${this.symbolObj['imageData']}`})\r\n                });\r\n                this.legendHtml = `<img class=\"legend-layer-icon\" height=\"17\" src=\"data:image/png;base64,${this.symbolObj['imageData']}\">`;\r\n                break;\r\n            default:\r\n                console.log(this.symbolObj);\r\n                alert('Point symbol does not handle symbol type: ' + this.symbolObj['type']);\r\n        }\r\n    }\r\n}\r\n\r\nclass LineSymbol extends CommonSymbol {\r\n    constructor(symbolObj: iEsriSymbol, opacity: number) {\r\n        super(symbolObj, opacity);\r\n        switch (this.symbolObj.type) {\r\n            case 'esriSLS':\r\n                let innerColor = _colorArrayToRgba(this.symbolObj.color, this.opacity);\r\n                let lineWidth = this.symbolObj.width;\r\n\r\n                this.olStyle = new ol.style.Style({\r\n                    stroke: new ol.style.Stroke({\r\n                        color: innerColor,\r\n                        //lineDash: [4],\r\n                        width: lineWidth\r\n                    })\r\n                });\r\n\r\n                this.legendHtml = `<span class=\"legend-layer-icon\" `;\r\n                this.legendHtml += `style=\"`;\r\n                this.legendHtml += `background-color: ${innerColor};`;\r\n                this.legendHtml += `width: 40px;`;\r\n                this.legendHtml += `height: 4px;`;\r\n                this.legendHtml += `position: relative;`;\r\n                this.legendHtml += `display: inline-block;`;\r\n                this.legendHtml += `top: -1px;`;\r\n                this.legendHtml += `\"></span>`;\r\n                break;\r\n            default:\r\n                console.log(this.symbolObj);\r\n                alert('Line symbol does not handle symbol type: ' + this.symbolObj['type']);\r\n        }\r\n    }\r\n}\r\n\r\nclass PolygonSymbol extends CommonSymbol {\r\n    constructor(symbolObj: iEsriSymbol, opacity: number) {\r\n        super(symbolObj, opacity);\r\n        switch (this.symbolObj['type']) {\r\n            case 'esriSFS':\r\n                let innerColor = _colorArrayToRgba(this.symbolObj.color, this.opacity);\r\n                let outerColor = _colorArrayToRgba(this.symbolObj.outline.color, this.opacity);\r\n                let outlineWidth = this.symbolObj.outline.width;\r\n\r\n                this.olStyle = new ol.style.Style({\r\n                    stroke: new ol.style.Stroke({\r\n                        color: outerColor,\r\n                        //lineDash: [4],\r\n                        width: outlineWidth\r\n                    }),\r\n                    fill: new ol.style.Fill({\r\n                        color: innerColor\r\n                    })\r\n                });\r\n\r\n                this.legendHtml = `<span class=\"legend-layer-icon\" `;\r\n                this.legendHtml += `style=\"`;\r\n                this.legendHtml += `background-color: ${innerColor};`;\r\n                this.legendHtml += `border: solid ${outerColor} 1px;`;\r\n                this.legendHtml += `width: 40px;`;\r\n                this.legendHtml += `height: 9px;`;\r\n                this.legendHtml += `position: relative;`;\r\n                this.legendHtml += `display: inline-block;`;\r\n                this.legendHtml += `top: 2px;`;\r\n                this.legendHtml += `\"></span>`;\r\n                break;\r\n\r\n            default:\r\n                console.log(this.symbolObj);\r\n                alert('Polygon symbol does handle symbol type: ' + this.symbolObj['type']);\r\n        }\r\n    }\r\n}\r\n\r\nexport interface iStyleFunc{\r\n    (f: ol.Feature): ol.style.Style| ol.style.Style[]\r\n}\r\n\r\nclass SymbolGenerator {\r\n    opacity: number;\r\n    renderer: iEsriRenderer;\r\n    legendHtml: string;\r\n    olStyle: iStyleFunc | ol.style.Style;\r\n\r\n    constructor(esriResponse: iEsriResponse) {\r\n        this.opacity = (100 - (esriResponse['drawingInfo']['transparency'] || 0)) / 100;\r\n        this.renderer = esriResponse.drawingInfo.renderer;\r\n        this.olStyle = undefined;\r\n        this.legendHtml = '';\r\n    }\r\n}\r\n\r\nclass SingleSymbol extends SymbolGenerator {\r\n    symbol: iEsriSymbol;\r\n    /**\r\n     *\r\n     * @param {object} esriResponse - layer info\r\n     * @param SymbolClass - the symbol class to use\r\n     */\r\n    constructor(esriResponse: iEsriResponse, SymbolClass: ICommonSymbol) {\r\n        super(esriResponse);\r\n        this.symbol = this.renderer.symbol;\r\n        let symbolObj = new SymbolClass(this.symbol, this.opacity);\r\n        this.olStyle = symbolObj.olStyle;\r\n        this.legendHtml = symbolObj.legendHtml;\r\n    }\r\n}\r\n\r\nclass UniqueValueSymbol extends SymbolGenerator {\r\n\r\n    propertyName: string;\r\n    defaultSymbol: iEsriSymbol;\r\n    defaultStyle: ol.style.Style;\r\n    defaultLabelHtml: string;\r\n    labelArray: Array<string>;\r\n    legendArray: Array<string>;\r\n    propertyStyleLookup: {[s: string]: ol.style.Style};\r\n    valueArray: Array<any>;\r\n    uniqueValueInfos: Array<{label: string, value: any, symbol: iEsriSymbol}>;\r\n\r\n    /**\r\n     *\r\n     * @param {object} esriResponse - layer info\r\n     * @param SymbolClass - the Symbol class definition\r\n     */\r\n    constructor(esriResponse: iEsriResponse, SymbolClass: ICommonSymbol) {\r\n        super(esriResponse);\r\n        this.uniqueValueInfos = this.renderer.uniqueValueInfos;\r\n        this.propertyName = this.renderer.field1;\r\n        this.defaultSymbol = this.renderer.defaultSymbol;\r\n\r\n\r\n        if (this.defaultSymbol) {\r\n            let symbolObj = new SymbolClass(this.defaultSymbol, this.opacity);\r\n            this.defaultStyle = symbolObj.olStyle;\r\n            this.defaultLabelHtml = `<span class=\"legend-layer-subitem\">${htmlEscape(this.renderer['defaultLabel'])}</span>` + symbolObj.legendHtml;\r\n        } else {\r\n            this.defaultStyle = undefined;\r\n            this.defaultLabelHtml = 'other';\r\n        }\r\n\r\n        this.valueArray = [];\r\n        this.labelArray = [];\r\n        this.legendArray = [];\r\n        this.propertyStyleLookup = {};\r\n\r\n        for (let uniqueVal of this.uniqueValueInfos) {\r\n            this.labelArray.push(uniqueVal['label']);\r\n            this.valueArray.push(uniqueVal['value']);\r\n            let uniqueSym = new SymbolClass(uniqueVal.symbol, this.opacity);\r\n            this.legendArray.push(`<span class=\"legend-layer-subitem\">${htmlEscape(uniqueVal['label'])}</span>` + uniqueSym.legendHtml);\r\n            this.propertyStyleLookup[uniqueVal['value']] = uniqueSym.olStyle;\r\n        }\r\n\r\n        this.olStyle = (feature: ol.Feature): ol.style.Style[] => {\r\n            let checkProperties = feature.getProperties();\r\n            let checkProperty = checkProperties[this.propertyName];\r\n\r\n            if (this.propertyStyleLookup[checkProperty] !== undefined) {\r\n                return [this.propertyStyleLookup[checkProperty]];\r\n            } else {\r\n               return [this.defaultStyle];\r\n            }\r\n        };\r\n\r\n        if (this.defaultLabelHtml !== null) {\r\n            this.legendArray.push(this.defaultLabelHtml);\r\n        }\r\n\r\n        this.legendHtml = '<ul>';\r\n        for (let h of this.legendArray) {\r\n            this.legendHtml += `<li>${h}</li>`;\r\n        }\r\n        this.legendHtml += '</ul>';\r\n    }\r\n}\r\n\r\nexport function makeFeatureServiceLegendAndSymbol(esriResponse: iEsriResponse): {style: iStyleFunc | ol.style.Style, legend: string} {\r\n    \"use strict\";\r\n    let renderer = esriResponse.drawingInfo.renderer;\r\n    let symbolLegendOut: SymbolGenerator = null;\r\n\r\n    switch (renderer.type) {\r\n        case 'simple':\r\n            switch (esriResponse.geometryType) {\r\n                case 'esriGeometryPoint':\r\n                    symbolLegendOut = new SingleSymbol(esriResponse, PointSymbol);\r\n                    break;\r\n                case 'esriGeometryPolyline':\r\n                    symbolLegendOut = new SingleSymbol(esriResponse, LineSymbol);\r\n                    break;\r\n                case 'esriGeometryPolygon':\r\n                    symbolLegendOut = new SingleSymbol(esriResponse, PolygonSymbol);\r\n                    break;\r\n                default:\r\n                    console.log(esriResponse);\r\n                    alert(esriResponse.geometryType + ' not handled');\r\n            }\r\n            break;\r\n        case 'uniqueValue':\r\n            switch (esriResponse.geometryType) {\r\n                case 'esriGeometryPoint':\r\n                    symbolLegendOut = new UniqueValueSymbol(esriResponse, PointSymbol);\r\n                    break;\r\n                case 'esriGeometryPolyline':\r\n                    symbolLegendOut = new UniqueValueSymbol(esriResponse, LineSymbol);\r\n                    break;\r\n                case 'esriGeometryPolygon':\r\n                    symbolLegendOut = new UniqueValueSymbol(esriResponse, PolygonSymbol);\r\n                    break;\r\n                default:\r\n                    console.log(esriResponse);\r\n                    alert(esriResponse['geometryType'] + ' not handled');\r\n            }\r\n            break;\r\n        default:\r\n            alert('not handled renderer type: ' + renderer['type']);\r\n    }\r\n\r\n    if (symbolLegendOut == null) {\r\n        return {style: undefined, legend: ''};\r\n    } else {\r\n        return {style: symbolLegendOut.olStyle, legend: symbolLegendOut.legendHtml};\r\n    }\r\n}\r\n\r\nnm.makeFeatureServiceLegendAndSymbol = makeFeatureServiceLegendAndSymbol;\r\n\r\n\r\nexport interface iMapServiceLegend{\r\n    layerName: string;\r\n    legend: {label: string, imageData: string}[]\r\n}\r\n\r\n/**\r\n *\r\n * @param {object} lyrObject - the layer as defined in the response\r\n * @param {boolean} [skipLayerNameAndExpander=false] use only icons\r\n * @returns {string} legend html\r\n */\r\nfunction mapServiceLegendItem(lyrObject: iMapServiceLegend, skipLayerNameAndExpander: boolean = false) {\r\n\r\n\r\n    skipLayerNameAndExpander = typeof skipLayerNameAndExpander == 'boolean' ? skipLayerNameAndExpander : false;\r\n    let layerName = lyrObject['layerName'];\r\n    let legendItems = lyrObject['legend'];\r\n    let legendHtml = '';\r\n\r\n    if (!skipLayerNameAndExpander) {\r\n        legendHtml += `<span class=\"legend-layer-subitem\">${layerName}</span>`;\r\n    }\r\n\r\n    if (legendItems.length == 1) {\r\n        legendHtml = `<img class=\"legend-layer-icon\" height=\"17\" src=\"data:image/png;base64,${legendItems[0]['imageData']}\">`;\r\n    } else {\r\n        if (!skipLayerNameAndExpander) {\r\n            legendHtml += '<span class=\"legend-items-expander\" title=\"Expand/Collapse\">&#9660;</span>';\r\n        }\r\n        legendHtml += '<ul>';\r\n        for (let i = 0; i < legendItems.length; i++) {\r\n            legendHtml += `<li>`;\r\n            legendHtml += `<span class=\"legend-layer-subitem\">${htmlEscape(legendItems[i]['label'])}</span>`;\r\n            legendHtml += `<img class=\"legend-layer-icon\" height=\"17\" src=\"data:image/png;base64,${legendItems[i]['imageData']}\">`;\r\n            legendHtml += `</li>`;\r\n        }\r\n        legendHtml += '</ul>';\r\n    }\r\n\r\n    if (!skipLayerNameAndExpander) {\r\n        legendHtml = `<span class=\"legend-layer-subitem\">${layerName}</span>` + legendHtml;\r\n    }\r\n\r\n    return legendHtml;\r\n}\r\n\r\n/**\r\n * make map service legent\r\n * @param {object} esriResponse - layer info\r\n * @param  showLayers - limited number of layers to show in map service\r\n * @returns {string} legend content\r\n */\r\nexport function makeMapServiceLegend(esriResponse: {layers: iMapServiceLegend[]}, showLayers: number[] = []) {\r\n    \"use strict\";\r\n\r\n    let newLegendHtml = '';\r\n\r\n    let layers = esriResponse['layers'];\r\n\r\n    if (layers.length == 1) {\r\n        newLegendHtml += mapServiceLegendItem(layers[0], true);\r\n    } else {\r\n        newLegendHtml += '<ul>';\r\n        for (let i = 0; i < layers.length; i++) {\r\n            if (showLayers.length > 0 && showLayers.indexOf(i) < 0){\r\n                continue;\r\n            }\r\n            newLegendHtml += '<li>' + mapServiceLegendItem(layers[i]) + '</li>';\r\n        }\r\n        newLegendHtml += '</ul>';\r\n    }\r\n\r\n    return newLegendHtml;\r\n}\r\n\r\nnm.makeMapServiceLegend = makeMapServiceLegend;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/esriToOlStyle.ts","import $ = require('jquery')\r\nimport {makeGuid} from '../util/makeGuid';\r\nimport ol = require('custom-ol');\r\nimport {proj3857, proj4326} from './projections';\r\n\r\n\r\nlet invalidClass = 'geocoder-invalid';\r\nlet geocoderLoadingClass = 'geocoder-loading';\r\n\r\n// let testAddress = '65 7th Street, Prairie du Sac, WI';\r\n\r\n\r\nexport class Geocode {\r\n    private theButton: HTMLButtonElement;\r\n    private theInput: HTMLInputElement;\r\n    private map: ol.Map;\r\n    private indicationLayer;\r\n\r\n    constructor(mapDiv: HTMLDivElement, map: ol.Map) {\r\n        let inputGuid = makeGuid();\r\n        let buttonGuid = makeGuid();\r\n\r\n        this.map = map;\r\n        this.indicationLayer = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            style: new ol.style.Style({\r\n                image: new ol.style.Circle({\r\n                    radius: 12,\r\n                    fill: new ol.style.Fill({color: 'rgba(255,0,0,0.5)'}),\r\n                    stroke: new ol.style.Stroke({color: 'red', width: 1})\r\n                })\r\n            })\r\n        });\r\n        this.map.addLayer(this.indicationLayer);\r\n\r\n        $(mapDiv).append('<div class=\"geocoder-el\">' +\r\n            `<input type=\"text\" id=\"${inputGuid}\">` +\r\n            `<button id=\"${buttonGuid}\">Search</button>` +\r\n            '</div>');\r\n\r\n        this.theButton = document.getElementById(buttonGuid) as HTMLButtonElement;\r\n        this.theInput = document.getElementById(inputGuid) as HTMLInputElement;\r\n\r\n        this.reset();\r\n\r\n        let $theButton = $(this.theButton);\r\n        let $theInput = $(this.theInput);\r\n\r\n        $theButton.click((evt) => {\r\n\r\n            evt.preventDefault();\r\n\r\n            $theButton.addClass(geocoderLoadingClass);\r\n            this.theButton.disabled = true;\r\n            this.indicationLayer.getSource().clear();\r\n\r\n            $.get(\r\n                `https://geocode.xyz/${this.theInput.value}?geoit=json`,\r\n                {},\r\n                (d) => {\r\n                    let lat = parseFloat(d['latt']);\r\n                    let lon = parseFloat(d['longt']);\r\n\r\n                    if ((lat == 0 && lon == 0) || d['error']) {\r\n                        $theInput.addClass(invalidClass);\r\n                        this.theInput.title = 'Specified Location Invalid';\r\n                        this.theButton.title = 'Specified Location Invalid';\r\n\r\n                    } else {\r\n                        let v = this.map.getView();\r\n                        let p = new ol.geom.Point([lon, lat]);\r\n                        let feat = new ol.Feature(p);\r\n                        this.indicationLayer.getSource().addFeature(feat);\r\n                        p.transform(proj4326, proj3857);\r\n\r\n                        v.setCenter(p.getCoordinates());\r\n                        v.setZoom(13);\r\n                    }\r\n\r\n                    $theButton.removeClass(geocoderLoadingClass);\r\n                    this.theButton.disabled = false;\r\n                },\r\n                'json');\r\n        });\r\n\r\n        $(this.theInput).keyup((evt) => {\r\n            this.theButton.disabled = this.theInput.value.length == 0;\r\n            $theInput.removeClass(invalidClass);\r\n            this.theInput.title = '';\r\n            this.theButton.title = '';\r\n\r\n            if (!this.theButton.disabled && evt.keyCode == 13) {\r\n                evt.preventDefault();\r\n                $theButton.click();\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    private reset() {\r\n        this.theButton.disabled = true;\r\n        this.theInput.value = '';\r\n    }\r\n\r\n\r\n// https://geocode.xyz/65%2075h%20street%20prairie%20du%20sac%20wi?geoit=json\r\n\r\n// error\r\n// geocoder-invalid\r\n\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/geocode.ts","import LayerBaseVector from \"../layers/LayerBaseVector\";\r\nimport MapInteractionBase from './mapInteractionBase';\r\nimport * as checkDefined from '../util/checkDefined';\r\nimport provide from '../util/provide';\r\nimport makeGuid from '../util/makeGuid';\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\nconst nm = provide('olHelpers');\r\n\r\n\r\nexport interface extentObject{\r\n    minX: number;\r\n    minY: number;\r\n    maxX: number;\r\n    maxY: number;\r\n}\r\n\r\nexport interface mapMoveCallbackFunction{\r\n    /**\r\n     *\r\n     * @param extent extent as predefined object minX, minX, maxX, maxY\r\n     * @param zoomLevel current zoom level\r\n     * @param evtType the event type 'change:center', 'change:resolution'\r\n     */\r\n    (extent: extentObject, zoomLevel: number, evtType?: string): any\r\n}\r\n\r\n\r\n/**\r\n * assists with map move interactions, trigger callback functions\r\n * @augments MapInteractionBase\r\n */\r\nexport class MapMoveCls extends MapInteractionBase {\r\n    _mapExtent: extentObject;\r\n    _zoomLevel: number;\r\n    _lookupLayer: {[s: string]: LayerBaseVector};\r\n    _arrLayer: Array<LayerBaseVector>;\r\n    _arrLyrTimeout: Array<number>;\r\n    _mapMoveCallbackTimeout: Array<number>;\r\n    _mapMoveCallbackDelays: Array<number>;\r\n    _mapMoveCallbacksLookup: {[s: string]: mapMoveCallbackFunction};\r\n    _mapMoveCallbackContext: Array<Object>;\r\n    _mapMoveCallbacks: Array<mapMoveCallbackFunction>;\r\n    _arrLyrRequest: Array<any>;\r\n\r\n    /**\r\n     * constructor called implicitly\r\n     */\r\n    constructor() {\r\n        super('map move');\r\n        this._arrLyrRequest = [];\r\n        this._arrLyrTimeout = [];\r\n        this._arrLayer = [];\r\n        this._lookupLayer = {};\r\n\r\n        this._mapMoveCallbacks = [];\r\n        this._mapMoveCallbacksLookup = {};\r\n        this._mapMoveCallbackDelays = [];\r\n        this._mapMoveCallbackContext = [];\r\n        this._mapMoveCallbackTimeout = [];\r\n\r\n        this._mapExtent = undefined;\r\n        this._zoomLevel = undefined;\r\n\r\n    }\r\n\r\n    /**\r\n     * initialize the map move object\r\n     * @param theMap - the ol map\r\n     */\r\n    init(theMap: ol.Map){\r\n        super.init(theMap);\r\n\r\n        this.map.getView().on(['change:center', 'change:resolution'], (e: {type: string}) =>{\r\n\r\n           this._updateMapExtent();\r\n\r\n            // trigger the layer updates\r\n            for (let i = 0; i < this._arrLayer.length; i++) {\r\n                this.triggerLyrLoad(this._arrLayer[i], i, e.type);\r\n            }\r\n\r\n            // trigger the map callbacks\r\n            for (let i = 0; i < this._mapMoveCallbacks.length; i++) {\r\n                this.triggerMoveCallback(i, e.type);\r\n            }\r\n        });\r\n    }\r\n\r\n    _updateMapExtent() {\r\n        let theView = this.map.getView();\r\n        this._zoomLevel = theView.getZoom();\r\n\r\n        let extentArray = theView.calculateExtent(this.map.getSize());\r\n\r\n        this._mapExtent = {\r\n            minX: extentArray[0],\r\n            minY: extentArray[1],\r\n            maxX: extentArray[2],\r\n            maxY: extentArray[3]\r\n        };\r\n    }\r\n\r\n    /**\r\n     * return the map extent\r\n     */\r\n    get mapExtent() {\r\n        if (!this._mapExtent) {\r\n            this._updateMapExtent();\r\n        }\r\n\r\n        return this._mapExtent;\r\n    }\r\n\r\n    /**\r\n     * Trigger the layer load\r\n     * @param lyr the layer being acted on\r\n     * @param index index of the layer\r\n     * @param eventType the event triggering the load, as 'change:center' or 'change:resolution'\r\n     */\r\n    triggerLyrLoad(lyr: LayerBaseVector, index?: number, eventType?: string) {\r\n\r\n        if (checkDefined.undefinedOrNull(lyr) && checkDefined.undefinedOrNull(index)) {\r\n            throw 'need to define lyr or index';\r\n        } else if (checkDefined.definedAndNotNull(lyr) && checkDefined.undefinedOrNull(index)) {\r\n            index = this._arrLayer.indexOf(lyr);\r\n        } else if (checkDefined.undefinedOrNull(lyr) && checkDefined.definedAndNotNull(index)) {\r\n            lyr = this._arrLayer[index];\r\n        }\r\n\r\n        // clear the timeout\r\n        if (this._arrLyrTimeout[index] != null) {\r\n            clearTimeout(this._arrLyrTimeout[index]);\r\n            this._arrLyrTimeout[index] = null;\r\n        }\r\n\r\n        // abort if necessary and clear the request\r\n        if (this._arrLyrRequest[index] != null && this._arrLyrRequest[index] != 4) {\r\n            this._arrLyrRequest[index].abort();\r\n            this._arrLyrRequest[index] = null;\r\n        }\r\n\r\n        // dummy callback used if before load returns false\r\n        let callbackFunc = function () {};\r\n\r\n        if (lyr.mapMoveBefore(this._zoomLevel, eventType)) {\r\n            lyr.mapMoveMakeGetParams(this._mapExtent, this._zoomLevel);\r\n\r\n            let __this = this;\r\n\r\n            callbackFunc = function () {\r\n                function innerFunction(theLayer: LayerBaseVector, theIndex: number) {\r\n                    let _innerThis = this;\r\n                    this._arrLyrRequest[theIndex] = $.get(\r\n                        theLayer.url,\r\n                        theLayer.mapMoveParams,\r\n                        function (d) {\r\n                            /**\r\n                             * @type {LayerBaseVector}\r\n                             */\r\n                            theLayer.mapMoveCallback(d);\r\n                            theLayer.loadCallback();\r\n                        }, 'json').fail(\r\n                        function (jqXHR) {\r\n                            if (jqXHR.statusText != 'abort') {\r\n                                console.log('failed');\r\n                                console.log(theLayer.url);\r\n                                console.log(theLayer.mapMoveParams);\r\n                            }\r\n                        }).always(\r\n                        function () {\r\n                            _innerThis._arrLyrTimeout[theIndex] = null;\r\n                            _innerThis._arrLyrRequest[theIndex] = null;\r\n                        });\r\n                }\r\n                innerFunction.call(__this, lyr, index);\r\n            };\r\n        } else {\r\n            lyr.clear();\r\n        }\r\n        this._arrLyrTimeout[index] = setTimeout(callbackFunc, lyr.onDemandDelay);\r\n    }\r\n\r\n    /**\r\n     * trigger the map move call back at the given index\r\n     * @param ind - the index of the layer\r\n     * @param eventType=undefined the event triggering the load as 'change:center' or 'change:resolution'\r\n     * @param functionId=undefined the function id used to reference the added callback function\r\n     */\r\n    triggerMoveCallback(ind: number, eventType?: string, functionId?: string) {\r\n\r\n        if (typeof ind == 'undefined' && typeof functionId == 'undefined'){\r\n            throw 'either the function index or the id must be defined';\r\n        }\r\n\r\n        if (typeof ind !== 'number'){\r\n            ind = this._mapMoveCallbacks.indexOf(this._mapMoveCallbacksLookup[functionId]);\r\n        }\r\n\r\n        if (ind < 0){\r\n            console.log('function not found');\r\n\r\n            return;\r\n        }\r\n\r\n        // clear the timeout\r\n        if (this._mapMoveCallbackTimeout[ind] != null) {\r\n            clearTimeout(this._mapMoveCallbackTimeout[ind]);\r\n            this._mapMoveCallbackTimeout[ind] = null;\r\n        }\r\n\r\n        let ctx = this._mapMoveCallbackContext[ind];\r\n        let theFunc = this._mapMoveCallbacks[ind];\r\n\r\n        let __this = this;\r\n\r\n        let f = function () {\r\n            if (ctx !== null) {\r\n                theFunc.call(ctx, __this._mapExtent, __this._zoomLevel, eventType);\r\n            } else {\r\n                theFunc(__this._mapExtent, __this._zoomLevel, eventType);\r\n            }\r\n        };\r\n\r\n        this._mapMoveCallbackTimeout[ind] = setTimeout(f, this._mapMoveCallbackDelays[ind]);\r\n    }\r\n\r\n    /**\r\n     * Add a layer to the interaction\r\n     * @param  lyr - layer to add\r\n     * @param triggerOnAdd - if the layer should be loaded on add\r\n     */\r\n    addVectorLayer(lyr: LayerBaseVector, triggerOnAdd: boolean = true) {\r\n        if (this._arrLayer.indexOf(lyr) > -1) {\r\n            console.log('already added ' + lyr.name + ' to map move');\r\n\r\n            return;\r\n        }\r\n        this._checkInit();\r\n\r\n        this._arrLyrRequest.push(null);\r\n        this._arrLyrTimeout.push(null);\r\n        this._arrLayer.push(lyr);\r\n        this._lookupLayer[lyr.id] = lyr;\r\n\r\n        triggerOnAdd = typeof triggerOnAdd == 'boolean' ? triggerOnAdd : true;\r\n\r\n        if (triggerOnAdd) {\r\n            if (this._mapExtent === undefined) {\r\n                this._updateMapExtent();\r\n            }\r\n            this.triggerLyrLoad(lyr, this._arrLayer.length - 1);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * add a callback to the map move event\r\n     * @param func - callback function\r\n     * @param context - the context to use for this function\r\n     * @param delay=50 the delay before call load\r\n     * @param triggerOnAdd if the layer should be loaded on add to mapMove\r\n     * @param functionId optional id to reference the function later for outside triggering\r\n     */\r\n    addCallback(func: mapMoveCallbackFunction, context?: any, delay?: number, triggerOnAdd? : boolean, functionId?: string) {\r\n\r\n        if (this._mapMoveCallbacks.indexOf(func) > -1) {\r\n            console.log('this function already added to map move');\r\n            return;\r\n        }\r\n        this._checkInit();\r\n        if (!functionId){\r\n            functionId = makeGuid();\r\n        }\r\n\r\n        this._mapMoveCallbacks.push(func);\r\n        this._mapMoveCallbacksLookup[functionId] = func;\r\n        this._mapMoveCallbackDelays.push(typeof delay == 'number' ? delay : 50);\r\n        this._mapMoveCallbackContext.push(checkDefined.definedAndNotNull(context) ? context : null);\r\n        this._mapMoveCallbackTimeout.push(null);\r\n\r\n        triggerOnAdd = typeof triggerOnAdd == 'boolean' ? triggerOnAdd : true;\r\n\r\n        if (triggerOnAdd) {\r\n            if (this._mapExtent === undefined) {\r\n                this._updateMapExtent();\r\n            }\r\n            this.triggerMoveCallback(this._mapMoveCallbacks.length - 1);\r\n        }\r\n    }\r\n}\r\n\r\nnm.MapMoveCls = MapMoveCls;\r\nexport default MapMoveCls;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/mapMoveCls.ts","/**\r\n * Created by gavorhes on 11/3/2015.\r\n */\r\n\r\nimport MapInteractionBase from './mapInteractionBase';\r\nimport propertiesZoomStyle from '../olHelpers/propertiesZoomStyle';\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport {LayerBaseVector} from \"../layers/LayerBaseVector\";\r\nimport {LayerBase} from \"../layers/LayerBase\";\r\nimport LayerEsriMapServer from \"../layers/LayerEsriMapServer\";\r\nimport $ = require('jquery');\r\n\r\nconst nm = provide('olHelpers');\r\n\r\nexport interface popupChangedFunction {\r\n    ($popContent: JQuery): any;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport interface popupCallback {\r\n    /**\r\n     * Callback function for the popup\r\n     * @param featureProperties\r\n     * @param jqRef\r\n     */\r\n    (featureProperties: Object, jqRef?: JQuery): string | boolean;\r\n}\r\n\r\ninterface mapEvent {\r\n    coordinate: ol.Coordinate;\r\n    pixel: ol.Pixel;\r\n    dragging: boolean|any;\r\n    originalEvent: Event;\r\n}\r\n\r\n\r\nexport class FeatureLayerProperties {\r\n\r\n    feature: ol.Feature;\r\n    layer: LayerBaseVector|LayerEsriMapServer;\r\n    layerIndex: number;\r\n    selectionLayer: ol.layer.Vector;\r\n    popupContent: string;\r\n    esriLayerName: string;\r\n\r\n    /**\r\n     *\r\n     * @param feature the feature\r\n     * @param layer - the layer in the popup\r\n     * @param layerIndex - index of the layer\r\n     * @param selectionLayer - the ol selection layer\r\n     * @param [esriLayerName=undefined] - esri layer name\r\n     */\r\n    constructor(feature: ol.Feature, layer: LayerBaseVector|LayerEsriMapServer, layerIndex: number, selectionLayer: ol.layer.Vector, esriLayerName?: string) {\r\n        this.feature = feature;\r\n        this.layer = layer;\r\n        this.layerIndex = layerIndex;\r\n        this.selectionLayer = selectionLayer;\r\n        this.popupContent = '';\r\n        this.esriLayerName = typeof esriLayerName == 'string' ? esriLayerName : undefined;\r\n    }\r\n\r\n    get layerName() {\r\n        if (typeof this.esriLayerName == 'string') {\r\n            return this.esriLayerName;\r\n        } else {\r\n            return this.layer.name;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * map popup class\r\n * @augments MapInteractionBase\r\n */\r\nexport class MapPopupCls extends MapInteractionBase {\r\n    private _popupOpen: boolean;\r\n    private _passThroughLayerFeatureArray: Array<FeatureLayerProperties>;\r\n    private _currentPopupIndex: number;\r\n    private _popupContentLength: number;\r\n    private _esriMapServiceLayers: Array<LayerEsriMapServer>;\r\n    private _$popupCloser: JQuery;\r\n    private _$popupContent: JQuery;\r\n    private _$popupContainer: JQuery;\r\n    private _popupOverlay: ol.Overlay;\r\n    private _arrPopupLayers: Array<LayerBaseVector>;\r\n    private _popupCoordinate: ol.Coordinate;\r\n    private _popupChangedFunctions: Array<popupChangedFunction>;\r\n    private _mapClickFunctions: Array<Function>;\r\n    private _selectionLayerLookup: {[s: string]: ol.layer.Vector};\r\n    private _arrPopupLayerIds: Array<string>;\r\n    private _arrPopupLayerNames: Array<string>;\r\n    private _arrPopupOlLayers: Array<ol.layer.Vector>;\r\n    private _arrPopupContentFunction: Array<popupCallback>;\r\n    private _selectionLayers: Array<ol.layer.Vector>;\r\n\r\n    /**\r\n     * Definition for openlayers style function\r\n     * @callback olStyleFunction\r\n     * &param feature the openlayers vector feature\r\n     * $param\r\n     */\r\n\r\n\r\n    /**\r\n     * map popup constructor\r\n     */\r\n    constructor() {\r\n        super('map popup');\r\n        this._arrPopupLayerIds = [];\r\n        this._arrPopupLayerNames = [];\r\n        this._arrPopupLayers = [];\r\n        this._arrPopupOlLayers = [];\r\n        this._arrPopupContentFunction = [];\r\n        this._$popupContainer = undefined;\r\n        this._$popupContent = undefined;\r\n        this._$popupCloser = undefined;\r\n        this._popupOverlay = undefined;\r\n        this._selectionLayers = [];\r\n        this._selectionLayerLookup = {};\r\n        this._mapClickFunctions = [];\r\n\r\n        //let a = function($jqueryContent){console.log($jqueryContent)};\r\n        //this._popupChangedLookup = {'a': a};\r\n        this._popupChangedFunctions = [];\r\n        this._esriMapServiceLayers = [];\r\n\r\n        this._popupOpen = false;\r\n        this._popupCoordinate = null;\r\n\r\n        this._passThroughLayerFeatureArray = [];\r\n\r\n        this._currentPopupIndex = -1;\r\n        this._popupContentLength = 0;\r\n\r\n    }\r\n\r\n    /**\r\n     * map popup initialization\r\n     * @param {ol.Map} theMap - the ol map\r\n     */\r\n    init(theMap: ol.Map) {\r\n        super.init(theMap);\r\n\r\n        let $map;\r\n        let target = this.map.getTarget();\r\n\r\n        if (typeof target == 'string') {\r\n            $map = $('#' + target);\r\n        }\r\n        else {\r\n            $map = $(target);\r\n        }\r\n\r\n        $map.append(\r\n            '<div class=\"ol-popup\">' +\r\n            '<span class=\"ol-popup-closer\">X</span>' +\r\n            '<div class=\"popup-content\"></div>' +\r\n            '</div>'\r\n        );\r\n\r\n        this._$popupContainer = $map.find('.ol-popup');\r\n        this._$popupContent = $map.find('.popup-content');\r\n        this._$popupCloser = $map.find('.ol-popup-closer');\r\n\r\n        let _ease = (n: number): number => {\r\n            return ol.easing.inAndOut(n);\r\n        };\r\n\r\n\r\n        this._popupOverlay = new ol.Overlay({\r\n            element: this._$popupContainer[0],\r\n            autoPan: true,\r\n            autoPanAnimation: {\r\n                duration: 250,\r\n                source: theMap.getView().getCenter(),\r\n                easing: _ease\r\n            }\r\n        });\r\n\r\n        this._map.addOverlay(this._popupOverlay);\r\n\r\n        this._$popupCloser.click((evt) => {\r\n            this.closePopup();\r\n        });\r\n\r\n        // display popup on click\r\n        this._map.on('singleclick', (evt: {coordinate: [number, number], pixel: ol.Pixel}) => {\r\n\r\n            this.closePopup();\r\n            this._popupCoordinate = evt['coordinate'];\r\n\r\n            // esri map service layers\r\n            if (this._esriMapServiceLayers.length > 0) {\r\n\r\n                let queryParams = {\r\n                    geometry: evt['coordinate'].join(','),\r\n                    geometryType: 'esriGeometryPoint',\r\n                    layers: 'all',\r\n                    sr: this._map.getView().getProjection().getCode().split(':')[1],\r\n                    mapExtent: (this._map.getView().calculateExtent(this._map.getSize()) as number[]).join(','),\r\n                    imageDisplay: (this._map.getSize() as number[]).join(',') + ',96',\r\n                    returnGeometry: true,\r\n                    tolerance: 15,\r\n                    f: 'pjson'\r\n                };\r\n\r\n                for (let l of this._esriMapServiceLayers) {\r\n                    l.getPopupInfo(queryParams);\r\n                }\r\n            }\r\n\r\n            let layerFeatureObjectArray = this._featuresAtPixel(evt['pixel']);\r\n\r\n            this._passThroughLayerFeatureArray = [];\r\n            this._currentPopupIndex = -1;\r\n\r\n            for (let i = 0; i < layerFeatureObjectArray.length; i++) {\r\n                let featObj = layerFeatureObjectArray[i];\r\n\r\n                let props = featObj.feature.getProperties();\r\n\r\n                let popupContentResponse = this._arrPopupContentFunction[featObj.layerIndex](props, this._$popupContent);\r\n\r\n                //skip if return was false\r\n                if (popupContentResponse === false) {\r\n                    //continue;\r\n                } else if (typeof popupContentResponse == 'string') {\r\n                    featObj.popupContent = popupContentResponse as string;\r\n                    this._passThroughLayerFeatureArray.push(featObj);\r\n                } else {\r\n                    featObj.selectionLayer.getSource().addFeature(featObj.feature);\r\n                }\r\n            }\r\n\r\n            this._popupContentLength = this._passThroughLayerFeatureArray.length;\r\n\r\n            this._currentPopupIndex = -1;\r\n\r\n            let popupHtml = '<div class=\"ol-popup-nav\">';\r\n            popupHtml += '<span class=\"previous-popup ol-popup-nav-arrow\">&#9664;</span>';\r\n            popupHtml += '<span class=\"next-popup ol-popup-nav-arrow\">&#9654;</span>';\r\n            popupHtml += `<span class=\"current-popup-item-number\" style=\"font-weight: bold;\"></span>`;\r\n            popupHtml += `<span>&nbsp;of&nbsp;</span>`;\r\n            popupHtml += `<span class=\"popup-content-length\" style=\"font-weight: bold;\">${this._popupContentLength}</span>`;\r\n            popupHtml += `<span>&nbsp;&nbsp;-&nbsp;&nbsp;</span>`;\r\n            popupHtml += `<span class=\"current-popup-layer-name\"></span>`;\r\n            popupHtml += '</div>';\r\n            popupHtml += '<div class=\"ol-popup-inner\">';\r\n\r\n            popupHtml += '</div>';\r\n\r\n            this._$popupContent.html(popupHtml);\r\n\r\n            this._$popupContent.find('.previous-popup').click(() => {\r\n                if (this._popupContentLength == 1) {\r\n                    return;\r\n                }\r\n\r\n                if (this._currentPopupIndex == 0) {\r\n                    this._currentPopupIndex = this._popupContentLength - 1;\r\n                } else {\r\n                    this._currentPopupIndex--;\r\n                }\r\n                this._triggerFeatSelect();\r\n            });\r\n\r\n            let nextPopup = this._$popupContent.find('.next-popup');\r\n\r\n            nextPopup.click(() => {\r\n                if (this._popupContentLength == 1 && this._currentPopupIndex > -1) {\r\n                    return;\r\n                }\r\n\r\n                if (this._currentPopupIndex == this._popupContentLength - 1) {\r\n                    this._currentPopupIndex = 0;\r\n                } else {\r\n                    this._currentPopupIndex++;\r\n                }\r\n                this._triggerFeatSelect();\r\n            });\r\n\r\n\r\n            if (this._popupContentLength > 0) {\r\n                nextPopup.trigger('click');\r\n                this._popupOverlay.setPosition(this._popupCoordinate);\r\n                this._$popupContent.scrollTop(0);\r\n                this._popupOpen = true;\r\n            }\r\n        });\r\n\r\n        //change mouse cursor when over marker\r\n        this._map.on('pointermove', (evt: {dragging: boolean, originalEvent: Event}) => {\r\n            if (evt['dragging']) {\r\n                return;\r\n            }\r\n            let pixel = this.map.getEventPixel(evt['originalEvent']);\r\n            let hit = this.map.hasFeatureAtPixel(pixel, (lyrCandidate) => {\r\n                for (let olLayer of this._arrPopupOlLayers) {\r\n                    if (lyrCandidate == olLayer) {\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            });\r\n            let mapElement = this.map.getTargetElement() as HTMLElement;\r\n            mapElement.style.cursor = hit ? 'pointer' : '';\r\n        });\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * helper to select features\r\n     * @private\r\n     */\r\n    _triggerFeatSelect() {\r\n        let $currentPopupItemNumber = this._$popupContent.find('.current-popup-item-number');\r\n        let $innerPopup = this._$popupContent.find('.ol-popup-inner');\r\n        let $layerNameSpan = this._$popupContent.find('.current-popup-layer-name');\r\n        this.clearSelection();\r\n        let lyrFeatObj = this._passThroughLayerFeatureArray[this._currentPopupIndex];\r\n        $currentPopupItemNumber.html((this._currentPopupIndex + 1).toFixed());\r\n        $layerNameSpan.html(lyrFeatObj.layerName);\r\n        $innerPopup.html(lyrFeatObj.popupContent);\r\n        lyrFeatObj.selectionLayer.getSource().addFeature(lyrFeatObj.feature);\r\n        for (let f of this._popupChangedFunctions) {\r\n            f(this._$popupContent);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param feature - the ol feature\r\n     * @param {LayerEsriMapServer} lyr - the map server layer\r\n     * @param {string} popupContent - popup content\r\n     * @param {string} esriName - esri layer name\r\n     */\r\n    addMapServicePopupContent(feature: ol.Feature, lyr: LayerEsriMapServer, popupContent: string, esriName: string) {\r\n\r\n        let featLayerObject = new FeatureLayerProperties(\r\n            feature, lyr, this._popupContentLength, this._selectionLayerLookup[lyr.id], esriName\r\n        );\r\n        featLayerObject.popupContent = popupContent;\r\n\r\n        this._passThroughLayerFeatureArray.push(featLayerObject);\r\n        this._popupContentLength++;\r\n\r\n        $('.popup-content-length').html(this._popupContentLength.toFixed());\r\n\r\n        if (!this._popupOpen) {\r\n            this._$popupContent.find('.next-popup').trigger('click');\r\n\r\n            this._popupOverlay.setPosition(this._popupCoordinate);\r\n            this._$popupContent.scrollTop(0);\r\n            this._popupOpen = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param  pixel - the ol pixel\r\n     * @returns  feature layer properties\r\n     * @private\r\n     */\r\n    _featuresAtPixel(pixel: ol.Pixel): Array<FeatureLayerProperties> {\r\n        let layerFeatureObjectArray: FeatureLayerProperties[] = [];\r\n\r\n        this.map.forEachFeatureAtPixel(pixel, (feature: ol.Feature, layer: ol.layer.Vector) => {\r\n            let lyrIndex = this._arrPopupOlLayers.indexOf(layer);\r\n\r\n            if (lyrIndex > -1) {\r\n                layerFeatureObjectArray.push(\r\n                    new FeatureLayerProperties(\r\n                        feature, this._arrPopupLayers[lyrIndex], lyrIndex, this._selectionLayers[lyrIndex]));\r\n            }\r\n        });\r\n\r\n        return layerFeatureObjectArray;\r\n    }\r\n\r\n    closePopup() {\r\n        this._checkInit();\r\n        this._popupOpen = false;\r\n        this._popupOverlay.setPosition(undefined);\r\n        this._$popupCloser[0].blur();\r\n        this.clearSelection();\r\n        this._$popupContent.html('');\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @param chgFunction - popup change function\r\n     */\r\n    addPopupChangedFunction(chgFunction: popupChangedFunction) {\r\n        this._popupChangedFunctions.push(chgFunction);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {LayerBase|*} lyr - the layer being acted on\r\n     * @param {object} [selectionStyle={}] the selection style configuration\r\n     * @param {string} [selectionStyle.color=rgba(255,170,0,0.5)] the selection color\r\n     * @param {number} [selectionStyle.width=10] the selection width for linear features\r\n     * @param {object|function} [selectionStyle.olStyle=undefined] an openlayers style object or function\r\n     * @returns  the new selection layer\r\n     * @private\r\n     */\r\n    _addPopupLayer(lyr: LayerBaseVector|LayerEsriMapServer, selectionStyle: {color?: string, width?: number, olStyle?: ol.style.Style}): ol.layer.Vector {\r\n        this._checkInit();\r\n\r\n        selectionStyle = selectionStyle || {};\r\n        selectionStyle.color = selectionStyle.color || 'rgba(255,170,0,0.5)';\r\n        selectionStyle.width = selectionStyle.width || 10;\r\n\r\n        let theStyle;\r\n\r\n        if (selectionStyle.olStyle) {\r\n            theStyle = selectionStyle.olStyle;\r\n        } else {\r\n            theStyle = new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: selectionStyle.color,\r\n                    width: selectionStyle.width\r\n                }),\r\n                image: new ol.style.Circle({\r\n                    radius: 7,\r\n                    fill: new ol.style.Fill({color: selectionStyle.color}),\r\n                    stroke: new ol.style.Stroke({color: selectionStyle.color, width: 1})\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: selectionStyle.color\r\n                })\r\n            });\r\n        }\r\n\r\n        let selectionLayer = new ol.layer.Vector(\r\n            {\r\n                source: new ol.source.Vector(),\r\n                style: theStyle\r\n            }\r\n        );\r\n\r\n        selectionLayer.setZIndex(100);\r\n\r\n        this._selectionLayers.push(selectionLayer);\r\n        this._selectionLayerLookup[lyr.id] = selectionLayer;\r\n        this.map.addLayer(selectionLayer);\r\n\r\n        return selectionLayer;\r\n    }\r\n\r\n\r\n    /**\r\n     * Add popup to the map\r\n     * @param {LayerBase|*} lyr The layer that the popup with act on\r\n     * @param {popupCallback} popupContentFunction - popup content function that makes popup info\r\n     * @param {object} [selectionStyle={}] the selection style configuration\r\n     * @param {string} [selectionStyle.color=rgba(255,170,0,0.5)] the selection color\r\n     * @param {number} [selectionStyle.width=10] the selection width for linear features\r\n     * @param {object|function} [selectionStyle.olStyle=undefined] an openlayers style object or function\r\n     * @returns {object} a reference to the ol selection layer\r\n     */\r\n    addVectorPopup(lyr: LayerBaseVector, popupContentFunction: popupCallback,\r\n                   selectionStyle?: {color?: string, width?: number, olStyle?: ol.style.Style}) {\r\n        let selectionLayer = this._addPopupLayer(lyr, selectionStyle);\r\n        this._arrPopupLayerIds.push(lyr.id);\r\n        this._arrPopupLayerNames.push(lyr.name);\r\n        this._arrPopupLayers.push(lyr);\r\n        this._arrPopupOlLayers.push(lyr.olLayer);\r\n        this._arrPopupContentFunction.push(popupContentFunction);\r\n\r\n        return selectionLayer;\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {LayerBase} lyr - layer\r\n     */\r\n    removeVectorPopup(lyr: LayerBase) {\r\n        let idx = this._arrPopupLayerIds.indexOf(lyr.id);\r\n\r\n        if (idx > -1) {\r\n            this._arrPopupLayerIds.splice(idx, 1);\r\n            this._arrPopupLayerNames.splice(idx, 1);\r\n            this._arrPopupLayers.splice(idx, 1);\r\n            this._arrPopupOlLayers.splice(idx, 1);\r\n            this._arrPopupContentFunction.splice(idx, 1);\r\n            this._selectionLayers.splice(idx, 1);\r\n            delete this._selectionLayerLookup[lyr.id];\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {LayerEsriMapServer} lyr - map server layer\r\n     * @param {object} [selectionStyle={}] the selection style configuration\r\n     * @param {string} [selectionStyle.color=rgba(255,170,0,0.5)] the selection color\r\n     * @param {number} [selectionStyle.width=10] the selection width for linear features\r\n     * @param {object|function} [selectionStyle.olStyle=undefined] an openlayers style object or function\r\n     * @returns {object} a reference to the ol selection layer\r\n     */\r\n    addMapServicePopup(lyr: LayerEsriMapServer, selectionStyle?: ol.style.Style|Array<ol.style.Style>|ol.StyleFunction) {\r\n        let selectionLayer = this._addPopupLayer(lyr, selectionStyle);\r\n        this._esriMapServiceLayers.push(lyr);\r\n\r\n        return selectionLayer;\r\n    }\r\n\r\n    clearSelection() {\r\n        this._checkInit();\r\n        for (let i = 0; i < this._selectionLayers.length; i++) {\r\n            this._selectionLayers[i].getSource().clear();\r\n        }\r\n        for (let f of this._mapClickFunctions) {\r\n            f();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add a function to be called when the map is clicked but before any popups are implemented\r\n     * @param {function} func - the map click function\r\n     */\r\n    addMapClickFunction(func: Function) {\r\n        this._mapClickFunctions.push(func);\r\n    }\r\n}\r\nnm.MapPopupCls = MapPopupCls;\r\nexport default MapPopupCls;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/mapPopupCls.ts","/**\r\n * Created by gavorhes on 12/15/2015.\r\n */\r\n\r\nimport provide from '../util/provide';\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\nimport {Geocode} from './geocode';\r\nconst nm = provide('olHelpers');\r\n\r\nexport interface quickMapOptions {\r\n    divId?: string;\r\n    center?: {x: number, y: number};\r\n    zoom?: number;\r\n    minZoom?: number;\r\n    maxZoom?: number;\r\n    baseSwitcher?: boolean;\r\n    fullScreen?: boolean;\r\n    addGeocode?: boolean;\r\n}\r\n\r\n/**\r\n * Sets up a map with some default parameters and initializes\r\n * mapMove and mapPopup\r\n *\r\n * @param [options={}] config options\r\n * @param [options.divId=map] map div id\r\n * @param [options.center={}] center config object\r\n * @param [options.center.x=-10018378] center x, web mercator x or lon\r\n * @param [options.center.y=5574910] center y, web mercator y or lat\r\n * @param [options.zoom=7] zoom level\r\n * @param [options.minZoom=undefined] min zoom\r\n * @param [options.maxZoom=undefined] max zoom\r\n * @param [options.baseSwitcher=true] if add base map switcher\r\n * @param [options.fullScreen=false] if add base map switcher\r\n * @returns the ol map\r\n */\r\nexport function quickMapBase(options: quickMapOptions = {}): ol.Map {\r\n    options.divId = options.divId || 'map';\r\n    options.center = options.center || {x: -10018378, y: 5574910};\r\n    options.zoom = typeof options.zoom == 'number' ? options.zoom : 7;\r\n    options.baseSwitcher = typeof options.baseSwitcher == 'boolean' ? options.baseSwitcher : true;\r\n    options.fullScreen = typeof options.fullScreen == 'boolean' ? options.fullScreen : false;\r\n    options.addGeocode = options.addGeocode || false;\r\n\r\n\r\n    let $mapDiv = $('#' + options.divId);\r\n    $mapDiv.css('position', 'relative');\r\n\r\n    let osmLayer = new ol.layer.Tile({source: new ol.source.OSM()});\r\n    // let satLayer = new ol.layer.Tile({visible: false, source: new ol.source.MapQuest({layer: 'sat'})});\r\n\r\n    let osmCss = \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAADQ1NDk5OURFREtLS1FHSFlZWGJRVGJiYWdmZWxsbHRmaXBpanN0c3V0dHp5eX5+fIVzd4F3eeV0jud5juZ8k4aHhomHhoyGh5eGj5OVlJiVlZiYl5qZmJydnKOTlaKZmqKdnaOioaqqqKuzsbOvrrSysLa3tbW4uLm6ub27ub+/vbGXwbCZwbCgxLKlxrOqyLStybO3yrSxyrWzzbW2y7a1zbK4y7W6zbW8y760yrTAzbTFzrPKzrLOzrTJzrTOzr7CwbXC0LXK0LTO0L3I0bPQz7TQz7PS0bXQ0LnR0brW1bzT0r7U077V1Lzc2dqNqteUsdyXscaquuOHneaGmueHnOeJnuiBleiKn+eNoOiOoOWUpOiRo+iSpeiUpeqYpumaqOmdrPSynemgruSqtOmisOmlsuuqtequuOW1vOuxu+uxvOq1ve+xvPK0pvW3o/W5pfO5qvS7qfCwvMOuwc2/wNenxNyyzNe/0Nq31Nq51dy72Oy3wOu4wOu+xey4wO+6xO2+xfTAr/TCsvfFtPHLvvTJuMPDwMfHxcXKyc3DxMvFyMvLyM3PzcDV08DV1MTX1cbY1s7X1sjZ1sra2Mnd3M7b2c7c2tfH1tnB1t7F2d7M29fX1tLY1tDd2tHe3NTf3NnS19rZ1tva2Nnf3t3d28rh3tXg3Nnh3tzj393k39ni4N7k4N7n5uXDyOfLz+zAxu3CyOzEyezKzeDJ3eLM3uvP0u3P0ePf2+7R0u7Q1u/U0+7U1ezc0+7a2e/d2+3f3vbFzvLOwfHN0PPQw/TUx/LWyvLYzPDQ1fPe0ubc4vve4uHh3+nh3+/h2u/h3vHj2vHl3uHm4eTn4uDp5ebo4+Xo5ODq6ebq6OTv6+nl4+/j4O7l4e7n5ujp4+np5Ozq5e7s5urt6O7t6Orw6u7x6u3x7vPj5PDl4fDo4vDq5fDt5vDu6PDv7PTv6fDx6vHx7fH17fXw6fXy7fb07/bz8fT18vn38vr39fr48/r59Pr6+P3++//+/gAAALNTSk0AAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjlsM35OAAAFNElEQVRIS1VVCZxVUxi/9l0UIUT2bMnY43bVI2c0Y01kSWIaS0j2JEtkN41piomZrPPKQ2aQ7JKImOZlnm2493TJzDufuU1Zi+v/fee+mZ//793vnPOd7zvfes5zDBEZkBBjAcIjb+Iiotqgdhat8AMK0vl7/R9N7GiWtshqIr+EZ5gYKibyUsXY1l/mfFpssvUlWQ0FkU3gy4+RB/+kwYcO8pRSnldcOU/r2lAHARSwk2ORgEmOdC1EsuRiYSqMPwwroMIraZk5V2fYJQjCKfZrRmh3gSAZi2i4b7wSylWu8EqZwS59JkFUaW96JbNSc+CEUmt4rorwuZmWdDaoc+uZETuQlTCU5xYzR7muUnVUVo+BcRhre/VwUpasgJwhH7JkYIYA0sNxhmCwUK+lw6vCKBZehw01dEiyw4Q4aE0Z4ahDhKaFQsGnJ2BgqKoTBsNjFy0SlW6whRAZTdm8DBJmkBZhDi1j4xJQBk6ywrWUTymaCxac8lROcdauRGzQSNtA7EHUYhXyEwhhgjFUqRuO+rauhF1awFpzCsmwUbjIFBR0u1bKtyGpulW/H/cVVzkyGaIWTIR9pFAV6GK2gPMXMX8gPk9zzxXgI1kimcAltEYr+cjio1imlKpEa9rOipLm+p+CZ6Bw//qd1/f/O+GwMxbSLpyoZEcwkyh2jIks+3hmdd2jWUw4scxNysnHxU7nSspTRcJjCZGL3IsjsYJMMg5mwgx7gaIOLBFCogAgBBoNa9w+DE6I+Bs7FTgwwrJbHjWDgpYo2KwtBTcYEDuloC9geQw+k2RGnPGpTaOlq7AS+YICUz4DZVaX2TiNDhuYfTtY4geLi0IoCm3XccwM9hx4kU28StQEljDs3ZEpFGA+8dKzLmV9ymIwF5FOGn2GdJM8KLHDJbXyiYVMG9MRTLiXGGg2QKaxM3khPSRrwM9zEIardxU2w/EiA0gOeYKHzDR0V7/QGV3lKIA9ktrDArxO3gdA+k6SKoBiVwcm7NjZb9+Hnztg282TuHVZ9LOISFNt9MgyCetZVczSxnyDbl17Penq6mqpg1IhRaEO2aVLUO4/r17H8tTv6f13h71dduvZI3Y+uMdWksNSauLovJw5hsqiPIUvt0ku7/iBeUR3sksmomYWtRbAjbiLfv2lX9/V7LVG4uYnUZXhQ7f2OPCZEx9wrYWTcePEQqPEML8pl4mMdr/jlXlvHiRiJ2+MSTFY4TTSYStuvz2R/JXh+PPeGXm055J+3/YDWuNu3R3DArPutyg0ZgykMVDU9Ndm22+wYalr2rse48CnsTIFcMn73vfhNrktx1EUcZnPv6ah3Yy5cDTRdBEoGoBeah71dqFyjZDJLkWk3N3v4uuktssjWpzciMPxQeHj8nMKzcGuB0tAyzFhdCKOYWv4HwOQVwIxLG99a6uvH3sJCyO3h+k4EZ+G7+xj5f4XXksoaGrdMRzSc8ARA8+cdOuk2x6fffNNt5x+Ro1omPlrT/CQDlcNlpx4NBIWXhkx7Y3Zp3ofNR7Uv89Om/beW0TLIynHv3vs1VsOFpSWSXvfuPUf9BrRFyxgXdHoKJnQFegPOovvzz59ntrzye240ig8UQ3lDI2VqwagrKIQcLXNFL3wglN2OHdBQ6/vI3kENDVBwRb3k1XtczFbjWn4EzMYi7CF3129+JTYuRSdrGuS92g5dpqn6qXoJQs5xmL8p+Wt4hLbt0mx2OLNZR2bbPy8zJNQGFM/f/CfXZekRYFjGCWjIJpM+WiCzGBPWHhoyaAsjRT/B2Gy5yzYJkwUAAAAAElFTkSuQmCC')\";\r\n    let aerialCss = \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQALBgIMDQgOBwQOEQcTBwUSCwoVDAwdBw8ZDgUREwYUGAYZFQYZGgkTFQoVGQsZFAwZHBMeDhIbFBEbHAwWIA4bIREcIQ4hCQwjFw4lHBgkDB8sDxUiExIiGhAoGxohFRshGRorHQcrKQsiIQwmKgooJA0pKQ81Jw8yLRMiIxImKxUrJREuKhslJB0rIhooKRUuMBMyLhkwJhozKh48LxUzMRM9MBwzMiUvFCMtGiMwEiwzFCgzHDI+GSIsISkvJSQxIiM2LiY5Jic+Lyk0JSo0Ky49JSs9KSU1NSM7NCs2NS8+NDM1JzU9Ljg7IDJCHS1DLSNAMitCMSxIOjREITZLIDZJKDlFIjpFKztKJT1LKzJBMzpHMD1JMjpKPD1RKjlQNC1DQj5QQEA8MEJGJkBKJUJNK0lLLEJMMkVMPEpONENSLUdZL0pTLkpaLkRUMkRSPEVZMktUM0pVOklZMklZNEpcNU1ZMk1ZNUxfMk5dNkxcOVFUM1RUOFJbNVFZOVNYPVFdOVJdPFVaOVVaPVVdOlVdPVpaNlpdO0phN01hOlBiN1NhPFNoP1piPWFbPmRjPENOQEtPSURTQkJVS0xVQk1VSkxbQkxcS0heUVFXRFRcQlJfTFxeQlpeS05lQk1kSFRjQVRjSlZpQ1tkQlxlSlxpRF1rSVVnUVtlU1llXF9tU1xoXlxwSl9ramRfQmJlQ2FhSWFlSWFlTmVlSWRmTGFoQWFpRWFsRmVpRWVtRmNsSmtlRGpqRmpsS2BmWGRsUmFrW2ptUmZyR2RxTGpxTWVyU2RyW2d5V2tzUmt0WW15VG15WXFuTHNtVnFxTXF4T3h0TnJzUnJ1XHJ4VXN6Wnp0VHx1W315VXp8XGR0YGx0YHVzZXJ0aHR9ZXV+aHl9YHOCXXqBXXeCYHyCY3iEaHyIYn+JaXqKcYB5WIN6Y4SCXoCDZIGEaYCIZoOLa4iCaImJbIOOdYuMco6OeIuVcpOKbZKPc5aQb5eXe5ufg6KjhAAAAAAAAAAAAAAAAOGCeQgAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjlsM35OAAAH80lEQVRISy1WbXQUVxm+6wqnk3Zmpxl2FG2EGg92C8GDlWptVTwa+uF3xcKmDfFzCUzDsJNsunXipglJXJbrtJWmwZNSnHD3jojRgUIm2UumIZ0JZ7JByrALbMWW0IBW8aRa4+cf76TeX3Nm3uc+z/s+7/vugl4r/aMTrT4e1pPTqnnmJNn5AyUzRnrRle/qE33dsvrBtAQVoxtpZNK3zSzYjUjviWO2Ag+R77dl7W36n/1Ep9KBPG/S+Py0PkjU/gPKQGqwTHryiWYFAXSvMairsio7SjyNsnCzh0qKImV9/7mhfHQZx2yN1O+7rXUm33MUPaboOkAJHaoIdXfJj2xWeyD8jMFEXkvIu5qzpU988gWB5zl+GS+sFe55trEVPdWZB2miq8bBVkNFO2R0qnrfkiXhcJhtDNXE6tbW97/s9O9/7ZfVhx86/CwrROpfvvxboMqeLsuqPr1j44qEwDNMOBximUiYoU8sw7BC/a7T72uEnyJDlGxZ9KcglZRyuqqrv/tSZErgOI4NgRBTIw9EmHAoFGZZnp6aGaJ2GTxfxYs8kKVUQh7WB5hQeC3LsUxoxVKW14l3BX2WcoUYPiZyLLe8teZ+iuT4GGhvV5KpKWkpyzxEr2MZgQ1xdRjfRBoH+2k6lIHjKTHPPBo8CSJISqqq4wGGOcWylIGlgvgNX1Gd8vF5f+IUIwb30ng+Gg2QfBRIMvy0jG8SVkYo4N0zvUXVRztbJ/L6xL7lUZEXBEHkuZqlS6gEAUgKJurnhFtfpACOYd8b/hVbJPqwi44a6KA0sPVjIi/SIyxb3u8KlAJ0S8jRVgrlW+nVHPdrhiXCxu42d86ByksDc80P3MkJFBFQ8Ho1lQegpWJRWFGsDsRwwv7pIyvuQW0ZkrX6NDVFbqcvaQI8vbyqzt5AARrsbKx5yhQEGs+wPO56bOK+0rcwMrOKkpUbZWYxV04UeZZv/cBKFhRL6Qdv9y4LfEDA7/thg7tTmv1a5/GnO0wl0dQg80wglZaHUmxRvjwAHOfyN0mxrpqLUpcjsK3NHYMo4R1o6eho2ZyIb2FoeOC3ILK8kZ2HQMOuWywGXUkJBCeTbYFS0+ym1h2/6UgmvnrvKYZZtIEXGf75C2cIAp5LHNd71x7uPoTjakrWH9e3KFpaatjUvJUysFw0KrLMYMW2lTg4PeUQx6kJEALvxXEmCdVyPLHtCSjBhc01XCjIgafxou+PE6KC1dhxSCwoBCc+N4P3btM84pmdSSjJnjO/nvY4LQfVyz5/I+v6IwjUOMjy+MVCxIbKupTJaEktp7cTKU42Pvjh2m/8cSpC6aPsaX/MHSuUQLVVsIa4RUTs/r/BVAexNdjdnsNG7j/rV93xheLMzKnFrPeTEQchCyCcKb25aAIn7lrAertrZwyNXM8N6zfWrFo3d2SmOEcF83x/r+OOFgrAHYWF7cELjhV7UQo/6WAIUVl9JFl8a//HZ66VpbY3I9QKZqPru77lA+iOWAIr0hKxHCmmr0othSyeIl5y3qt4xT8gSNrKEZozs8Els67rgsLOZ+ygzwMfbtNhobfgzpEyGnz7htPtzUi6PuOoj7K0WF/MXiUFxwGajRD1hjYXHXI9p406qOyinp5/tiWcDHY0jIu4n64Qfq7kliB2gemag9QbOia0PbbDMbd43SHuvxFxrAocxins7MX5Kqbe1QixKBxoV4//PfAgGCu+Rlm4SvZizyDH+0reDHp92iO0BuX3bCfItl0PEwvYLqpwXG2MHlGsQ4S8pMJZv1JGmHiEoHQDdOjwmVlEP/nE9ADKjI8xLI0OOGITfy0SbeG/C2jKUDGSlDhM9I3IpK9iup6XnbRNC7yqueNsJCCIiXzdQhnaGN+46umnEdy5U5UbUJ48LFM9GkJo8BdDOiAZ7ZIQbKhYLMqvhU2wmNxjEAsS2AI7y4nWF64duePbk7YV3zvAVLEMD9AxJRNa3KDUibV7DjnkuprMEYjScFNcaR2ceP2u9R/5k1052Ryme5phAFRswlHjAudiP4dOy7CaxLgdJh9vUlU1702/+LPa1U9fvPi9qlA4XEUBJc3dFlpsR457IDl1iPqLp7o81NQgyV19iYU38uTiv975Pd3SiwQcsGjx+v4/6fl5T7EOOMTCtpbKxfemsQq/3olQZcminADAAI0cuGLHaHOFxbuGvRk/Z9u7CULqoVR6NE0yx1avj30oRhc/jWUoIALGxkz0dg1Dl9iaI7LqOOXKsXJFwjiuEAi70Jra2nW1PL08zLBhZsMABpW5csI7TPfew9ipFKcn5k1i+1KyCWKjC3W/8dF1d666+RaabBVTFTHacjoojBNDh0NDxk+IPTlwfqJkWpbnpFHXIbLbmpxEQ3ff/Z0g/mauXsoln9wDRjy/NHsQFw3P6vWuTJ43/+FZrk2cvAFRipCKdfD9y2+pjRj78s0KdCUDKJvdV91ChngV38T20TM+gghjpJaPlpFr2xbEz5g4A/NGt5rNwdwmYGeeeMXBSLHHUIc+6RsojRH9VTUm3/mLf/64b470XvoxoTKhlMBQ2jMEzo2PjxdGMppmn1RM24bWFJqaQv4BcuJa2Sam7Zokq1ldCsz06NCBHrhwqVQYpfFj42NZexz1EW9SR/kT58nEeQKJb2fPXjjp0u/YUkwHEgLeOnf2nOuf1TRTM02CLKLTPy60/x1CCztqn7Ev+BdsC3m+30decQvW/wBNTwU+CfUQAQAAAABJRU5ErkJggg==')\";\r\n\r\n    if (options.baseSwitcher) {\r\n        //  let switcherContent = '<div class=\"base-map-switcher\" title=\"Toggle Base Layer\" style=\"';\r\n        //  switcherContent += 'position: absolute; top: 70px; left: 4px; border: solid black 1px; ';\r\n        //  switcherContent += `height: 50px; width: 50px; z-index: 10; border-radius: 4px; background: ${aerialCss};`;\r\n        //  switcherContent += '\"></div>';\r\n        //  $mapDiv.append(switcherContent);\r\n        //\r\n        // $mapDiv.find('.base-map-switcher').click(function() {\r\n        //      \"use strict\";\r\n        //      osmLayer.setVisible(!osmLayer.getVisible());\r\n        //      satLayer.setVisible(!satLayer.getVisible());\r\n        //\r\n        //      if (osmLayer.getVisible()){\r\n        //          $(this).css('background', aerialCss);\r\n        //      } else {\r\n        //          $(this).css('background', osmCss);\r\n        //      }\r\n        //  });\r\n    }\r\n\r\n    if (options.zoom < 0 || options.zoom > 28) {\r\n        throw 'zoom out of range';\r\n    }\r\n\r\n    if (options.center.x >= -180 && options.center.x <= 180 && options.center.y >= -90 && options.center.y <= 90) {\r\n        let p = new ol.geom.Point([options.center.x, options.center.y]);\r\n        new ol.proj.Projection({code: \"EPSG:4326\"});\r\n\r\n        p.transform(new ol.proj.Projection({code: \"EPSG:4326\"}), new ol.proj.Projection({code: \"EPSG:3857\"}));\r\n        let coordinates = p.getCoordinates();\r\n        options.center.x = coordinates[0];\r\n        options.center.y = coordinates[1];\r\n    }\r\n\r\n    const controls = ol.control.defaults({\r\n            attributionOptions: {collapsible: false}\r\n        }\r\n    );\r\n\r\n    const view = new ol.View({\r\n        center: [options.center.x, options.center.y],\r\n        zoom: options.zoom,\r\n        minZoom: options.minZoom,\r\n        maxZoom: options.maxZoom\r\n    });\r\n\r\n    let map = new ol.Map({\r\n        layers: [osmLayer],\r\n        target: options.divId,\r\n        controls: controls,\r\n        view: view\r\n    });\r\n\r\n    if (options.fullScreen) {\r\n        map.addControl(new ol.control.FullScreen({}));\r\n    }\r\n\r\n    if (options.addGeocode){\r\n        new Geocode(document.getElementById(options.divId) as HTMLDivElement, map);\r\n    }\r\n\r\n    return map;\r\n}\r\n\r\nnm.quickMapBase = quickMapBase;\r\nexport default quickMapBase;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/quickMapBase.ts","/**\r\n * Created by gavorhes on 12/14/2015.\r\n */\r\n\r\nimport provide from '../util/provide';\r\nconst nm = provide('olHelpers.zoomResolutionConvert');\r\n\r\nlet _zoomResLookup = [\r\n    156543.03392804097, //0\r\n    78271.51696402048, //1\r\n    39135.75848201024, //2\r\n    19567.87924100512, //3\r\n    9783.93962050256, //4\r\n    4891.96981025128, //5\r\n    2445.98490512564, //6\r\n    1222.99245256282, //7\r\n    611.49622628141, //8\r\n    305.748113140705, //9\r\n    152.8740565703525, //10\r\n    76.43702828517625, //11\r\n    38.21851414258813, //12\r\n    19.109257071294063, //13\r\n    9.554628535647032, //14\r\n    4.777314267823516, //15\r\n    2.388657133911758, //16\r\n    1.194328566955879, //17\r\n    0.5971642834779395, //18\r\n    0.29858214173896974, //19\r\n    0.14929107086948487, //20\r\n    0.07464553543474244, //21\r\n    0.03732276771737122, //22\r\n    0.01866138385868561, //23\r\n    0.009330691929342804, //24\r\n    0.004665345964671402, //25\r\n    0.002332672982335701, //26\r\n    0.0011663364911678506, //27\r\n    0.0005831682455839253 //28\r\n];\r\n\r\n/**\r\n * Get the resolution given the zoom level\r\n * @param {number} zoomLevel - the zoom level\r\n * @returns {number|*} the map resolution\r\n */\r\nexport function zoomToResolution(zoomLevel: number): number {\r\n    \"use strict\";\r\n\r\n    if (typeof zoomLevel == 'number') {\r\n        if (zoomLevel % 1 === 0 && zoomLevel >= 0 && zoomLevel <= 28) {\r\n            return _zoomResLookup[zoomLevel];\r\n        } else {\r\n            console.log(`invalid zoom level provided: ${zoomLevel}`);\r\n\r\n            return undefined;\r\n        }\r\n    } else {\r\n        return undefined;\r\n    }\r\n}\r\nnm.zoomToResolution = zoomToResolution;\r\n\r\n\r\n/**\r\n * Get resolution from the zoom level\r\n * @param {number} resolution - the resolution\r\n * @returns {number|*} the zoom level\r\n */\r\nexport function resolutionToZoom(resolution: number): number{\r\n    for (let i = 0; i < _zoomResLookup.length; i++){\r\n        if (resolution >= _zoomResLookup[i] ){\r\n            return i;\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nnm.resolutionToZoom = resolutionToZoom;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/olHelpers/zoomResolutionConvert.ts","/**\r\n * Created by gavorhes on 11/3/2015.\r\n */\r\nimport provide from './provide';\r\nimport * as chk from './checkDefined';\r\n\r\nlet nm = provide('util.colors');\r\n\r\n\r\n/**\r\n * helper function to convert to hex\r\n * @param {number|string} x - the number to convert to hex\r\n * @returns {string} number as hex\r\n * @private\r\n */\r\nfunction _hex(x: number|string): string {\r\n    let hexDigits = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n\r\n    if (isNaN(x as number)){\r\n        return \"00\";\r\n    } else {\r\n        let m = x as number;\r\n        return hexDigits[(m - m % 16) / 16] + hexDigits[m % 16];\r\n    }\r\n    // return isNaN(x as number) ? \"00\" : hexDigits[(x - x % 16) / 16] + hexDigits[x % 16];\r\n}\r\n\r\n/**\r\n * converts an RGB string to hex\r\n * @param {string} rgb - rgb color\r\n * @returns {string} rbg as hex\r\n */\r\nexport function rgb2hex(rgb: string): string {\r\n    let rgb1 = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\r\n\r\n    return (\"#\" + _hex(rgb1[1]) + _hex(rgb1[2]) + _hex(rgb1[3])).toUpperCase();\r\n}\r\n\r\nnm.rgb2hex = rgb2hex;\r\n\r\n\r\n/**\r\n * Convert hex string to RGB or RGBA string\r\n * @param {string} hexString - hex color string\r\n * @param {number} [alphaVal=undefined] Alpha value\r\n * @returns {string} - rgb or rgba color\r\n */\r\nexport function hexAlphaToRgbOrRgba(hexString: string, alphaVal: number): string {\r\n    hexString = ((hexString.charAt(0) == \"#\") ? hexString.substring(1, 7) : hexString);\r\n    let r = parseInt(hexString.substring(0, 2), 16).toString() || '0';\r\n    let g = parseInt(hexString.substring(2, 4), 16).toString() || '0';\r\n    let b = parseInt(hexString.substring(4, 6), 16).toString() || '0';\r\n    if (alphaVal) {\r\n        return `rgba(${r},${g},${b},${alphaVal})`;\r\n    } else {\r\n        return `rgba(${r},${g},${b})`;\r\n    }\r\n}\r\n\r\nnm.hexAlphaToRgbOrRgba = hexAlphaToRgbOrRgba;\r\n\r\n\r\n/**\r\n * adds alpha value to rgb string 'rgb(r, b, g)', returns 'rgba(r, g, b, a)'\r\n * @param {string} rgb - rgb color\r\n * @param {number} alpha - alpha value 0 to 1\r\n * @returns {string} rgba color\r\n */\r\nexport function rgbToRgba(rgb: string, alpha: number): string {\r\n    let pieces = rgb.split(',');\r\n    pieces[0] = pieces[0].replace('rgb', 'rgba');\r\n    pieces[2] = pieces[2].replace(')', '');\r\n    pieces.push(' ' + alpha.toFixed(1) + ')');\r\n\r\n    return pieces.join(',');\r\n}\r\n\r\nnm.rgbToRgba = rgbToRgba;\r\n\r\n\r\n/**\r\n * @typedef {function} colorLookupByNumber\r\n * @param {number} num - the number to use to retrieve the color\r\n * @returns {string} rgb color\r\n */\r\n\r\n\r\n/**\r\n * Make a blue green red gradient\r\n * @param {number} minVal - minimum value\r\n * @param {number} maxVal - maximum value\r\n * @param {boolean} flipColors - if the colors should be flipped\r\n * @returns {colorLookupByNumber} color lookup function\r\n */\r\nexport function makeBlueGreenRedGradient(minVal: number, maxVal: number, flipColors:boolean=false): (v: number) => string {\r\n\r\n    if (typeof flipColors != \"boolean\") {\r\n        flipColors = false;\r\n    }\r\n\r\n    return function (theVal: number): string {\r\n        let r, g, b;\r\n        let ratio;\r\n\r\n        if (chk.undefinedOrNull(theVal)) {\r\n            return 'rgb(100,100,100)';\r\n        }\r\n\r\n        let percent = (theVal - minVal) / (maxVal - minVal);\r\n\r\n        if (flipColors == true) {\r\n            percent = 1 - percent;\r\n        }\r\n\r\n        if (percent >= 1) {\r\n            r = 255;\r\n            g = 0;\r\n            b = 0;\r\n        } else if (percent <= 0) {\r\n            r = 0;\r\n            g = 0;\r\n            b = 255;\r\n        } else if (percent < .25) {\r\n            // green up, blue constant\r\n            r = 0;\r\n            g = Math.floor(255 * percent / 0.25);\r\n            b = 255;\r\n        } else if (percent < 0.50) {\r\n            //blue down, green constant\r\n            ratio = (percent - 0.25) / 0.25;\r\n            r = 0;\r\n            g = 255;\r\n            b = 255 - Math.floor(255 * ratio);\r\n        } else if (percent < 0.75) {\r\n            // red up, green constant\r\n            ratio = (percent - 0.5) / 0.25;\r\n            r = Math.floor(255 * ratio);\r\n            g = 255;\r\n            b = 0;\r\n        } else {\r\n            // green down, red constant\r\n            ratio = (percent - 0.75) / 0.25;\r\n            r = 255;\r\n            g = 255 - Math.floor(255 * ratio);\r\n            b = 0;\r\n        }\r\n\r\n        r = r.toFixed();\r\n        g = g.toFixed();\r\n        b = b.toFixed();\r\n\r\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\r\n    };\r\n}\r\n\r\nnm.makeBlueGreenRedGradient = makeBlueGreenRedGradient;\r\n\r\n\r\n/**\r\n * Create a function that will return colors based on a gradient\r\n * @param {number} median - median value\r\n * @param {number} stdDev - standard deviation\r\n * @param {boolean} flipColors - if the colors should be flipped\r\n * @returns {colorLookupByNumber} color lookup function\r\n */\r\nexport function makeBlueGreenRedGradientZScore(median: number, stdDev: number, flipColors: boolean = false):(v: number) => string {\r\n\r\n    let grd = makeBlueGreenRedGradient(-2.5, 2.5, flipColors);\r\n\r\n    return function (theVal: number): string {\r\n\r\n        let zScore;\r\n        if (theVal == null) {\r\n            zScore = null;\r\n        } else {\r\n            zScore = (theVal - median) / stdDev;\r\n        }\r\n\r\n        return grd(zScore);\r\n    };\r\n}\r\n\r\nnm.makeBlueGreenRedGradientZScore = makeBlueGreenRedGradientZScore;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/util/colors.ts","/**\r\n * get the browser name and version\r\n * @returns {{name: string; version: string}}\r\n */\r\n\r\nexport function get_browser(): {name: string, version: string} {\r\n    let ua = navigator.userAgent, tem,\r\n        M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n    if (/trident/i.test(M[1])) {\r\n        tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n        return {name: 'IE', version: (tem[1] || '')};\r\n    }\r\n    if (M[1] === 'Chrome') {\r\n        tem = ua.match(/\\bOPR|Edge\\/(\\d+)/)\r\n        if (tem != null) {\r\n            return {name: 'Opera', version: tem[1]};\r\n        }\r\n    }\r\n    M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\r\n    if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\r\n        M.splice(1, 1, tem[1]);\r\n    }\r\n    return {\r\n        name: M[0],\r\n        version: M[1]\r\n    };\r\n}\r\n\r\nexport default get_browser;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../src/util/get_browser.ts","/**\r\n * Created by gavorhes on 5/16/2016.\r\n */\r\nimport provide from 'webmapsjs/dist/util/provide';\r\n// import * as styles  from '../layerStyles';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport * as calcExtent from 'webmapsjs/dist/olHelpers/extentUtil';\r\nimport makeGuid from 'webmapsjs/dist/util/makeGuid';\r\nimport CorridorConfig from '../corridor/CorridorConfig';\r\nimport Corridor from '../corridor/Corridor';\r\nimport {popupCallback} from 'webmapsjs/dist/olHelpers/mapPopupCls'\r\nimport ol = require('custom-ol');\r\n\r\nimport $ = require('jquery');\r\nimport {LayerBaseVector} from \"webmapsjs/dist/layers/LayerBaseVector\";\r\nimport {mmPopupContent} from \"../popup\";\r\nconst nm = provide('ssa');\r\n\r\n/**\r\n *\r\n * @param {string} [rowHtml=''] data row html\r\n * @returns {string} full table html\r\n */\r\nfunction tableContent(rowHtml = '') {\r\n    \"use strict\";\r\n    rowHtml = typeof  rowHtml == 'string' ? rowHtml : '';\r\n\r\n    let tableContent = \"<table>\";\r\n    tableContent += \"<tr>\";\r\n    tableContent += '<th></th>';\r\n    tableContent += '<th>Corridors</th>';\r\n    tableContent += '<th></th>';\r\n    tableContent += \"</tr>\";\r\n    tableContent += rowHtml;\r\n    tableContent += \"</table>\";\r\n\r\n    return tableContent;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} fromRp - from reference point\r\n * @param {string} toRp - to reference point\r\n * @returns {string} string with abbreviated reference point identifiers separated by a hyphen\r\n * @private\r\n */\r\nfunction corridorName(fromRp, toRp) {\r\n    \"use strict\";\r\n\r\n    return fromRp.substring(0, 7) + ' - ' + toRp.substring(0, 7);\r\n}\r\n\r\n\r\nexport class CorridorCollection {\r\n    $innerContainer: JQuery;\r\n    $corridorDataContainer: JQuery;\r\n    _map: ol.Map;\r\n    _visible: boolean;\r\n    _inCreateModifyOperation: boolean;\r\n    _showPopups: boolean;\r\n    $containerEl: JQuery;\r\n\r\n    _corridorArray: Array<Corridor>;\r\n    _coridorLookup: {[s: string]: Corridor};\r\n    _afterChange: Function;\r\n    _dataClass: string;\r\n    _popupStyle: popupCallback;\r\n\r\n\r\n    /**\r\n     * @param {jQuery} parentDiv - div id inside which to make the collection\r\n     * @param {ol.Map} theMap - the SSA main map\r\n     * @param {string} corridorDataIdOrClass - the corridor data container id or class\r\n     * @param {function} afterChange - function to run after a change has taken place\r\n     * @param {string} [dataClass=corridor-data] - function to run after a change has taken place\r\n     */\r\n    constructor(parentDiv, theMap, corridorDataIdOrClass, afterChange, dataClass) {\r\n\r\n        this._dataClass = dataClass ||  'corridor-data';\r\n\r\n\r\n        this._afterChange = afterChange;\r\n\r\n        let _corridorDataContainer = $(`.${corridorDataIdOrClass}, #${corridorDataIdOrClass}`);\r\n\r\n        if (_corridorDataContainer.length == 0) {\r\n            throw 'data container not found';\r\n        }\r\n\r\n        this.$corridorDataContainer = $(_corridorDataContainer[0]);\r\n\r\n\r\n        this.$corridorDataContainer.addClass('corridor-data-container');\r\n\r\n        this._map = theMap;\r\n\r\n        let corridorsGuid = makeGuid();\r\n        parentDiv.append(`<div id=\"${corridorsGuid}\"></div>`);\r\n        this.$containerEl = $('#' + corridorsGuid).addClass('corridor-collection-container');\r\n\r\n        let innerHtml = '<div class=\"corridor-collection\">';\r\n        innerHtml += tableContent();\r\n        innerHtml += '</div>';\r\n        this.$containerEl.append(innerHtml);\r\n        this.$innerContainer = this.$containerEl.find('.corridor-collection');\r\n        this._visible = true;\r\n        this._inCreateModifyOperation = false;\r\n\r\n        this._showPopups = true;\r\n\r\n\r\n        /**\r\n         *\r\n         * @type {Array<Corridor>}\r\n         */\r\n        this._corridorArray = [];\r\n\r\n        /**\r\n         *\r\n         * @type {{}}\r\n         * @private\r\n         */\r\n        this._coridorLookup = {};\r\n\r\n        this._popupStyle = (props): string|boolean => {\r\n            if (!this.showPopups) {\r\n                return false;\r\n            }\r\n\r\n            return mmPopupContent(props);\r\n        };\r\n    }\r\n\r\n\r\n    /**\r\n     * add a corridor\r\n     * @param {Corridor} c - the corridor to be added\r\n     * @param [refreshData=true] c - the corridor to be added\r\n     */\r\n    addCorridorCreate(c: Corridor, refreshData = true) {\r\n        this._corridorArray.push(c);\r\n        this._coridorLookup[c.clientId] = c;\r\n        this._map.addLayer(c.olLayer);\r\n        this._map.addLayer(c.nodeLayer.olLayer);\r\n        c.layer.name = corridorName(c.rpFrom, c.rpTo);\r\n        mapPopup.addVectorPopup(c.layer, this._popupStyle);\r\n        if (refreshData){\r\n            this.refreshHtmlCreate();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * delete/remove a corridor\r\n     * @param {string|Corridor} cor - the corridor to be removed\r\n     */\r\n    removeCorridor(cor) {\r\n        if (!confirm('Confirm Delete Corridor?')) {\r\n            return;\r\n        }\r\n\r\n        if (typeof cor == 'string') {\r\n            cor = this._coridorLookup[cor];\r\n        }\r\n\r\n        let ix = this._corridorArray.indexOf(cor);\r\n        mapPopup.removeVectorPopup(cor.layer);\r\n        this._map.removeLayer(cor.olLayer);\r\n        this._map.removeLayer(cor.nodeLayer.olLayer);\r\n        this._corridorArray.splice(ix, 1);\r\n        delete this._coridorLookup[cor.clientId];\r\n\r\n        this._map.getView().setZoom(this._map.getView().getZoom() - 1);\r\n        this._map.getView().setZoom(this._map.getView().getZoom() + 1);\r\n\r\n        this.refreshHtmlCreate();\r\n    }\r\n\r\n    /**\r\n     * refresh the contents of the corridor table and hidden corridor data input elements\r\n     */\r\n    refreshHtmlCreate() {\r\n        this.$innerContainer.html('');\r\n\r\n        let rowContent = '';\r\n\r\n        for (let c of this._corridorArray) {\r\n            rowContent += c.tableHtmlCreate;\r\n        }\r\n\r\n        this.$innerContainer.append(tableContent(rowContent));\r\n\r\n\r\n        this.$corridorDataContainer.html('');\r\n\r\n        for (let i = 0; i < this._corridorArray.length; i++) {\r\n            let cor = this._corridorArray[i];\r\n            this.$corridorDataContainer.append(cor.getDataHtml(i));\r\n        }\r\n\r\n        this._afterChange();\r\n    }\r\n\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(viz) {\r\n        if (viz == this.visible) {\r\n            return;\r\n        }\r\n\r\n        this._visible = viz;\r\n\r\n        if (this.visible) {\r\n            this.$containerEl.show();\r\n        } else {\r\n            this.$containerEl.hide();\r\n        }\r\n    }\r\n\r\n    get fullExtent(): ol.Extent|Array<number>{\r\n        let lyrs: LayerBaseVector[] = [];\r\n\r\n        for (let c of this._corridorArray){\r\n            lyrs.push(c.layer);\r\n        }\r\n\r\n        return calcExtent.calculateExtent(lyrs);\r\n    }\r\n\r\n    /**\r\n     * if currently in a create or modify operation\r\n     * @returns {boolean} is creating or modifying\r\n     */\r\n    get inCreateModifyOperation() {\r\n        return this._inCreateModifyOperation;\r\n    }\r\n\r\n    /**\r\n     * if currently in a create or modify operation\r\n     * @param {boolean} isInCreateModifyOperation - is creating or modifying\r\n     */\r\n    set inCreateModifyOperation(isInCreateModifyOperation) {\r\n        this._inCreateModifyOperation = isInCreateModifyOperation;\r\n\r\n        if (this.inCreateModifyOperation) {\r\n            this.$innerContainer.addClass('corridor-collection-create-modify');\r\n        } else {\r\n            this.$innerContainer.removeClass('corridor-collection-create-modify');\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean} if the corridor popups should be shown\r\n     */\r\n    get showPopups() {\r\n        return this._showPopups;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {boolean} show - if the corridor popups should be shown\r\n     */\r\n    set showPopups(show) {\r\n        this._showPopups = show;\r\n    }\r\n\r\n    get corridorCount() {\r\n        return this._corridorArray.length;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} corId - corridor id\r\n     * @returns {Corridor} the corridor matching the id in the lookup\r\n     */\r\n    getCorridorById(corId) {\r\n        return this._coridorLookup[corId];\r\n    }\r\n\r\n    loadExistingCorridors() {\r\n\r\n        let loadedCount = 0;\r\n\r\n        let existingCorridors = document.getElementsByClassName(this._dataClass);\r\n\r\n        // parse the data from the hidden input elements\r\n        for (let n = 0; n < existingCorridors.length; n++) {\r\n            let el = existingCorridors[n];\r\n\r\n            let conf = new CorridorConfig(el);\r\n\r\n\r\n            let corridor = new Corridor(\r\n                conf.startPdp, conf.endPdp, conf.startRp, conf.endRp,\r\n                conf.startCounty, conf.endCounty, conf.hgwy, conf.routeId,\r\n                {\r\n                    loadedCallback: () => {\r\n                        loadedCount++;\r\n                        //something special when all the corridors have been loaded\r\n                        if (this.corridorCount == loadedCount) {\r\n                            let ext = this.fullExtent;\r\n\r\n                            if (ext) {\r\n                                this._map.getView().fit(ext as ol.Extent, this._map.getSize());\r\n                            }\r\n\r\n                            this.refreshHtmlCreate();\r\n                        }\r\n                    }\r\n                }\r\n            );\r\n            corridor.setDbValues(conf);\r\n\r\n            if (n == 0) {\r\n                $('#primaryCounty').val(corridor.countyStart);\r\n                $('#primaryRdwyRteId').val(corridor.routeId);\r\n            }\r\n\r\n            this.addCorridorCreate(corridor, false);\r\n        }\r\n    }\r\n}\r\n\r\nnm.CorridorCollection = CorridorCollection;\r\n\r\nexport default CorridorCollection;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/CorridorCollection.ts","/**\r\n * Created by gavorhes on 7/15/2016.\r\n */\r\nimport filterMmFlag from '../filters/filterMmFlag';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport * as constants from '../constants';\r\nimport DeficiencyBase from './_DeficiencyBase';\r\nimport ol = require('custom-ol');\r\nimport {keyValPairs} from 'webmapsjs/dist/util/objectHelpers';\r\nimport filterControllingCritera from '../filters/filterContollingCriteria';\r\n\r\n\r\nlet hasMmFlag = 'hasMmFlag';\r\nlet hasCc = 'hasCc';\r\nlet rateFlag = 'rateFlag';\r\nlet kabCrshFlag = 'kabCrshFlag';\r\n\r\ninterface mmProps {\r\n    mmId?: string;\r\n    pdpId?: number;\r\n    rateFlag: number;\r\n    kabCrshFlag: number\r\n}\r\n\r\nlet txtFunc = (p: mmProps) => {\r\n    return new ol.style.Text(\r\n        {\r\n            text: p.pdpId.toFixed(),\r\n            scale: 1.5,\r\n            stroke: new ol.style.Stroke({\r\n                color: 'black',\r\n                width: 2\r\n            }),\r\n            fill: new ol.style.Fill({\r\n                color: 'white'\r\n            })\r\n        }\r\n    );\r\n};\r\n\r\n/**\r\n *\r\n * @param feature - the input feature\r\n * @returns return style or null\r\n */\r\nconst deficiencyStyle = (feature: ol.Feature): Array<ol.style.Style> => {\r\n    \"use strict\";\r\n\r\n    let props: mmProps = feature.getProperties() as mmProps;\r\n\r\n    let returnStyles = [];\r\n\r\n\r\n    let showCc = false;\r\n\r\n    for (let cc of filterControllingCritera.allValues) {\r\n        if (props[cc] && filterControllingCritera.valIsOn(cc)) {\r\n            showCc = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (showCc) {\r\n        returnStyles.push(new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: constants.controllingCriteriaColor,\r\n                width: 13\r\n            }),\r\n            text: txtFunc(props as mmProps)\r\n        }));\r\n    }\r\n\r\n    if ((props.rateFlag >= 1 && filterMmFlag.mmRateFlagOn) || props.kabCrshFlag >= 1 && filterMmFlag.mmKabFlagOn) {\r\n        returnStyles.push(new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: constants.mmFlagColor,\r\n                width: 5\r\n            }),\r\n            text: txtFunc(props as mmProps)\r\n        }));\r\n    }\r\n\r\n    if (returnStyles.length > 0) {\r\n        return returnStyles;\r\n    } else {\r\n        return null\r\n    }\r\n\r\n};\r\n\r\n\r\nexport class Deficiency extends DeficiencyBase {\r\n    public metaList: string[] = [];\r\n    public deficiencyList: string[] = [];\r\n\r\n    constructor() {\r\n        super(\"Deficiencies\", deficiencyStyle, 200, constants.mmFlagListId);\r\n    }\r\n\r\n    /**\r\n     * initialize with the map\r\n     * @param  m - the ol map\r\n     */\r\n    init(m: ol.Map) {\r\n        super.init(m);\r\n\r\n        filterMmFlag.addChangeCallback(() => {\r\n            this.deficiencyLayer.refresh();\r\n        });\r\n\r\n        filterControllingCritera.addChangeCallback(() => {\r\n            this.deficiencyLayer.refresh();\r\n        });\r\n\r\n        mapPopup.addVectorPopup(this.deficiencyLayer, (props) => {\r\n            // console.log(props);\r\n\r\n            let returnHtml = `PDP ID: ${props['pdpId']}<br/>`;\r\n\r\n            let rates = [];\r\n\r\n            if (props['rateFlag'] != null) {\r\n                rates.push(`Rate Flag: ${props['rateFlag'].toFixed(4)}`);\r\n            }\r\n\r\n            if (props['kabCrshFlag'] != null) {\r\n                rates.push(`KAB Flag: ${props['kabCrshFlag'].toFixed(4)}`);\r\n            }\r\n\r\n            if (rates.length > 0) {\r\n                returnHtml += 'Metamanager<ul>';\r\n                for (let m of rates) {\r\n                    returnHtml += `<li>${m}</li>`\r\n                }\r\n                returnHtml += '</ul>'\r\n            }\r\n\r\n            let ccs = [];\r\n\r\n            for (let cc of keyValPairs(constants.controllingCriteriaProps)) {\r\n                if (props[cc.key]) {\r\n                    let newCc = `<li>`;\r\n                    newCc += cc.value;\r\n\r\n                    let subEls = (props[cc.key] as string).split('::');\r\n\r\n                    newCc += '<ul>';\r\n\r\n                    for (let s of subEls) {\r\n                        if (!isNaN(parseInt(s)) || s.trim().length == 0) {\r\n                            continue;\r\n                        }\r\n                        newCc += `<li>${s}</li>`;\r\n                    }\r\n\r\n                    newCc += '</ul>';\r\n\r\n                    newCc += '</li>';\r\n                    ccs.push(newCc)\r\n                }\r\n            }\r\n\r\n            if (ccs.length > 0) {\r\n                returnHtml += \"Geometric Deficiencies<ul>\";\r\n\r\n                for (let c of ccs) {\r\n                    returnHtml += c;\r\n                }\r\n\r\n                returnHtml += '</ul>'\r\n            }\r\n            return returnHtml;\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Corridor} c - the corridor to be added\r\n     */\r\n    addCorridor(c) {\r\n        let feats = c.layer.source.getFeatures();\r\n\r\n        for (let f of feats) {\r\n            let props = f.getProperties();\r\n\r\n            let triggerRateFlag = props['rateFlag'] >= 1;\r\n            let triggerKabFlag = props['kabCrshFlag'] >= 1;\r\n\r\n            let deficiencyList = [];\r\n\r\n            for (let f of keyValPairs(constants.controllingCriteriaProps)) {\r\n                let ccProps = props[f.key];\r\n\r\n                if (ccProps) {\r\n                    deficiencyList.push(f.value)\r\n                }\r\n            }\r\n\r\n            if (triggerRateFlag || triggerKabFlag || deficiencyList.length > 0) {\r\n                this.deficiencyLayer.source.addFeature(f);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default new Deficiency();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/Deficiency.ts","/// <reference path=\"../../node_modules/@types/jqueryui/index.d.ts\"/>\r\n\r\nimport SelectCounty from '../selectBox/SelectCounty';\r\nimport SelectHighway from '../selectBox/SelectHighway';\r\nimport SegmentPicker from '../selectBox/SegmentPicker';\r\nimport Corridor from '../corridor/Corridor';\r\nimport provide from 'webmapsjs/dist/util/provide';\r\n\r\nimport * as lyrStyles from '../layerStyles';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport makeGuid from 'webmapsjs/dist/util/makeGuid';\r\nimport CorridorCollection from '../collections/CorridorCollection';\r\nimport ol = require('custom-ol');\r\nimport LayerEsriMapServer from 'webmapsjs/dist/layers/LayerEsriMapServer';\r\n\r\nimport $ = require(\"jquery\");\r\nimport 'jquery-ui';\r\n\r\n\r\n\r\n\r\nconst nm = provide('ssa');\r\n\r\nclass PickerCollection {\r\n    _map: ol.Map;\r\n    $createCorridorButton: JQuery;\r\n    $innerContainer: JQuery;\r\n    $zoomExtentButton: JQuery;\r\n    $containerEl: JQuery;\r\n    _dummyCorridor: Corridor;\r\n    _modifyCorridor: Corridor;\r\n    $btnPickerPreview: JQuery;\r\n    $btnPickerAdd: JQuery;\r\n    $btnPickerModify: JQuery;\r\n    $btnPickerCancel: JQuery;\r\n\r\n    corridorCollection: CorridorCollection;\r\n\r\n    _addModifyEnabled: boolean;\r\n    _metamanagerSegmentsLayer: LayerEsriMapServer;\r\n\r\n    countyStartSelect: SelectCounty;\r\n    countyEndSelect: SelectCounty;\r\n    highwaySelect: SelectHighway;\r\n\r\n    segmentPickerFrom: SegmentPicker;\r\n    segmentPickerTo: SegmentPicker;\r\n\r\n    helpDialog: JQuery;\r\n\r\n    /**\r\n     *\r\n     * @param {jQuery} parentDiv - container div\r\n     * @param {ol.Map} theMap - the main map\r\n     */\r\n    constructor(parentDiv, theMap) {\r\n        this._map = theMap;\r\n\r\n        parentDiv.append('<div>' +\r\n            '<input type=\"button\" value=\"Add Corridor\" class=\"btn btn-default picker-create-corridor\">' +\r\n            '<input type=\"button\" value=\"Zoom to Extent\" class=\"btn btn-default picker-zoom-extent\">' +\r\n            '</div>');\r\n\r\n        this.$createCorridorButton = parentDiv.find('.picker-create-corridor');\r\n        this.$zoomExtentButton = parentDiv.find('.picker-zoom-extent');\r\n\r\n        let pickerGuid = makeGuid();\r\n        parentDiv.append(`<div id=\"${pickerGuid}\"></div>`);\r\n\r\n\r\n        this.$containerEl = $('#' + pickerGuid).addClass('picker-collection-container');\r\n        this.$containerEl.append('<div class=\"picker-collection\"><span class=\"corridor-picker-help\" title=\"Show Help\"></span></div>');\r\n        this.$containerEl.append('<input type=\"button\" value=\"Preview\" class=\"btn btn-default picker-preview\">');\r\n        this.$containerEl.append('<input type=\"button\" value=\"Add\" class=\"btn btn-default picker-add\" disabled=\"disabled\">');\r\n        this.$containerEl.append('<input type=\"button\" value=\"Modify\" class=\"btn btn-default picker-modify\" disabled=\"disabled\" style=\"display: none;\">');\r\n        this.$containerEl.append('<input type=\"button\" value=\"Cancel\" class=\"btn btn-default picker-cancel\">');\r\n        this.$innerContainer = this.$containerEl.find('.picker-collection');\r\n\r\n        this._dummyCorridor = new Corridor(1, 1, '', '', 1, 1, 'h', -1, {\r\n            cancelLoad: true,\r\n            color: lyrStyles.corridorPreviewColor\r\n        });\r\n        this._dummyCorridor.layer.zIndex = 10;\r\n        this._map.addLayer(this._dummyCorridor.olLayer);\r\n\r\n        this._addModifyEnabled = false;\r\n\r\n        /**\r\n         *\r\n         * @type {Corridor|undefined}\r\n         * @private\r\n         */\r\n        this._modifyCorridor = undefined;\r\n\r\n\r\n        this.$btnPickerPreview = this.$containerEl.find('.picker-preview');\r\n        this.$btnPickerAdd = this.$containerEl.find('.picker-add');\r\n        this.$btnPickerModify = this.$containerEl.find('.picker-modify');\r\n        this.$btnPickerCancel = this.$containerEl.find('.picker-cancel');\r\n\r\n\r\n        this.countyStartSelect = new SelectCounty(this.$innerContainer, \"Start County\");\r\n        this.countyEndSelect = new SelectCounty(this.$innerContainer, \"End County\");\r\n        this.highwaySelect = new SelectHighway(this.$innerContainer);\r\n\r\n        this._metamanagerSegmentsLayer = new LayerEsriMapServer(\r\n            'http://transportal.cee.wisc.edu/applications/arcgis2/rest/services/MetaManager/MM_All_Segments/MapServer',\r\n            {\r\n                minZoom: 7,\r\n                visible: false,\r\n                name: 'Metamanager Segments',\r\n                opacity: 0.4\r\n            });\r\n\r\n        this._map.addLayer(this._metamanagerSegmentsLayer.olLayer);\r\n\r\n        this.segmentPickerFrom = new SegmentPicker(this, true);\r\n        this.segmentPickerTo = new SegmentPicker(this, false);\r\n\r\n        this._map.addLayer(this.segmentPickerFrom.segmentLayer.olLayer);\r\n        this._map.addLayer(this.segmentPickerTo.segmentLayer.olLayer);\r\n        this._map.addLayer(this.segmentPickerFrom.selectionLayer.olLayer);\r\n        this._map.addLayer(this.segmentPickerTo.selectionLayer.olLayer);\r\n\r\n        /**\r\n         * \r\n         * @type {CorridorCollection|undefined}\r\n         */\r\n        this.corridorCollection = undefined;\r\n        this._addHandlers();\r\n        this._helpDialogInit();\r\n\r\n    }\r\n\r\n    _addHandlers() {\r\n        this.$createCorridorButton.click(() => {\r\n            this.startPicker();\r\n            this.$createCorridorButton.prop('disabled', true);\r\n        });\r\n\r\n        this.$zoomExtentButton.click(() => {\r\n            let ext = this.corridorCollection.fullExtent;\r\n            if (ext) {\r\n                this._map.getView().fit(ext as ol.Extent, this._map.getSize());\r\n            }\r\n        });\r\n\r\n        this.$btnPickerCancel.click(() => {\r\n            this.stopPicker();\r\n        });\r\n\r\n        this.$btnPickerPreview.click(() => {\r\n            this.previewCorridor();\r\n        });\r\n\r\n        this.$btnPickerAdd.click(() => {\r\n            this.addCorridor();\r\n        });\r\n\r\n        this.$btnPickerModify.click(() => {\r\n            this.modifyCorridor();\r\n        });\r\n\r\n\r\n        this.countyStartSelect.addChangeListener((v) => {\r\n            \"use strict\";\r\n\r\n            this.highwaySelect.setStartEndCounty(v, this.countyEndSelect.selectedValue);\r\n            this.addModifyButtonEnabled = false;\r\n            this.segmentPickerTo.segmentLayer.visible = !this.startEndCountySame;\r\n        });\r\n        \r\n\r\n        this.countyEndSelect.addChangeListener((v) => {\r\n            \"use strict\";\r\n            this.highwaySelect.setStartEndCounty(this.countyStartSelect.selectedValue, v);\r\n            this.addModifyButtonEnabled = false;\r\n            this.segmentPickerTo.segmentLayer.visible = !this.startEndCountySame;\r\n        });\r\n\r\n        this.highwaySelect.addChangeListener((hwy) => {\r\n            \"use strict\";\r\n            this.segmentPickerFrom.setCountyAndRoute(this.countyStartSelect.selectedValue, hwy);\r\n            this.segmentPickerTo.setCountyAndRoute(this.countyEndSelect.selectedValue, hwy);\r\n            this.addModifyButtonEnabled = false;\r\n        });\r\n\r\n        this.segmentPickerFrom.addChangeListener(() => {\r\n            this.addModifyButtonEnabled = false;\r\n        });\r\n\r\n        this.segmentPickerTo.addChangeListener(() => {\r\n            this.addModifyButtonEnabled = false;\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * Configure the help dialog\r\n     * @private\r\n     */\r\n    _helpDialogInit() {\r\n        let helpInfo = 'Corridors are defined by selecting in sequence the start county, highway, and end county ';\r\n        helpInfo += \"The reference points are then populated and can be selected either by using the combo box or \";\r\n        helpInfo += \"by clicking a segment in the map and clicking select in the resulting popup \";\r\n        helpInfo += \"Corridors are defined visually in the pickers as the start segment (green) and end segment (red) \";\r\n        helpInfo += \"inclusive of the corridor extents\";\r\n\r\n        $('body').append(`<div class=\"corridor-picker-help-dialog\" title=\"Corridor Selection Help\">` +\r\n            `<p style=\"text-align: justify\">${helpInfo}</p></div>`);\r\n\r\n\r\n        this.helpDialog = $(\".corridor-picker-help-dialog\");\r\n\r\n        this.helpDialog.dialog({\r\n            modal: true,\r\n            autoOpen: false,\r\n            height: 450,\r\n            width: 650,\r\n            buttons: [\r\n                {\r\n                    text: \"OK\",\r\n                    click: function () {\r\n                        $(this).dialog(\"close\");\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        this.$containerEl.find('.corridor-picker-help').click(() => {\r\n            this.helpDialog.dialog('open');\r\n        });\r\n    }\r\n\r\n\r\n    previewCorridor() {\r\n        if (!this.segmentPickerFrom.selectedPdpId || !this.segmentPickerTo.selectedPdpId) {\r\n            alert('Select From and To Reference Points');\r\n\r\n            return;\r\n        }\r\n\r\n        this._map.removeLayer(this._dummyCorridor.layer.olLayer);\r\n        this._map.removeLayer(this._dummyCorridor.nodeLayer.olLayer);\r\n        this._dummyCorridor = new Corridor(\r\n            this.segmentPickerFrom.selectedPdpId,\r\n            this.segmentPickerTo.selectedPdpId,\r\n            this.segmentPickerFrom.selectedText,\r\n            this.segmentPickerTo.selectedText,\r\n            this.countyStartSelect.selectedValue,\r\n            this.countyEndSelect.selectedValue,\r\n            this.highwaySelect.selectedText,\r\n            this.highwaySelect.selectedValue,\r\n            {\r\n                cancelLoad: true,\r\n                color: lyrStyles.corridorPreviewColor\r\n            }\r\n        );\r\n\r\n\r\n        this._dummyCorridor.layer.zIndex = 10;\r\n        this._map.addLayer(this._dummyCorridor.layer.olLayer);\r\n        this._map.addLayer(this._dummyCorridor.nodeLayer.olLayer);\r\n\r\n        this._dummyCorridor.load((c) => {\r\n            this._map.getView().fit(c.extent, this._map.getSize());\r\n            this.addModifyButtonEnabled = true;\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * add a corridor\r\n     */\r\n    addCorridor() {\r\n        let newCorridor = this._dummyCorridor.clone();\r\n        this.corridorCollection.addCorridorCreate(newCorridor);\r\n        this.segmentPickerTo.segmentLayer.visible = !this.startEndCountySame;\r\n        this.stopPicker();\r\n    }\r\n\r\n    modifyCorridor() {\r\n        this._modifyCorridor.updateCorridor(this._dummyCorridor);\r\n        this.corridorCollection.refreshHtmlCreate();\r\n        this.stopPicker();\r\n    }\r\n\r\n    /**\r\n     * Populate the selections based on values from an existing corridor\r\n     * @param {Corridor} [existingCor=undefined] existing corridor if in an edit operation\r\n     */\r\n    startPicker(existingCor?: Corridor) {\r\n        this.corridorCollection.inCreateModifyOperation = true;\r\n        this.$containerEl.show();\r\n        this.segmentPickerFrom.layersVisible = true;\r\n        this.segmentPickerTo.layersVisible = true;\r\n        this._metamanagerSegmentsLayer.visible = true;\r\n        this.corridorCollection.showPopups = false;\r\n\r\n\r\n        if (existingCor) {\r\n            this.$btnPickerAdd.hide();\r\n            this.$btnPickerModify.show();\r\n            this.countyStartSelect.box.val(existingCor.countyStart);\r\n            this.countyEndSelect.box.val(existingCor.countyEnd);\r\n            this.highwaySelect.setStartEndCounty(existingCor.countyStart, existingCor.countyEnd, existingCor.routeId);\r\n\r\n            this.segmentPickerFrom.setCountyAndRoute(existingCor.countyStart, existingCor.routeId, existingCor.pdpFrom);\r\n            this.segmentPickerTo.setCountyAndRoute(existingCor.countyEnd, existingCor.routeId, existingCor.pdpTo);\r\n\r\n            this._modifyCorridor = existingCor;\r\n            this._dummyCorridor.updateCorridor(existingCor);\r\n            this._map.getView().fit(this._dummyCorridor.extent as ol.Extent, this._map.getSize());\r\n        } else {\r\n            let $primCounty = $('#primaryCounty');\r\n            let $primRoute = $('#primaryRdwyRteId');\r\n            let primaryCounty = undefined;\r\n            let primaryRouteId = undefined;\r\n\r\n            if ($primCounty.length > 0) {\r\n                primaryCounty = $primCounty.val().length > 0 ? parseInt($primCounty.val()) : undefined;\r\n            }\r\n\r\n            if ($primRoute.length > 0) {\r\n                primaryRouteId = $primRoute.val().length > 0 ? parseInt($primRoute.val()) : undefined;\r\n            }\r\n\r\n            if (primaryCounty) {\r\n                this.countyStartSelect.box.val(primaryCounty);\r\n                this.countyEndSelect.box.val(primaryCounty);\r\n                this.highwaySelect.setStartEndCounty(primaryCounty, primaryCounty, primaryRouteId, true);\r\n            }\r\n\r\n            this.$btnPickerAdd.show();\r\n            this.$btnPickerModify.hide();\r\n        }\r\n    }\r\n\r\n    stopPicker() {\r\n        this.corridorCollection.showPopups = true;\r\n        this.$btnPickerAdd.show();\r\n        this.$btnPickerModify.hide();\r\n        this.$btnPickerModify.prop('disabled', true);\r\n        this.$containerEl.hide();\r\n        this.$createCorridorButton.prop('disabled', false);\r\n        // this.countyStartSelect.box.val(1).trigger('change');\r\n        this.corridorCollection.visible = true;\r\n        this._dummyCorridor.layer.clear();\r\n        this._modifyCorridor = undefined;\r\n        this._dummyCorridor.nodeLayer.olLayer.getSource().clear();\r\n        this.addModifyButtonEnabled = false;\r\n        this.corridorCollection.inCreateModifyOperation = false;\r\n        $('.corridor-tr-selected').removeClass('corridor-tr-selected');\r\n        this.segmentPickerFrom.layersVisible = false;\r\n        this.segmentPickerTo.layersVisible = false;\r\n        this._metamanagerSegmentsLayer.visible = false;\r\n        mapPopup.closePopup();\r\n    }\r\n\r\n\r\n    /**\r\n     * Getter for if an add modify operation is happening {boolean}\r\n     * @returns {boolean} - if the add or modify operation is happening\r\n     */\r\n    get addModifyButtonEnabled() {\r\n        return this._addModifyEnabled;\r\n    }\r\n\r\n    /**\r\n     * Setter for if an add modify operation is happening {boolean}\r\n     * @param {boolean} isEnabled - if enabled\r\n     */\r\n    set addModifyButtonEnabled(isEnabled) {\r\n        this._addModifyEnabled = isEnabled;\r\n        this.$btnPickerAdd.prop('disabled', !this.addModifyButtonEnabled);\r\n        this.$btnPickerModify.prop('disabled', !this.addModifyButtonEnabled);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    get startEndCountySame(){\r\n        let isSame = this.countyStartSelect.selectedValue == this.countyEndSelect.selectedValue;\r\n\r\n        this.segmentPickerFrom.segmentLayer.name = isSame ? 'Start/End Segments' : 'Start Segment';\r\n\r\n        return isSame;\r\n    }\r\n\r\n    // /**\r\n    //  *\r\n    //  * @param {boolean} isSame\r\n    //  */\r\n    // set startEndCountySame(isSame){\r\n    //     console.log(isSame);\r\n    //\r\n    //     // this.segmentPickerTo.\r\n    // }\r\n    //\r\n    // get toRefPointLayerVisible(){\r\n    //     return this.segmentPickerTo.layersVisible\r\n    // }\r\n}\r\n\r\nnm.PickerCollection = PickerCollection;\r\nexport default PickerCollection;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/PickerCollection.ts","/**\r\n * Created by gavorhes on 7/15/2016.\r\n */\r\nimport filterControllingCritera from '../filters/filterContollingCriteria';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport * as constants from '../constants';\r\nimport DeficiencyBase from './_DeficiencyBase';\r\nimport ol = require('custom-ol');\r\nimport {keyValPairs} from 'webmapsjs/dist/util/objectHelpers'\r\n\r\n\r\n/**\r\n *\r\n * @param {ol.Feature} feature - the input feature\r\n * @returns {Array<ol.style.Style>|null} - return style or null\r\n */\r\nconst ccStyle = (feature: ol.Feature): ol.style.Style[] =>  {\r\n    \"use strict\";\r\n\r\n    return null;\r\n\r\n    // let props = feature.getProperties();\r\n    //\r\n    // let show = false;\r\n    //\r\n    // for (let cc of filterControllingCritera.allValues) {\r\n    //     if (props[cc] && filterControllingCritera.valIsOn(cc)) {\r\n    //         show = true;\r\n    //         break;\r\n    //     }\r\n    // }\r\n    //\r\n    // let txtFunc = () => {\r\n    //     return new ol.style.Text(\r\n    //         {\r\n    //             text: props['ccId'],\r\n    //             scale: 1.5,\r\n    //             stroke: new ol.style.Stroke({\r\n    //                 color: 'black',\r\n    //                 width: 2\r\n    //             }),\r\n    //             fill: new ol.style.Fill({\r\n    //                 color: constants.controllingCriteriaColor\r\n    //             })\r\n    //         }\r\n    //     );\r\n    // };\r\n    //\r\n    // if (show) {\r\n    //     return [new ol.style.Style({\r\n    //         stroke: new ol.style.Stroke({\r\n    //             color: constants.controllingCriteriaColor,\r\n    //             width: 6\r\n    //         }),\r\n    //         text: txtFunc()\r\n    //     })];\r\n    // } else {\r\n    //     return null;\r\n    // }\r\n};\r\n\r\n\r\nexport class ControllingCriteria extends DeficiencyBase {\r\n    static propNames = ['ccDesignSpeed', 'ccLaneWidth', 'ccShoulderWidth', 'ccHorizontalCurve', 'ccSuperelevation',\r\n        'ccMaximumGrade', 'ccStoppingSight', 'ccCrossSlope', 'ccVerticalClearance', 'ccDesignLoading'];\r\n\r\n    constructor() {\r\n        super(\"Geometric Deficiencies\", ccStyle, 201, constants.ccListId);\r\n    }\r\n\r\n    /**\r\n     * initialize with the map\r\n     * @param {ol.Map} m - the ol map\r\n     */\r\n    init(m) {\r\n        super.init(m);\r\n\r\n        filterControllingCritera.addChangeCallback(() => {\r\n            this.deficiencyLayer.refresh();\r\n        });\r\n\r\n        mapPopup.addVectorPopup(this.deficiencyLayer, (props) => {\r\n\r\n            let returnHtml = '';\r\n            returnHtml += '<ul>';\r\n\r\n            for (let cc of keyValPairs(constants.controllingCriteriaProps)) {\r\n                if (props[cc.key]) {\r\n                    returnHtml += `<li>`;\r\n                    returnHtml += cc.value;\r\n\r\n                    let subEls = (props[cc.key] as string).split('::');\r\n\r\n                    returnHtml += '<ul>';\r\n\r\n                    for (let s of subEls) {\r\n                        if (!isNaN(parseInt(s)) || s.trim().length == 0){\r\n                            continue;\r\n                        }\r\n\r\n                        returnHtml += `<li>${s}</li>`;\r\n                    }\r\n\r\n                    returnHtml += '</ul>';\r\n\r\n                    returnHtml += '</li>';\r\n\r\n                }\r\n            }\r\n\r\n            returnHtml += '</ul>';\r\n\r\n            return returnHtml;\r\n\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param {Corridor} c - the corridor to be added\r\n     */\r\n    addCorridor(c) {\r\n        let feats = c.layer.source.getFeatures();\r\n\r\n        for (let f of feats) {\r\n            let props = f.getProperties();\r\n\r\n\r\n            let deficiencyList = [];\r\n\r\n            for (let f of keyValPairs(constants.controllingCriteriaProps)) {\r\n                let ccProps = props[f.key];\r\n\r\n                if (ccProps) {\r\n                    deficiencyList.push(f.value)\r\n                }\r\n            }\r\n\r\n            if (deficiencyList.length > 0) {\r\n                this.deficiencyLayer.source.addFeature(f);\r\n\r\n                f.setProperties({ccId: `${props['pdpId']}`});\r\n\r\n                let appendHtml = `<b>${props['pdpId']}</b>:&nbsp;`;\r\n                appendHtml += deficiencyList.join(', ');\r\n                this.$summaryList.append(`<li ${constants.pdpDataAttr}=\"${props['pdpId']}\">${appendHtml}</li>`);\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default new ControllingCriteria();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/controllingCriteria.ts","/**\r\n * Created by gavorhes on 7/13/2016.\r\n */\r\n\r\n// uncomment this to use the example crash data\r\n// import exampleCrashData from './_exampleCrashData';\r\nlet exampleCrashData = undefined;\r\n\r\nimport Ajx from '../ajaxGetters';\r\nimport * as objHelp from 'webmapsjs/dist/util/objectHelpers';\r\nimport LayerBaseVectorGeoJson from 'webmapsjs/dist/layers/LayerBaseVectorGeoJson';\r\nimport filterCrash from '../filters/filterCrash';\r\nimport * as colorUtil from 'webmapsjs/dist/util/colors';\r\nimport * as proj from 'webmapsjs/dist/olHelpers/projections';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport {crashPointStyle} from '../layerStyles';\r\nimport {crashPointPopup} from '../popup';\r\nimport {crashInfoHelper} from '../popup';\r\nimport iCrashData from './iCrashData';\r\n\r\n\r\nimport ol = require('custom-ol');\r\nimport $ = require('jquery');\r\n\r\nexport class CrashData {\r\n    pointCrashes: LayerBaseVectorGeoJson;\r\n    _crashHtmlLookup: {[s: string]: string};\r\n    _crashArrayLookup: {[s: string]: Array<iCrashData>};\r\n\r\n    constructor() {\r\n        this._crashHtmlLookup = {};\r\n        this._crashArrayLookup = {};\r\n        this.pointCrashes = new LayerBaseVectorGeoJson('', {\r\n            name: \"Crash Points\",\r\n            zIndex: 204,\r\n            minZoom: 10,\r\n            renderOrder: (a: ol.Feature, b: ol.Feature): number => {\r\n                let sevOrder = ['P', 'C', 'B', 'A', 'K'];\r\n\r\n                let sevA = a.getProperties()['injSvr'];\r\n                let sevB = b.getProperties()['injSvr'];\r\n\r\n                let sevAInd = sevOrder.indexOf(sevA);\r\n                let sevBInd = sevOrder.indexOf(sevB);\r\n\r\n                if (sevAInd == sevBInd) {\r\n                    return 0;\r\n                }\r\n\r\n                return sevAInd > sevBInd ? 1 : -1;\r\n            }\r\n        });\r\n\r\n        this.pointCrashes.style = crashPointStyle;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param m\r\n     * @param ssaId\r\n     * @param snapshot\r\n     */\r\n    init(m: ol.Map, ssaId: number, snapshot: number) {\r\n        mapPopup.addVectorPopup(this.pointCrashes, crashPointPopup);\r\n\r\n        filterCrash.addChangeCallback(() => {\r\n            this.pointCrashes.refresh();\r\n        });\r\n\r\n        Ajx.getCrashes(ssaId, snapshot, (d) => {\r\n            this._processCrashData(d);\r\n        });\r\n\r\n        m.addLayer(this.pointCrashes.olLayer);\r\n    }\r\n\r\n    _processCrashData(d) {\r\n\r\n        for (let itm of objHelp.keyValPairs(d)) {\r\n\r\n            /**\r\n             *\r\n             * @type {Array.<CrashDataObject>}\r\n             */\r\n            let _crashes = itm.value as iCrashData[];\r\n            let crashes = [] as iCrashData[];\r\n\r\n            let addedCrashDocNumbers: string[] = [];\r\n\r\n            for (let c of _crashes){\r\n                if (addedCrashDocNumbers.indexOf(c.doctnmbr) > -1){\r\n                    continue;\r\n                }\r\n                addedCrashDocNumbers.push(c.doctnmbr);\r\n                crashes.push(c);\r\n            }\r\n\r\n\r\n            this._crashHtmlLookup[itm.key] = crashInfoHelper(crashes);\r\n            this._crashArrayLookup[itm.key] = crashes;\r\n\r\n            for (let c of crashes) {\r\n                if (!(c.lon && c.lat)) {\r\n                    continue;\r\n                }\r\n\r\n                let geom = new ol.geom.Point([c.lon, c.lat] as ol.Coordinate);\r\n\r\n                geom.transform(proj.proj4326, proj.proj3857);\r\n\r\n                let p = new ol.Feature(geom);\r\n                c['injSvr'] = c['injSvr'] || 'O';\r\n                p.setProperties(c);\r\n                this.pointCrashes.source.addFeature(p);\r\n            }\r\n        }\r\n\r\n        // flash a crashes loaded message\r\n        let $crashesLoadMsg = $('.crashes-loaded-msg');\r\n\r\n        if ($crashesLoadMsg) {\r\n            $crashesLoadMsg.fadeIn();\r\n\r\n            setTimeout(()=> {\r\n                $crashesLoadMsg.fadeOut();\r\n            }, 4000);\r\n        } else {\r\n            console.log('get crashes message element not found');\r\n        }\r\n    }\r\n\r\n    getCrashSummary(pdp: string|number) {\r\n        let summ = this._crashHtmlLookup[pdp.toString()];\r\n        return summ || '';\r\n    }\r\n}\r\n\r\nexport default new CrashData();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/crashData.ts","/**\r\n * Created by gavorhes on 7/15/2016.\r\n */\r\nimport filterMmFlag from '../filters/filterMmFlag';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport * as constants from '../constants';\r\nimport DeficiencyBase from './_DeficiencyBase';\r\nimport ol = require('custom-ol');\r\n\r\n\r\n/**\r\n *\r\n * @param {ol.Feature} feature - the input feature\r\n * @returns {Array<ol.style.Style>|null} - return style or null\r\n */\r\nconst mmFlagStyle = (feature: ol.Feature): Array<ol.style.Style> => {\r\n    \"use strict\";\r\n    return null;\r\n\r\n    // let props = feature.getProperties();\r\n    //\r\n    // let txtFunc = () => {\r\n    //     return new ol.style.Text(\r\n    //         {\r\n    //             text: props['mmId'],\r\n    //             scale: 1.5,\r\n    //             stroke: new ol.style.Stroke({\r\n    //                 color: 'black',\r\n    //                 width: 2\r\n    //             }),\r\n    //             fill: new ol.style.Fill({\r\n    //                 color: constants.mmFlagColor\r\n    //             })\r\n    //         }\r\n    //     );\r\n    //\r\n    // };\r\n    //\r\n    //\r\n    // if ((props['rateFlag'] >= 1 && filterMmFlag.mmRateFlagOn) || props['kabCrshFlag'] >= 1 && filterMmFlag.mmKabFlagOn) {\r\n    //     return [new ol.style.Style({\r\n    //         stroke: new ol.style.Stroke({\r\n    //             color: constants.mmFlagColor,\r\n    //             width: 6\r\n    //         }),\r\n    //         text: txtFunc()\r\n    //     })];\r\n    // } else {\r\n    //     return null;\r\n    // }\r\n};\r\n\r\n\r\n\r\nexport class MmFlags extends DeficiencyBase {\r\n    constructor() {\r\n        super(\"Safety Flags\", mmFlagStyle, 200, constants.mmFlagListId);\r\n    }\r\n\r\n    /**\r\n     * initialize with the map\r\n     * @param {ol.Map} m - the ol map\r\n     */\r\n    init(m: ol.Map) {\r\n        super.init(m);\r\n\r\n        filterMmFlag.addChangeCallback(() => {\r\n            this.deficiencyLayer.refresh();\r\n        });\r\n\r\n        mapPopup.addVectorPopup(this.deficiencyLayer, (props) => {\r\n\r\n            let rates = [];\r\n\r\n            if (props['rateFlag'] != null){\r\n                rates.push(`Rate Flag: ${props['rateFlag'].toFixed(4)}`);\r\n            }\r\n\r\n            if (props['kabCrshFlag'] != null){\r\n                rates.push(`KAB Flag: ${props['kabCrshFlag'].toFixed(4)}`);\r\n            }\r\n\r\n            return `MM ID: ${props['mmId']}<br/>${rates.join('<br>')}`;\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Corridor} c - the corridor to be added\r\n     */\r\n    addCorridor(c) {\r\n        let feats = c.layer.source.getFeatures();\r\n\r\n\r\n        for (let f of feats) {\r\n            let props = f.getProperties();\r\n\r\n            let triggerRateFlag = props['rateFlag'] >= 1;\r\n            let triggerKabFlag =props['kabCrshFlag'] >= 1;\r\n\r\n            if (props['rateFlag'] >= 1 || props['kabCrshFlag'] >= 1) {\r\n\r\n                this.deficiencyLayer.source.addFeature(f);\r\n\r\n                f.setProperties({mmId: `${props['pdpId']}`});\r\n                let appendHtml = `<b>${props['pdpId']}</b>:&nbsp;`;\r\n                let flags = [];\r\n                if (triggerRateFlag) {\r\n                    flags.push('Crash Rate');\r\n                }\r\n                if (triggerKabFlag) {\r\n                    flags.push('KAB');\r\n                }\r\n\r\n                appendHtml += flags.join(', ');\r\n                this.$summaryList.append(`<li ${constants.pdpDataAttr}=\"${props['pdpId']}\">${appendHtml}</li>`);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default new MmFlags();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/mmFlags.ts","/**\r\n * Created by gavorhes on 5/17/2016.\r\n */\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nconst nm = provide('ssa');\r\n\r\nexport const countyLookup = {\r\n    \"1\": \"Adams\",\r\n    \"2\": \"Ashland\",\r\n    \"3\": \"Barron\",\r\n    \"4\": \"Bayfield\",\r\n    \"5\": \"Brown\",\r\n    \"6\": \"Buffalo\",\r\n    \"7\": \"Burnett\",\r\n    \"8\": \"Calumet\",\r\n    \"9\": \"Chippewa\",\r\n    \"10\": \"Clark\",\r\n    \"11\": \"Columbia\",\r\n    \"12\": \"Crawford\",\r\n    \"13\": \"Dane\",\r\n    \"14\": \"Dodge\",\r\n    \"15\": \"Door\",\r\n    \"16\": \"Douglas\",\r\n    \"17\": \"Dunn\",\r\n    \"18\": \"Eau Claire\",\r\n    \"19\": \"Florence\",\r\n    \"20\": \"Fond du Lac\",\r\n    \"21\": \"Forest\",\r\n    \"22\": \"Grant\",\r\n    \"23\": \"Green\",\r\n    \"24\": \"Green Lake\",\r\n    \"25\": \"Iowa\",\r\n    \"26\": \"Iron\",\r\n    \"27\": \"Jackson\",\r\n    \"28\": \"Jefferson\",\r\n    \"29\": \"Juneau\",\r\n    \"30\": \"Kenosha\",\r\n    \"31\": \"Kewaunee\",\r\n    \"32\": \"La Crosse\",\r\n    \"33\": \"Lafayette\",\r\n    \"34\": \"Langlade\",\r\n    \"35\": \"Lincoln\",\r\n    \"36\": \"Manitowoc\",\r\n    \"37\": \"Marathon\",\r\n    \"38\": \"Marinette\",\r\n    \"39\": \"Marquette\",\r\n    \"40\": \"Milwaukee\",\r\n    \"41\": \"Monroe\",\r\n    \"42\": \"Oconto\",\r\n    \"43\": \"Oneida\",\r\n    \"44\": \"Outagamie\",\r\n    \"45\": \"Ozaukee\",\r\n    \"46\": \"Pepin\",\r\n    \"47\": \"Pierce\",\r\n    \"48\": \"Polk\",\r\n    \"49\": \"Portage\",\r\n    \"50\": \"Price\",\r\n    \"51\": \"Racine\",\r\n    \"52\": \"Richland\",\r\n    \"53\": \"Rock\",\r\n    \"54\": \"Rusk\",\r\n    \"55\": \"Saint Croix\",\r\n    \"56\": \"Sauk\",\r\n    \"57\": \"Sawyer\",\r\n    \"58\": \"Shawano\",\r\n    \"59\": \"Sheboygan\",\r\n    \"60\": \"Taylor\",\r\n    \"61\": \"Trempealeau\",\r\n    \"62\": \"Vernon\",\r\n    \"63\": \"Vilas\",\r\n    \"64\": \"Walworth\",\r\n    \"65\": \"Washburn\",\r\n    \"66\": \"Washington\",\r\n    \"67\": \"Waukesha\",\r\n    \"68\": \"Waupaca\",\r\n    \"69\": \"Waushara\",\r\n    \"70\": \"Winnebago\",\r\n    \"71\": \"Wood\",\r\n    \"73\": \"Menominee\"\r\n};\r\n\r\nnm.countyLookup = countyLookup;\r\n\r\n/**\r\n * \r\n * @param {string|number} countyId\r\n * @returns {string}\r\n */\r\nexport function getCountyById(countyId){\r\n    \"use strict\";\r\n    \r\n    if (typeof countyId == 'number'){\r\n        countyId = countyId.toFixed();\r\n    }\r\n    \r\n    return countyLookup[countyId];\r\n}\r\n\r\nnm.getCountyById = getCountyById;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/countyLookup.ts","/**\r\n * Created by gavorhes on 5/13/2016.\r\n */\r\n\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nimport SortedFeatures from 'webmapsjs/dist/olHelpers/SortedFeatures';\r\nimport LayerBaseVectorGeoJson from 'webmapsjs/dist/layers/LayerBaseVectorGeoJson';\r\nimport mapPopup from 'webmapsjs/dist/olHelpers/mapPopup';\r\nimport SelectBoxBase from 'webmapsjs/dist/domUtil/SelectBoxBase';\r\nimport Ajx from '../ajaxGetters';\r\nimport * as layerStyles from '../layerStyles';\r\nimport {zoomToResolution} from 'webmapsjs/dist/olHelpers/zoomResolutionConvert';\r\nimport {proj3857} from 'webmapsjs/dist/olHelpers/projections';\r\n\r\nimport PickerCollection from \"../collections/PickerCollection\";\r\nimport $ = require('jquery');\r\nimport ol = require('custom-ol');\r\n\r\nconst nm = provide('ssa.select');\r\n\r\n\r\nexport class SegmentPicker extends SelectBoxBase {\r\n    _isFrom: boolean;\r\n    _selectedPdpId: number;\r\n    _sortedFeatures: SortedFeatures;\r\n    _segmentLayer: LayerBaseVectorGeoJson;\r\n    _segNodeLayer: LayerBaseVectorGeoJson;\r\n    _segmentSelectionLayer: LayerBaseVectorGeoJson;\r\n    _selectBtnClass: string;\r\n    _selectBtnClassTo: string;\r\n    _pickerColl: PickerCollection;\r\n    _enabled: boolean;\r\n    _layersVisible: boolean;\r\n\r\n    /**\r\n     *\r\n     * @param {PickerCollection} pickerColl - picker collection\r\n     * @param {boolean} isFrom - is this the start (from) picker\r\n     */\r\n    constructor(pickerColl, isFrom) {\r\n\r\n\r\n        function contentGen(guid) {\r\n            let outString = '';\r\n            outString += `<div style=\"position: relative;\" class=\"select-picker-map-container\">`;\r\n            outString += `<select id=\"${guid}\"></select>`;\r\n            outString += `</div>`;\r\n\r\n            return outString;\r\n        }\r\n\r\n        super(pickerColl.$innerContainer, isFrom ? 'Ref. Point #1' : 'Ref. Point #2', contentGen);\r\n        this._isFrom = isFrom;\r\n        this._pickerColl = pickerColl;\r\n\r\n        /**\r\n         *\r\n         * @type {number|undefined}\r\n         * @private\r\n         */\r\n        this._selectedPdpId = undefined;\r\n\r\n        this.addChangeListener((v) => {\r\n            this.selectedPdpId = parseInt(v);\r\n        });\r\n\r\n        this._box.keyup(() => {\r\n            if (this.selectedPdpId != parseInt(this.selectedValue.toString())) {\r\n                this._box.trigger('change');\r\n            }\r\n        });\r\n\r\n        /**\r\n         *\r\n         * @type {SortedFeatures|undefined}\r\n         * @private\r\n         */\r\n        this._sortedFeatures = undefined;\r\n\r\n        /**\r\n         *\r\n         * @type {LayerBaseVectorGeoJson}\r\n         * @protected\r\n         */\r\n        this._segmentLayer = new LayerBaseVectorGeoJson('',\r\n            {\r\n                minZoom: 6,\r\n                name: this._isFrom ? 'Start Segment' : 'End Segment',\r\n                transform: {dataProjection: proj3857, featureProjection: proj3857},\r\n                style: layerStyles.segmentLayer,\r\n                visible: false\r\n            }\r\n        );\r\n\r\n        this._segNodeLayer = new LayerBaseVectorGeoJson('', {\r\n            style: layerStyles.segNodeStyle,\r\n            minZoom: 11,\r\n            visible: false\r\n        });\r\n\r\n\r\n        /**\r\n         *\r\n         * @type {LayerBaseVectorGeoJson}\r\n         * @private\r\n         */\r\n        this._segmentSelectionLayer = new LayerBaseVectorGeoJson('', {\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke(\r\n                    {\r\n                        color: this._isFrom ? layerStyles.fromSelectionColor : layerStyles.toSelectionColor,\r\n                        width: 8\r\n                    }\r\n                )\r\n            }),\r\n            minZoom: 6,\r\n            visible: false,\r\n            zIndex: this._isFrom ? 100 : 101\r\n        });\r\n\r\n        this._selectBtnClass = this._isFrom ? \"select-seg-btn-from\" : \"select-seg-btn-to\";\r\n        this._selectBtnClassTo = 'select-seg-btn-to';\r\n\r\n        mapPopup.addVectorPopup(this._segmentLayer, (props) => {\r\n            console.log(props);\r\n\r\n            let returnHtml = '<table class=\"mm-popup-table\">';\r\n            returnHtml += `<tr><td>PdpId</td><td>${props['pdpId']}</td>;`;\r\n            returnHtml += `<td rowspan=\"5\">`;\r\n            if (this._pickerColl.startEndCountySame) {\r\n                returnHtml += `<input type=\"button\" id='${props['pdpId']}' class=\"${this._selectBtnClass}\" value=\"Select Start\"/>`;\r\n                returnHtml += `<input type=\"button\" id='${props['pdpId']}' class=\"${this._selectBtnClassTo}\" value=\"Select End\"/>`;\r\n            } else {\r\n                returnHtml += `<input type=\"button\" id='${props['pdpId']}' class=\"${this._selectBtnClass}\" value=\"Select\"/>`;\r\n            }\r\n            returnHtml += `</td></tr>`;\r\n            returnHtml += `<tr><td>Hwy</td><td>${props['stdName']}</td></tr>`;\r\n            returnHtml += `<tr><td>DivUnd</td><td>${props['divUnd']}</td></tr>`;\r\n            returnHtml += `<tr><td>From</td><td>${props['startRp']}</td></tr>`;\r\n            returnHtml += `<tr><td>To</td><td>${props['endRp']}</td></tr>`;\r\n            returnHtml += '</table>';\r\n\r\n            return returnHtml;\r\n        });\r\n\r\n\r\n        // add the popup change function to find the select button\r\n        mapPopup.addPopupChangedFunction(() => {\r\n            let selectButton = $(`.${this._selectBtnClass}`);\r\n            if (selectButton.length > 0) {\r\n                let __this = this;\r\n                selectButton.click(function () {\r\n                    __this.selectedPdpId = this['id'];\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        this._enabled = false;\r\n        this._layersVisible = false;\r\n\r\n        this._box.click((evt) => {\r\n            evt.stopPropagation();\r\n        });\r\n\r\n        this._box.parent('div').click(() => {\r\n            if (this._sortedFeatures == null){\r\n                return;\r\n            }\r\n\r\n            let selectedFeature = this._sortedFeatures.getFeature(this.selectedPdpId) as ol.Feature;\r\n\r\n            if (selectedFeature == null){\r\n                return;\r\n            }\r\n\r\n            mapPopup.map.getView().fit(selectedFeature.getGeometry().getExtent(), mapPopup.map.getSize());\r\n            mapPopup.map.getView().setZoom(mapPopup.map.getView().getZoom() - 2);\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * @param {Array<object>} arr - array of returned objects, implementation defined in derived classes\r\n     */\r\n    _processAjaxResult(arr) {\r\n\r\n        arr.sort((a, b) => {\r\n            let c = this._isFrom ? a['properties']['startRp'] : a['properties']['endRp'];\r\n            let d = this._isFrom ? b['properties']['startRp'] : b['properties']['endRp'];\r\n\r\n            if (c == d) {\r\n                return 0;\r\n            }\r\n\r\n            return c < d ? -1 : 1;\r\n        });\r\n\r\n        for (let feat of arr) {\r\n            let props = feat['properties'];\r\n            if (this._isFrom) {\r\n                this._box.append(`<option value=\"${props['pdpId']}\">${props['startRp']}</option>`);\r\n\r\n            } else {\r\n                this._box.append(`<option value=\"${props['pdpId']}\">${props['endRp']}</option>`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string|number} county - county id as string or number\r\n     * @param {string|number|null} rteId - routeId\r\n     * @param {number|undefined} [pdpId=undefined] - the pdp id to be set on load\r\n     */\r\n    setCountyAndRoute(county: string|number, rteId: string|number, pdpId?: number) {\r\n        pdpId = typeof pdpId == 'number' ? pdpId : undefined;\r\n\r\n        this.selectedPdpId = undefined;\r\n        this._box.html('');\r\n        this._box.addClass('refresh').removeClass('refresh');\r\n\r\n        if (mapPopup) {\r\n            mapPopup.closePopup();\r\n        }\r\n\r\n        if (typeof county == 'string') {\r\n            county = parseInt(county as string);\r\n        }\r\n\r\n        if (rteId == null) {\r\n            this.enabled = false;\r\n\r\n            return;\r\n        }\r\n\r\n        if (typeof rteId == 'string') {\r\n            rteId = parseInt(rteId as string);\r\n        }\r\n\r\n        Ajx.getSegments(county as number, rteId, (d) => {\r\n                this._segmentLayer.clear();\r\n                this._segNodeLayer.clear();\r\n                this._processAjaxResult(d['features']);\r\n\r\n                if (d['features'].length > 0) {\r\n                    this.enabled = true;\r\n                    this._segmentLayer.addFeatures(d);\r\n                    let feats = this._segmentLayer.source.getFeatures();\r\n                    this._sortedFeatures = new SortedFeatures(feats, 'pdpId');\r\n                    this._setExtent();\r\n\r\n                    if (typeof pdpId == 'number') {\r\n                        // this._box.val(pdpId.toFixed());\r\n                        this.selectedPdpId = pdpId;\r\n                    } else {\r\n                        this._box.trigger('change');\r\n                    }\r\n\r\n                    for (let i = 0; i < feats.length; i++) {\r\n                        let coords = feats[i].getGeometry()['getCoordinates']();\r\n                        if (coords.length > 0) {\r\n                            let startPoint = new ol.geom.Point(coords[0]);\r\n                            let endPoint = new ol.geom.Point(coords[coords.length - 1]);\r\n                            this._segNodeLayer.source.addFeature(new ol.Feature(startPoint));\r\n                            this._segNodeLayer.source.addFeature(new ol.Feature(endPoint));\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.enabled = false;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    _setExtent() {\r\n\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean} if enabled\r\n     */\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {boolean} isEnabled - is enabled\r\n     * @private\r\n     */\r\n    set enabled(isEnabled) {\r\n        this._enabled = isEnabled;\r\n        this._box.prop('disabled', !isEnabled);\r\n    }\r\n\r\n    get layersVisible() {\r\n        return this._layersVisible;\r\n    }\r\n\r\n    set layersVisible(lyrsVisible) {\r\n        this._layersVisible = lyrsVisible;\r\n        if (this._isFrom) {\r\n            this.segmentLayer.visible = this.layersVisible;\r\n            this._segNodeLayer.visible = this.layersVisible;\r\n        } else {\r\n            this.segmentLayer.visible = this.layersVisible && !this._pickerColl.startEndCountySame;\r\n            this._segNodeLayer.visible = this.layersVisible && !this._pickerColl.startEndCountySame;\r\n        }\r\n\r\n        this.selectionLayer.visible = this.layersVisible;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {number|undefined} selected id\r\n     */\r\n    get selectedPdpId() {\r\n        return this._selectedPdpId;\r\n    }\r\n\r\n    /**\r\n     * set the currently selected pdp id\r\n     * @param {number|undefined} newId - new selected id\r\n     */\r\n    set selectedPdpId(newId) {\r\n        if (mapPopup) {\r\n            mapPopup.closePopup();\r\n        }\r\n\r\n        if (typeof newId == 'string') {\r\n            newId = parseInt(newId);\r\n        }\r\n\r\n        if (newId == this._selectedPdpId) {\r\n            return;\r\n        }\r\n\r\n        this._selectedPdpId = newId;\r\n        this.selectionLayer.source.clear();\r\n\r\n        if (this._selectedPdpId != undefined) {\r\n            this._box.val(this.selectedPdpId);\r\n            let selectedFeature = this._sortedFeatures.getFeature(this.selectedPdpId);\r\n\r\n            this.selectionLayer.source.addFeature(selectedFeature);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._box.html('');\r\n        this.selectedPdpId = undefined;\r\n    }\r\n\r\n    /**\r\n     * get the segment layer with the mm segments in the county and route id\r\n     * @returns {LayerBaseVectorGeoJson} - the segment layer\r\n     */\r\n    get segmentLayer() {\r\n        return this._segmentLayer;\r\n    }\r\n\r\n    /**\r\n     * get the selection hayer\r\n     * @returns {LayerBaseVectorGeoJson} the selection layer for this picker\r\n     */\r\n    get selectionLayer() {\r\n        return this._segmentSelectionLayer;\r\n    }\r\n}\r\n\r\nnm.SegmentPicker = SegmentPicker;\r\nexport default SegmentPicker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectBox/SegmentPicker.ts","/**\r\n * Created by gavorhes on 6/14/2016.\r\n */\r\n\r\n\r\nimport SelectBoxBase from 'webmapsjs/dist/domUtil/SelectBoxBase';\r\nimport Ajx from '../ajaxGetters';\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nconst nm = provide('ssa.select');\r\n\r\nexport class SelectCounty extends SelectBoxBase{\r\n\r\n    /**\r\n     *\r\n     * @param {jQuery} parent\r\n     * @param {string} labelContent\r\n     */\r\n    constructor(parent, labelContent) {\r\n        super(parent, labelContent);\r\n\r\n        Ajx.getAllCounties((d) => {\r\n            for (let c of d) {\r\n                this.box.append(`<option value=\"${c['id']}\" ${c['primary'] ? 'selected' : ''}>${c['name']}</option>`)\r\n            }\r\n            this.box.trigger('change');\r\n        });\r\n    }\r\n}\r\n\r\nnm.SelectStartCounty = SelectCounty;\r\nexport default SelectCounty;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectBox/SelectCounty.ts","/**\r\n * Created by gavorhes on 5/12/2016.\r\n */\r\n\r\nimport SelectBoxBase from 'webmapsjs/dist/domUtil/SelectBoxBase';\r\nimport Ajx from '../ajaxGetters';\r\nimport provide from 'webmapsjs/dist/util/provide';\r\nconst nm = provide('ssa.select');\r\n\r\nexport class SelectHighway extends SelectBoxBase {\r\n\r\n    /**\r\n     *\r\n     * @param {jQuery} parent - parent element\r\n     */\r\n    constructor(parent) {\r\n        super(parent, \"Highway\");\r\n    }\r\n\r\n    // /**\r\n    //  *\r\n    //  * @param {number} countyId - county id\r\n    //  * @param {string|undefined} [hwy=undefined] - route id for initial selection\r\n    //  */\r\n    // setStartCounty(countyId, hwy) {\r\n    //     hwy = typeof hwy == 'string' ? hwy : undefined;\r\n    //     this.box.html('');\r\n    //     this.box.addClass('refresh').removeClass('refresh');\r\n    //\r\n    //     Ajx.getHighways(countyId, (d) => {\r\n    //         \"use strict\";\r\n    //\r\n    //         for (let h of d) {\r\n    //             this.box.append(`<option>${h['name']}</option>`);\r\n    //         }\r\n    //         if (d) {\r\n    //             if (hwy) {\r\n    //                 this.box.val(hwy);\r\n    //             } else {\r\n    //                 this.box.trigger('change');\r\n    //\r\n    //             }\r\n    //         }\r\n    //     });\r\n    // }\r\n\r\n    /**\r\n     *\r\n     * @param {number|string|null} startId - start county id\r\n     * @param {number|string|null} endId - end county id\r\n     * @param {number|string|null} [routeId=undefined] - route id for selection\r\n     * @param {boolean} [forceTrigger=false] - force change trigger to populate the rp pickers\r\n     */\r\n    setStartEndCounty(startId: number|string, endId: number|string, routeId?: number|string, forceTrigger = false) {\r\n\r\n        forceTrigger = typeof forceTrigger == 'boolean' ? forceTrigger : false;\r\n\r\n        if (startId == null || startId == undefined || endId == null) {\r\n            return;\r\n        }\r\n\r\n        if (typeof routeId == 'number'){\r\n            routeId = (routeId as number).toFixed();\r\n        }\r\n        \r\n        this.box.html('');\r\n        this.box.addClass('refresh').removeClass('refresh');\r\n\r\n        if (typeof startId == 'string') {\r\n            startId = parseInt(startId as string);\r\n        }\r\n\r\n        if (typeof endId == 'string') {\r\n            endId = parseInt(endId as string);\r\n        }\r\n\r\n        if (typeof routeId == 'string') {\r\n            routeId = parseInt(routeId as string);\r\n        }\r\n\r\n        Ajx.getHwyByStartEndCounty(startId as number, endId as number, (d) => {\r\n            if (d.length > 0) {\r\n\r\n                d.sort((a, b) => {\r\n                    let aName = a['name'];\r\n                    let bName = b['name'];\r\n\r\n                    if (aName == bName) {\r\n                        return 0;\r\n                    } else {\r\n                        return aName > bName ? 1 : -1;\r\n                    }\r\n                });\r\n                \r\n                for (let c of d) {\r\n                    this.box.append(`<option value=\"${c['id']}\" ${c['primary'] ? 'selected' : ''}>${c['name']}</option>`);\r\n                }\r\n\r\n                if (routeId) {\r\n                    this.box.val((routeId as number).toFixed());\r\n                }\r\n\r\n                if (!routeId || forceTrigger) {\r\n                    this.box.trigger('change');\r\n                }\r\n\r\n                this.box.prop('disabled', false);\r\n            } else {\r\n                this.box.prop('disabled', true);\r\n                this.box.trigger('change');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nnm.SelectHighway = SelectHighway;\r\nexport default SelectHighway;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/selectBox/SelectHighway.ts","/**\r\n * Created by gavorhes on 10/4/2016.\r\n */\r\nimport {SsaMapCreate} from './SsaMapCreate';\r\nimport {SsaMapView} from './SsaMapView';\r\n\r\ndeclare const glob;\r\n\r\nwindow['SsaMapCreate'] = SsaMapCreate;\r\nwindow['SsaMapView'] = SsaMapView;\r\n\r\ntry {\r\n    glob['SsaMapCreate'] = SsaMapCreate;\r\n    glob['SsaMapView'] = SsaMapView;\r\n}\r\ncatch (ex) {\r\n    let glob = {};\r\n    glob['SsaMapCreate'] = SsaMapCreate;\r\n    glob['SsaMapView'] = SsaMapView;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ssaApps.ts"],"sourceRoot":""}